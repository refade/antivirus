//tealium universal tag - utag.loader ut4.0.201709011106, Copyright 2017 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_divisadero_analiticaweb=(\/\/tags\.tiqcdn\.com\/utag\/divisadero\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/divisadero/analiticaweb/prod/';}}})();}catch(e){};try{window.TagManager=function(settings){var _self=this;var debug=false;_self.setDebug=function(debugConfig){if(debugConfig){if(typeof debugConfig=="function"){debugConfig=debugConfig.call(_self);var errorMessage="Error[setDebug] the function used as a parameter of setDebug must return a boolean";}
if(typeof debugConfig=="boolean"){debug=debugConfig;}else{var errorMessage=errorMessage||"Error[setDebug] the parameter of the setDebug function must be a function or a boolean";_self.error(errorMessage);}}
else{_self.error("Error[setDebug] while setting the variable debug. You must insert a parameter (the type of the parameter should be a boolean or a function returning a boolean)");}}
_self.getDebug=function(){return debug;}
var initHerarchy=function(){_self.events={};_self.data={};_self.types={};_self.utils={};_self.settings={data:[],utils:[],events:[],types:[]};_self.obligatoryData={dataReference:[],dataLeft:0};};var settingsElementsParser=function(elementType,element){var elementTypes=[{typeName:'events',typeParser:_self.addEvent,varType:"Array"},{typeName:'data',typeParser:_self.addData,varType:"Array"},{typeName:'types',typeParser:_self.addType,varType:"Array"},{typeName:'utils',typeParser:_self.addUtil,varType:"Array"},{typeName:'debug',typeParser:_self.setDebug,varType:"Boolean"}];elementType=_self.utils.find(elementTypes,{typeName:elementType});if(elementType){if(elementType.varType=="Array"){if(element.constructor===Array){element.forEach(function(component,index){try{elementType.typeParser(component);}catch(e){_self.error(e,"Error[private:settingsElementsParser] while parsing the list of "+elementType.typeName+". Error produce in the element:"+index);}});}else{_self.error("Error[private:settingsElementsParser] the "+elementType.typeName+" type must be an array.");}}else{elementType.typeParser(element);}}else{_self.error("Error[private:settingsElementsParser] The elementType passed in does not match any of the defined ones.");}}
initHerarchy();_self.utils.isEmptyObject=function(obj){try{for(var prop in obj){if(obj.hasOwnProperty(prop))
return false;}}catch(e){_self.error(e,"Error[utils.isEmptyObject] while checking is the object is empty.");throw new Error('It can\'t be checked if the object is empty or not');}
return true;};_self.utils.find=function(arrayOfObjects,objectToSearch){var result={};try{arrayOfObjects.forEach(function(item){if(Object.keys(objectToSearch).every(function(key){return item[key]==objectToSearch[key];})){result=item;}});}catch(e){_self.error(e,"Error[utils.find] while searching inside the array of objects.");}
return _self.utils.isEmptyObject(result)?false:result;};_self.utils.createVarFromName=function(obj,nameToCheck){if(typeof obj==="object"&&typeof nameToCheck==="string"){var namesArray=nameToCheck.split('.');var isKey=function(obj,keyName){return obj[keyName]?true:false;}
var isObject=function(variable){return(typeof variable==='object');}
var lastAccesedObj=obj;for(var i=0;i<namesArray.length;i++){var isLastElement=false;if(i==namesArray.length-1){isLastElement=true;}
if(isKey(lastAccesedObj,namesArray[i])){if(isObject(lastAccesedObj[namesArray[i]])&&!isLastElement){lastAccesedObj=lastAccesedObj[namesArray[i]];}else{return false;}}else{if(isLastElement){lastAccesedObj[namesArray[i]]="";return function(value){lastAccesedObj[namesArray[i]]=value};}else{lastAccesedObj[namesArray[i]]={};lastAccesedObj=lastAccesedObj[namesArray[i]];}}}}else{_self.error("Error[utils.createVarFromName] The parameters received must be [object, string]");}}
_self.utils.checkExistanceType=function(obj,key,varType){if((obj&&typeof obj==='object')&&(key&&typeof key==='string')&&(varType&&Array.isArray(varType))){var correctType=false;for(var i=0;i<varType.length;i++){if(obj[key]&&typeof obj[key]===varType[i]){correctType=true;}}
return correctType;}else{_self.error("Error[utils.checkExistanceType] The parameters received must be [object, Array, string]");}}
_self.utils.getDataValueFromName=function(dataName){var nameArray=dataName.split('.');var lastAccesedObj=_self.data;for(var i=0;i<nameArray.length;i++){lastAccesedObj=lastAccesedObj[nameArray[i]];if(!lastAccesedObj){return undefined;}}
return lastAccesedObj;}
_self.utils.setDataValueFromName=function(dataName,dataValue){var nameArray=dataName.split('.');var lastAccesedObj=_self.data,arrayIndex;if(nameArray.length>0){for(arrayIndex=0;arrayIndex<nameArray.length-1;arrayIndex++){lastAccesedObj=lastAccesedObj[nameArray[arrayIndex]];if(!lastAccesedObj){return false;}}
lastAccesedObj[nameArray[arrayIndex]]=dataValue;return true;}
return false;}
_self.utils.addObligatoryData=function(dataName){_self.obligatoryData.dataReference.push({name:dataName,filled:false});_self.obligatoryData.dataLeft++;var succesEventName='dataFilled.'+dataName;_self.on(succesEventName,function(){_self.utils.find(_self.obligatoryData.dataReference,{name:dataName}).filled=true;_self.obligatoryData.dataLeft--;if(_self.obligatoryData.dataLeft==0){_self.emit('allDataFilled');}});var errorEventName='dataFilledError.'+dataName;_self.on(errorEventName,function(){_self.utils.find(_self.obligatoryData.dataReference,{name:dataName}).filled="error";_self.obligatoryData.dataLeft--;if(_self.obligatoryData.dataLeft==0){_self.emit('allDataFilled');}});}
_self.utils.pageLoadEvents=function(){var currentDOMState=document.readyState;switch(currentDOMState){case'interactive':_self.emit('ready');document.onreadystatechange=function(){cachedOnReadyStateChange=window.onreadystatechange||function(){};if(document.readyState=="complete"){_self.emit('load');}
return cachedOnReadyStateChange.apply(this,arguments);}
break;case'complete':_self.emit('ready');_self.emit('load');break;default:document.onreadystatechange=function(){cachedOnReadyStateChange=window.onreadystatechange||function(){};if(document.readyState=="interactive"){_self.emit('ready');}
if(document.readyState=="complete"){_self.emit('load');}
return cachedOnReadyStateChange.apply(this,arguments);}
break;}}
_self.utils.isObject=function(variable){return(typeof variable=="object"&&!Array.isArray(variable));}
_self.utils.objectToArray=function(obj){var arrayResult=[];function keyValueAnalyzer(key,value){if(_self.utils.isObject(value)){objAnalyzer(value,key);}else{arrayResult.push([key,value]);}}
function objAnalyzer(objToAnalyze,preName){for(var i in objToAnalyze){var key=i;if(preName){key=preName+'.'+key;}
keyValueAnalyzer(key,objToAnalyze[i]);}}
objAnalyzer(obj);return arrayResult;}
_self.utils.flatten=function(data){var result={};function recurse(cur,prop){if(Object(cur)!==cur){if(Array.isArray(result[prop])){result[prop].push(cur);}else if(result[prop]){var aux=result[prop];result[prop]=[];result[prop].push(aux);result[prop].push(cur);}else result[prop]=cur;}else if(Array.isArray(cur)){for(var i=0,l=cur.length;i<l;i++)
recurse(cur[i],prop);if(l==0)
result[prop]=[];}else{var isEmpty=true;for(var p in cur){isEmpty=false;recurse(cur[p],prop?prop+"."+p:p);}
if(isEmpty&&prop)
result[prop]={};}}
recurse(data,"");return result;}
_self.addData=function(dataInfo){if(dataInfo&&typeof dataInfo==="object"){var dataInfoChecker=function(dataInfo){var obligatoryData=[{key:"name",type:["string"]},{key:"extractor",type:["function"]},{key:"trigger",type:["string","object"]}];for(var i=0;i<obligatoryData.length;i++){if(!_self.utils.checkExistanceType(dataInfo,obligatoryData[i].key,obligatoryData[i].type)){return"Error[addData] The "+obligatoryData[i].key+" of the data must be defined and has to be a "+obligatoryData[i].type+"string";}}
return true;};var dataInfoValid=dataInfoChecker(dataInfo);if(dataInfoValid===true){var nameSetter=_self.utils.createVarFromName(_self.data,dataInfo.name);if(typeof nameSetter==="function"){var dataListenerSetter=function(){try{nameSetter(dataInfo.extractor.apply(_self,arguments));var succesEventName='dataFilled.'+dataInfo.name;_self.emit(succesEventName,_self.utils.getDataValueFromName(dataInfo.name));}catch(e){var errorEventName='dataFilledError.'+dataInfo.name;_self.error(e,"Error[addData] while setting the value");_self.emit(errorEventName);}};if(dataInfo.obligatory){var obligatoryBoolean=typeof dataInfo.obligatory==="function"?dataInfo.obligatory():Boolean(dataInfo.obligatory);if(obligatoryBoolean){_self.utils.addObligatoryData(dataInfo.name);}}
if(!Array.isArray(dataInfo.trigger)){dataInfo.trigger=[dataInfo.trigger];}
for(var i=0;i<dataInfo.trigger.length;i++){if(dataInfo.priority&&dataInfo.priority==="max"){dataInfo.priority=1e20;}
var priorityNumber=parseInt(dataInfo.priority);if(isNaN(priorityNumber)||priorityNumber<0){priorityNumber=0;}
var priorityName="priority-"+priorityNumber;if(!_self.events[dataInfo.trigger[i]]){_self.events[dataInfo.trigger[i]]={};_self.on(dataInfo.trigger[i],(function(i){return function(){var argumentsEmitter=arguments||[];var priorityArray=Object.keys(_self.events[dataInfo.trigger[i]]);priorityArray.sort(function(a,b){var getIndexNumber=function(priorityText){return parseInt(priorityText.replace('priority-',''));};a=getIndexNumber(a);b=getIndexNumber(b);return b-a;});priorityArray.forEach(function(element){var eventName=dataInfo.trigger[i]+'.'+element;var argumentsEmitterPriority=[eventName];for(var j=0;j<argumentsEmitter.length;j++){argumentsEmitterPriority.push(argumentsEmitter[j]);}
_self.emit.apply(_self,argumentsEmitterPriority);});}})(i));}
var eventName=dataInfo.trigger[i]+'.'+priorityName;_self.events[dataInfo.trigger[i]][priorityName]=_self.events[dataInfo.trigger[i]][priorityName]||[];_self.events[dataInfo.trigger[i]][priorityName].push(dataInfo.name);_self.on(eventName,dataListenerSetter);}}else{_self.error("Error[addData] The name specified for the data is not valid:"+dataInfo.name);return;}}else{_self.error(dataInfoValid);return;}}else{_self.error("Error[addData] The function addData must have an object as a parameter. Check documetaion for the object structure.");return;}}
_self.addEvent=function(eventInfo){if(eventInfo&&typeof eventInfo==="object"){var eventInfoChecker=function(eventInfo){var obligatoryData=[{key:"name",type:["string"]},{key:"listener",type:["function"]},{key:"trigger",type:["string","object"]}];for(var i=0;i<obligatoryData.length;i++){if(!_self.utils.checkExistanceType(eventInfo,obligatoryData[i].key,obligatoryData[i].type)){return"Error[addEvent] The "+obligatoryData[i].key+" of the data must be defined and has to be a "+obligatoryData[i].type+"string";}}
return true;};var createDataFromEvent=function(eventInfo){var dataInfoBuilder=function(eventName,paramName,paramIndex){var dataName="events."+eventName+"."+paramName;return{name:dataName,details:"Data auto-generated from the event ["+eventName+"] parameters",extractor:function(){if(typeof arguments!='undefined'){return arguments[paramIndex];}else{return"";}},trigger:eventName,priority:"max"}};if(eventInfo.params){for(var i=0;i<eventInfo.params.length;i++){_self.addData(dataInfoBuilder(eventInfo.name,eventInfo.params[i],i));}}}
var eventInfoValid=eventInfoChecker(eventInfo);if(eventInfoValid===true){createDataFromEvent(eventInfo);if(Array.isArray(eventInfo.trigger)){for(var i=eventInfo.trigger.length-1;i>=0;i--){_self.on(eventInfo.trigger[i],function(){eventInfo.listener.apply(_self,arguments);});}}else{_self.on(eventInfo.trigger,function(){eventInfo.listener.apply(_self,arguments);});}}else{_self.error(eventInfoValid);return;}}else{_self.error("Error[addEvent] The function addEvent must have an object as a parameter. Check documetaion for the object structure.");return;}}
_self.addType=function(typeInfo){if(!typeInfo.name){_self.error("Error[addType] the type object has to have a \"name\" key defined");return;}else if(!typeInfo.class||!typeInfo.class.prototype){_self.error("Error[addType] the type object has to have a \"class\" key with a class (function object) as a value");return;}
_self.type[typeInfo.name]=typeInfo.class;}
_self.addUtil=function(utilInfo){if(!utilInfo.name){_self.error("Error[addUtil] the util object has to have a \"name\" key defined");return;}else if(!utilInfo.util||typeof utilInfo.util!=="function"){_self.error("Error[addUtil] the util object has to have a \"util\" key with a function as a value");return;}
_self.utils[utilInfo.name]=utilInfo.util.bind(_self);}
_self.onMany=function(eventArray,callback){if(eventArray&&Array.isArray(eventArray)){for(var i=eventArray.length-1;i>=0;i--){_self.on(eventArray[i],callback);}}else{_self.error("Error[onMany] the util eventArray has to be an array containing the eventName triggers");}}
_self.log=function(dataToLog){_self.emit('log',dataToLog);if(_self.getDebug()){console.log('------Tag Manager Object------');console.log(dataToLog);console.log('------Tag Manager Object------');}};_self.error=function(error,text){_self.emit('errors',error,text);if(_self.getDebug()){console.log('------Tag Manager Object------');console.error(text);console.error(error);console.log('------Tag Manager Object------');}};_self.clear=function(){initHerarchy();_self.removeAllListeners()};var gtmEventParser=function(dataLayerReference){_self.onAny(function(event){if(dataLayerReference){var eventName=Array.isArray(event)?event.join('.'):event;dataLayerReference.push({'event':eventName});}});}
var tealiumParser=function(tealiumObject){_self.onAny(function(event){var eventName=Array.isArray(event)?event.join('.'):event;if(typeof eventName!='undefined'){if(eventName.indexOf("dataFilled.")>-1){var dataName=eventName.replace("dataFilled.","");var data=_self.utils.getDataValueFromName(dataName);var dataFlattened=_self.utils.flatten(data);for(d in dataFlattened){var fullName=dataName+(d?"."+d:"");_self.log('[tealiumParser]: added to tealium datas: '+fullName+"="+dataFlattened[d]);tealiumObject.data[fullName]=dataFlattened[d];}}}});}
_self.init=function(settings){if(settings){if(settings.gtm){var gtmDatalayer=settings.gtmDatalayer||window.dataLayer;gtmEventParser(gtmDatalayer);}
if(settings.tealium){var tealiumObject=settings.tealiumObject||window.utag;tealiumParser(tealiumObject);}
if(settings.types){settingsElementsParser('types',settings.types);}
if(settings.utils){settingsElementsParser('utils',settings.utils);}
if(settings.data){settingsElementsParser('data',settings.data);_self.emit('preloader');}
if(settings.debug){settingsElementsParser('debug',settings.debug);}
if(settings.events){settingsElementsParser('events',settings.events);}
_self.utils.pageLoadEvents();}};_self.init(settings);};!function(e){function t(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function i(e){this._events={},this.newListener=!1,s.call(this,e)}function n(e,t,s,i){if(!s)return[];var r,l,a,h,o,c,f,u=[],p=t.length,_=t[i],v=t[i+1];if(i===p&&s._listeners){if("function"==typeof s._listeners)return e&&e.push(s._listeners),[s];for(r=0,l=s._listeners.length;l>r;r++)e&&e.push(s._listeners[r]);return[s]}if("*"===_||"**"===_||s[_]){if("*"===_){for(a in s)"_listeners"!==a&&s.hasOwnProperty(a)&&(u=u.concat(n(e,t,s[a],i+1)));return u}if("**"===_){f=i+1===p||i+2===p&&"*"===v,f&&s._listeners&&(u=u.concat(n(e,t,s,p)));for(a in s)"_listeners"!==a&&s.hasOwnProperty(a)&&("*"===a||"**"===a?(s[a]._listeners&&!f&&(u=u.concat(n(e,t,s[a],p))),u=u.concat(n(e,t,s[a],i))):u=a===v?u.concat(n(e,t,s[a],i+2)):u.concat(n(e,t,s[a],i)));return u}u=u.concat(n(e,t,s[_],i+1))}if(h=s["*"],h&&n(e,t,h,i+1),o=s["**"])if(p>i){o._listeners&&n(e,t,o,p);for(a in o)"_listeners"!==a&&o.hasOwnProperty(a)&&(a===v?n(e,t,o[a],i+2):a===_?n(e,t,o[a],i+1):(c={},c[a]=o[a],n(e,t,{"**":c},i+1)))}else o._listeners?n(e,t,o,p):o["*"]&&o["*"]._listeners&&n(e,t,o["*"],p);return u}function r(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var s=0,i=e.length;i>s+1;s++)if("**"===e[s]&&"**"===e[s+1])return;for(var n=this.listenerTree,r=e.shift();r;){if(n[r]||(n[r]={}),n=n[r],0===e.length){if(n._listeners){if("function"==typeof n._listeners)n._listeners=[n._listeners,t];else if(l(n._listeners)&&(n._listeners.push(t),!n._listeners.warned)){var h=a;"undefined"!=typeof this._events.maxListeners&&(h=this._events.maxListeners),h>0&&n._listeners.length>h&&(n._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",n._listeners.length),console.trace&&console.trace())}}else n._listeners=t;return!0}r=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=10;i.EventEmitter2=i,i.prototype.delimiter=".",i.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},i.prototype.event="",i.prototype.once=function(e,t){return this.many(e,1,t),this},i.prototype.many=function(e,t,s){function i(){0===--t&&n.off(e,i),s.apply(this,arguments)}var n=this;if("function"!=typeof s)throw new Error("many only accepts instances of Function");return i._origin=s,this.on(e,i),n},i.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var s,i,r,l,a,h=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),h>3)for(s=new Array(h),l=1;h>l;l++)s[l]=arguments[l];for(r=0,i=a.length;i>r;r++)switch(this.event=e,h){case 1:a[r].call(this,e);break;case 2:a[r].call(this,e,arguments[1]);break;case 3:a[r].call(this,e,arguments[1],arguments[2]);break;default:a[r].apply(this,s)}}if(this.wildcard){a=[];var o="string"==typeof e?e.split(this.delimiter):e.slice();n.call(this,a,o,this.listenerTree,0)}else{if(a=this._events[e],"function"==typeof a){switch(this.event=e,h){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(s=new Array(h-1),l=1;h>l;l++)s[l-1]=arguments[l];a.apply(this,s)}return!0}a&&(a=a.slice())}if(a&&a.length){if(h>3)for(s=new Array(h-1),l=1;h>l;l++)s[l-1]=arguments[l];for(r=0,i=a.length;i>r;r++)switch(this.event=e,h){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,s)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},i.prototype.emitAsync=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var s,i,r,l,a,h=[],o=arguments.length;if(this._all){if(o>3)for(s=new Array(o),l=1;o>l;l++)s[l]=arguments[l];for(r=0,i=this._all.length;i>r;r++)switch(this.event=e,o){case 1:h.push(this._all[r].call(this,e));break;case 2:h.push(this._all[r].call(this,e,arguments[1]));break;case 3:h.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:h.push(this._all[r].apply(this,s))}}if(this.wildcard){a=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();n.call(this,a,c,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,o){case 1:h.push(a.call(this));break;case 2:h.push(a.call(this,arguments[1]));break;case 3:h.push(a.call(this,arguments[1],arguments[2]));break;default:for(s=new Array(o-1),l=1;o>l;l++)s[l-1]=arguments[l];h.push(a.apply(this,s))}else if(a&&a.length){if(o>3)for(s=new Array(o-1),l=1;o>l;l++)s[l-1]=arguments[l];for(r=0,i=a.length;i>r;r++)switch(this.event=e,o){case 1:h.push(a[r].call(this));break;case 2:h.push(a[r].call(this,arguments[1]));break;case 3:h.push(a[r].call(this,arguments[1],arguments[2]));break;default:h.push(a[r].apply(this,s))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},i.prototype.on=function(e,s){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof s)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,s),this.wildcard)return r.call(this,e,s),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],s];else if(l(this._events[e])&&(this._events[e].push(s),!this._events[e].warned)){var i=a;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=s;return this},i.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(t,s){function i(t){if(t!==e){var s=Object.keys(t);for(var n in s){var r=s[n],l=t[r];l instanceof Function||"object"!=typeof l||(Object.keys(l).length>0&&i(t[r]),0===Object.keys(l).length&&delete t[r])}}}if("function"!=typeof s)throw new Error("removeListener only takes instances of Function");var r,a=[];if(this.wildcard){var h="string"==typeof t?t.split(this.delimiter):t.slice();a=n.call(this,null,h,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],a.push({_listeners:r})}for(var o=0;o<a.length;o++){var c=a[o];if(r=c._listeners,l(r)){for(var f=-1,u=0,p=r.length;p>u;u++)if(r[u]===s||r[u].listener&&r[u].listener===s||r[u]._origin&&r[u]._origin===s){f=u;break}if(0>f)continue;return this.wildcard?c._listeners.splice(f,1):this._events[t].splice(f,1),0===r.length&&(this.wildcard?delete c._listeners:delete this._events[t]),this.emit("removeListener",t,s),this}(r===s||r.listener&&r.listener===s||r._origin&&r._origin===s)&&(this.wildcard?delete c._listeners:delete this._events[t],this.emit("removeListener",t,s))}return i(this.listenerTree),this},i.prototype.offAny=function(e){var t,s=0,i=0;if(e&&this._all&&this._all.length>0){for(t=this._all,s=0,i=t.length;i>s;s++)if(e===t[s])return t.splice(s,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,s=0,i=t.length;i>s;s++)this.emit("removeListenerAny",t[s]);this._all=[]}return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var s="string"==typeof e?e.split(this.delimiter):e.slice(),i=n.call(this,null,s,this.listenerTree,0),r=0;r<i.length;r++){var l=i[r];l._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},i.prototype.listeners=function(e){if(this.wildcard){var s=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return n.call(this,s,i,this.listenerTree,0),s}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof exports?module.exports=i:window.EventEmitter2=i}();TagManager.prototype=new EventEmitter2({wildcard:true,delimiter:'.',maxListeners:200});TagManager.prototype.constructor=TagManager;}catch(e){};if(!utag_condload){try{(function(e,t){"use strict";var n="0.7.10",r="",i="?",s="function",o="undefined",u="object",a="string",f="major",l="model",c="name",h="type",p="vendor",d="version",v="architecture",m="console",g="mobile",y="tablet",b="smarttv",w="wearable",E="embedded",S={extend:function(e,t){for(var n in t)"browser cpu device engine os".indexOf(n)!==-1&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return typeof e=="string"?t.toLowerCase().indexOf(e.toLowerCase())!==-1:!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===a?e.split(".")[0]:t}},x={rgx:function(){var e,n=0,r,i,a,f,l,c,h=arguments;while(n<h.length&&!l){var p=h[n],d=h[n+1];if(typeof e===o){e={};for(a in d)d.hasOwnProperty(a)&&(f=d[a],typeof f===u?e[f[0]]=t:e[f]=t)}r=i=0;while(r<p.length&&!l){l=p[r++].exec(this.getUA());if(!!l)for(a=0;a<d.length;a++)c=l[++i],f=d[a],typeof f===u&&f.length>0?f.length==2?typeof f[1]==s?e[f[0]]=f[1].call(this,c):e[f[0]]=f[1]:f.length==3?typeof f[1]===s&&(!f[1].exec||!f[1].test)?e[f[0]]=c?f[1].call(this,c,f[2]):t:e[f[0]]=c?c.replace(f[1],f[2]):t:f.length==4&&(e[f[0]]=c?f[3].call(this,c.replace(f[1],f[2])):t):e[f]=c?c:t}n+=2}return e},str:function(e,n){for(var r in n)if(typeof n[r]===u&&n[r].length>0){for(var s=0;s<n[r].length;s++)if(S.has(n[r][s],e))return r===i?t:r}else if(S.has(n[r],e))return r===i?t:r;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},N={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,d],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[c,d],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],d],[/(edge)\/((\d+)?[\w\.]+)/i],[c,d],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[c,d],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],d],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],d],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],d],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[d,[c,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[d,[c,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[d,[c,"Facebook"]],[/fxios\/([\w\.-]+)/i],[d,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[d,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[d,x.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[v,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,p,[h,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[p,"Apple"],[h,y]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[p,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,l,[h,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[p,"Amazon"],[h,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,x.str,T.device.amazon.model],[p,"Amazon"],[h,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,p,[h,g]],[/\((ip[honed|\s\w*]+);/i],[l,[p,"Apple"],[h,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,l,[h,g]],[/\(bb10;\s(\w+)/i],[l,[p,"BlackBerry"],[h,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[p,"Asus"],[h,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[p,"Sony"],[l,"Xperia Tablet"],[h,y]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[p,"Sony"],[l,"Xperia Phone"],[h,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,l,[h,m]],[/android.+;\s(shield)\sbuild/i],[l,[p,"Nvidia"],[h,m]],[/(playstation\s[34portablevi]+)/i],[l,[p,"Sony"],[h,m]],[/(sprint\s(\w+))/i],[[p,x.str,T.device.sprint.vendor],[l,x.str,T.device.sprint.model],[h,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[p,l,[h,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[l,/_/g," "],[h,g]],[/(nexus\s9)/i],[l,[p,"HTC"],[h,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[p,"Microsoft"],[h,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,"Microsoft"],[h,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[l,[p,"Motorola"],[h,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[p,"Motorola"],[h,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],l,[h,y]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],l,[h,g]],[/(samsung);smarttv/i],[p,l,[h,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[h,b]],[/sie-(\w+)*/i],[l,[p,"Siemens"],[h,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],l,[h,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[p,"Acer"],[h,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],l,[h,y]],[/(lg) netcast\.tv/i],[p,l,[h,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[p,"LG"],[h,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[p,"Lenovo"],[h,y]],[/linux;.+((jolla));/i],[p,l,[h,g]],[/((pebble))app\/[\d\.]+\s/i],[p,l,[h,w]],[/android.+;\s(glass)\s\d/i],[l,[p,"Google"],[h,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[p,"Xiaomi"],[h,g]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[h,S.lowerize],p,l]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]+).*(gecko)/i],[d,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[d,x.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,x.str,T.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],d],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],d],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,d],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,d]]},C=function(t,n){if(this instanceof C){var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:r),s=n?S.extend(N,n):N;return this.getBrowser=function(){var e=x.rgx.apply(this,s.browser);return e.major=S.major(e.version),e},this.getCPU=function(){return x.rgx.apply(this,s.cpu)},this.getDevice=function(){return x.rgx.apply(this,s.device)},this.getEngine=function(){return x.rgx.apply(this,s.engine)},this.getOS=function(){return x.rgx.apply(this,s.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),this}return(new C(t,n)).getResult()};C.VERSION=n,C.BROWSER={NAME:c,MAJOR:f,VERSION:d},C.CPU={ARCHITECTURE:v},C.DEVICE={MODEL:l,VENDOR:p,TYPE:h,CONSOLE:m,MOBILE:g,SMARTTV:b,TABLET:y,WEARABLE:w,EMBEDDED:E},C.ENGINE={NAME:c,VERSION:d},C.OS={NAME:c,VERSION:d},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=C),exports.UAParser=C):typeof define===s&&define.amd?define(function(){return C}):e.UAParser=C;var k=e.jQuery||e.Zepto;if(typeof k!==o){var L=new C;k.ua=L.getResult(),k.ua.get=function(){return L.getUA()},k.ua.set=function(e){L.setUA(e);var t=L.getResult();for(var n in t)k.ua[n]=t[n]}}})(typeof window=="object"?window:this);}catch(e){}};if(!utag_condload){try{(function(name,context,definition){"use strict";if(typeof module!=="undefined"&&module.exports){module.exports=definition();}
else if(typeof define==="function"&&define.amd){define(definition);}
else{context[name]=definition();}})("Fingerprint2",this,function(){"use strict";if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(this==null){throw new TypeError("'this' is null or undefined");}
var O=Object(this);var len=O.length>>>0;if(len===0){return-1;}
var n=+fromIndex||0;if(Math.abs(n)===Infinity){n=0;}
if(n>=len){return-1;}
k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===searchElement){return k;}
k++;}
return-1;};}
var Fingerprint2=function(options){var defaultOptions={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:true,sortPluginsFor:[/palemoon/i]};this.options=this.extend(options,defaultOptions);this.nativeForEach=Array.prototype.forEach;this.nativeMap=Array.prototype.map;};Fingerprint2.prototype={extend:function(source,target){if(source==null){return target;}
for(var k in source){if(source[k]!=null&&target[k]!==source[k]){target[k]=source[k];}}
return target;},log:function(msg){if(window.console){console.log(msg);}},get:function(done){var keys=[];keys=this.userAgentKey(keys);keys=this.languageKey(keys);keys=this.colorDepthKey(keys);keys=this.screenResolutionKey(keys);keys=this.availableScreenResolutionKey(keys);keys=this.timezoneOffsetKey(keys);keys=this.sessionStorageKey(keys);keys=this.localStorageKey(keys);keys=this.indexedDbKey(keys);keys=this.addBehaviorKey(keys);keys=this.openDatabaseKey(keys);keys=this.cpuClassKey(keys);keys=this.platformKey(keys);keys=this.doNotTrackKey(keys);keys=this.pluginsKey(keys);keys=this.canvasKey(keys);keys=this.webglKey(keys);keys=this.adBlockKey(keys);keys=this.hasLiedLanguagesKey(keys);keys=this.hasLiedResolutionKey(keys);keys=this.hasLiedOsKey(keys);keys=this.hasLiedBrowserKey(keys);keys=this.touchSupportKey(keys);var that=this;this.fontsKey(keys,function(newKeys){var values=[];that.each(newKeys,function(pair){var value=pair.value;if(typeof pair.value.join!=="undefined"){value=pair.value.join(";");}
values.push(value);});var murmur=that.x64hash128(values.join("~~~"),31);return done(murmur,newKeys);});},userAgentKey:function(keys){if(!this.options.excludeUserAgent){keys.push({key:"user_agent",value:this.getUserAgent()});}
return keys;},getUserAgent:function(){return navigator.userAgent;},languageKey:function(keys){if(!this.options.excludeLanguage){keys.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""});}
return keys;},colorDepthKey:function(keys){if(!this.options.excludeColorDepth){keys.push({key:"color_depth",value:screen.colorDepth});}
return keys;},screenResolutionKey:function(keys){if(!this.options.excludeScreenResolution){return this.getScreenResolution(keys);}
return keys;},getScreenResolution:function(keys){var resolution;if(this.options.detectScreenOrientation){resolution=(screen.height>screen.width)?[screen.height,screen.width]:[screen.width,screen.height];}else{resolution=[screen.width,screen.height];}
if(typeof resolution!=="undefined"){keys.push({key:"resolution",value:resolution});}
return keys;},availableScreenResolutionKey:function(keys){if(!this.options.excludeAvailableScreenResolution){return this.getAvailableScreenResolution(keys);}
return keys;},getAvailableScreenResolution:function(keys){var available;if(screen.availWidth&&screen.availHeight){if(this.options.detectScreenOrientation){available=(screen.availHeight>screen.availWidth)?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight];}else{available=[screen.availHeight,screen.availWidth];}}
if(typeof available!=="undefined"){keys.push({key:"available_resolution",value:available});}
return keys;},timezoneOffsetKey:function(keys){if(!this.options.excludeTimezoneOffset){keys.push({key:"timezone_offset",value:new Date().getTimezoneOffset()});}
return keys;},sessionStorageKey:function(keys){if(!this.options.excludeSessionStorage&&this.hasSessionStorage()){keys.push({key:"session_storage",value:1});}
return keys;},localStorageKey:function(keys){if(!this.options.excludeSessionStorage&&this.hasLocalStorage()){keys.push({key:"local_storage",value:1});}
return keys;},indexedDbKey:function(keys){if(!this.options.excludeIndexedDB&&this.hasIndexedDB()){keys.push({key:"indexed_db",value:1});}
return keys;},addBehaviorKey:function(keys){if(document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior){keys.push({key:"add_behavior",value:1});}
return keys;},openDatabaseKey:function(keys){if(!this.options.excludeOpenDatabase&&window.openDatabase){keys.push({key:"open_database",value:1});}
return keys;},cpuClassKey:function(keys){if(!this.options.excludeCpuClass){keys.push({key:"cpu_class",value:this.getNavigatorCpuClass()});}
return keys;},platformKey:function(keys){if(!this.options.excludePlatform){keys.push({key:"navigator_platform",value:this.getNavigatorPlatform()});}
return keys;},doNotTrackKey:function(keys){if(!this.options.excludeDoNotTrack){keys.push({key:"do_not_track",value:this.getDoNotTrack()});}
return keys;},canvasKey:function(keys){if(!this.options.excludeCanvas&&this.isCanvasSupported()){keys.push({key:"canvas",value:this.getCanvasFp()});}
return keys;},webglKey:function(keys){if(this.options.excludeWebGL){if(typeof NODEBUG==="undefined"){this.log("Skipping WebGL fingerprinting per excludeWebGL configuration option");}
return keys;}
if(!this.isWebGlSupported()){if(typeof NODEBUG==="undefined"){this.log("Skipping WebGL fingerprinting because it is not supported in this browser");}
return keys;}
keys.push({key:"webgl",value:this.getWebglFp()});return keys;},adBlockKey:function(keys){if(!this.options.excludeAdBlock){keys.push({key:"adblock",value:this.getAdBlock()});}
return keys;},hasLiedLanguagesKey:function(keys){if(!this.options.excludeHasLiedLanguages){keys.push({key:"has_lied_languages",value:this.getHasLiedLanguages()});}
return keys;},hasLiedResolutionKey:function(keys){if(!this.options.excludeHasLiedResolution){keys.push({key:"has_lied_resolution",value:this.getHasLiedResolution()});}
return keys;},hasLiedOsKey:function(keys){if(!this.options.excludeHasLiedOs){keys.push({key:"has_lied_os",value:this.getHasLiedOs()});}
return keys;},hasLiedBrowserKey:function(keys){if(!this.options.excludeHasLiedBrowser){keys.push({key:"has_lied_browser",value:this.getHasLiedBrowser()});}
return keys;},fontsKey:function(keys,done){if(this.options.excludeJsFonts){return this.flashFontsKey(keys,done);}
return this.jsFontsKey(keys,done);},flashFontsKey:function(keys,done){if(this.options.excludeFlashFonts){if(typeof NODEBUG==="undefined"){this.log("Skipping flash fonts detection per excludeFlashFonts configuration option");}
return done(keys);}
if(!this.hasSwfObjectLoaded()){if(typeof NODEBUG==="undefined"){this.log("Swfobject is not detected, Flash fonts enumeration is skipped");}
return done(keys);}
if(!this.hasMinFlashInstalled()){if(typeof NODEBUG==="undefined"){this.log("Flash is not installed, skipping Flash fonts enumeration");}
return done(keys);}
if(typeof this.options.swfPath==="undefined"){if(typeof NODEBUG==="undefined"){this.log("To use Flash fonts detection, you must pass a valid swfPath option, skipping Flash fonts enumeration");}
return done(keys);}
this.loadSwfAndDetectFonts(function(fonts){keys.push({key:"swf_fonts",value:fonts.join(";")});done(keys);});},jsFontsKey:function(keys,done){var that=this;return setTimeout(function(){var baseFonts=["monospace","sans-serif","serif"];var testString="mmmmmmmmmmlli";var testSize="72px";var h=document.getElementsByTagName("body")[0];var s=document.createElement("span");s.style.position="absolute";s.style.left="-9999px";s.style.fontSize=testSize;s.innerHTML=testString;var defaultWidth={};var defaultHeight={};for(var index=0,length=baseFonts.length;index<length;index++){s.style.fontFamily=baseFonts[index];h.appendChild(s);defaultWidth[baseFonts[index]]=s.offsetWidth;defaultHeight[baseFonts[index]]=s.offsetHeight;h.removeChild(s);}
var detect=function(font){var detected=false;for(var index=0,l=baseFonts.length;index<l;index++){s.style.fontFamily=font+","+baseFonts[index];h.appendChild(s);var matched=(s.offsetWidth!==defaultWidth[baseFonts[index]]||s.offsetHeight!==defaultHeight[baseFonts[index]]);h.removeChild(s);detected=detected||matched;}
return detected;};var fontList=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];var extendedFontList=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];if(that.options.extendedJsFonts){fontList=fontList.concat(extendedFontList);}
var available=[];for(var i=0,l=fontList.length;i<l;i++){if(detect(fontList[i])){available.push(fontList[i]);}}
keys.push({key:"js_fonts",value:available});done(keys);},1);},pluginsKey:function(keys){if(!this.options.excludePlugins){if(this.isIE()){if(!this.options.excludeIEPlugins){keys.push({key:"ie_plugins",value:this.getIEPlugins()});}}else{keys.push({key:"regular_plugins",value:this.getRegularPlugins()});}}
return keys;},getRegularPlugins:function(){var plugins=[];for(var i=0,l=navigator.plugins.length;i<l;i++){plugins.push(navigator.plugins[i]);}
if(this.pluginsShouldBeSorted()){plugins=plugins.sort(function(a,b){if(a.name>b.name){return 1;}
if(a.name<b.name){return-1;}
return 0;});}
return this.map(plugins,function(p){var mimeTypes=this.map(p,function(mt){return[mt.type,mt.suffixes].join("~");}).join(",");return[p.name,p.description,mimeTypes].join("::");},this);},getIEPlugins:function(){var result=[];if((Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject"))||("ActiveXObject"in window)){var names=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];result=this.map(names,function(name){try{new ActiveXObject(name);return name;}catch(e){return null;}});}
if(navigator.plugins){result=result.concat(this.getRegularPlugins());}
return result;},pluginsShouldBeSorted:function(){var should=false;for(var i=0,l=this.options.sortPluginsFor.length;i<l;i++){var re=this.options.sortPluginsFor[i];if(navigator.userAgent.match(re)){should=true;break;}}
return should;},touchSupportKey:function(keys){if(!this.options.excludeTouchSupport){keys.push({key:"touch_support",value:this.getTouchSupport()});}
return keys;},hasSessionStorage:function(){try{return!!window.sessionStorage;}catch(e){return true;}},hasLocalStorage:function(){try{return!!window.localStorage;}catch(e){return true;}},hasIndexedDB:function(){return!!window.indexedDB;},getNavigatorCpuClass:function(){if(navigator.cpuClass){return navigator.cpuClass;}else{return"unknown";}},getNavigatorPlatform:function(){if(navigator.platform){return navigator.platform;}else{return"unknown";}},getDoNotTrack:function(){if(navigator.doNotTrack){return navigator.doNotTrack;}else{return"unknown";}},getTouchSupport:function(){var maxTouchPoints=0;var touchEvent=false;if(typeof navigator.maxTouchPoints!=="undefined"){maxTouchPoints=navigator.maxTouchPoints;}else if(typeof navigator.msMaxTouchPoints!=="undefined"){maxTouchPoints=navigator.msMaxTouchPoints;}
try{document.createEvent("TouchEvent");touchEvent=true;}catch(_){}
var touchStart="ontouchstart"in window;return[maxTouchPoints,touchEvent,touchStart];},getCanvasFp:function(){var result=[];var canvas=document.createElement("canvas");canvas.width=2000;canvas.height=200;canvas.style.display="inline";var ctx=canvas.getContext("2d");ctx.rect(0,0,10,10);ctx.rect(2,2,6,6);result.push("canvas winding:"+((ctx.isPointInPath(5,5,"evenodd")===false)?"yes":"no"));ctx.textBaseline="alphabetic";ctx.fillStyle="#f60";ctx.fillRect(125,1,62,20);ctx.fillStyle="#069";if(this.options.dontUseFakeFontInCanvas){ctx.font="11pt Arial";}else{ctx.font="11pt no-real-font-123";}
ctx.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",2,15);ctx.fillStyle="rgba(102, 204, 0, 0.7)";ctx.font="18pt Arial";ctx.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",4,45);ctx.globalCompositeOperation="multiply";ctx.fillStyle="rgb(255,0,255)";ctx.beginPath();ctx.arc(50,50,50,0,Math.PI*2,true);ctx.closePath();ctx.fill();ctx.fillStyle="rgb(0,255,255)";ctx.beginPath();ctx.arc(100,50,50,0,Math.PI*2,true);ctx.closePath();ctx.fill();ctx.fillStyle="rgb(255,255,0)";ctx.beginPath();ctx.arc(75,100,50,0,Math.PI*2,true);ctx.closePath();ctx.fill();ctx.fillStyle="rgb(255,0,255)";ctx.arc(75,75,75,0,Math.PI*2,true);ctx.arc(75,75,25,0,Math.PI*2,true);ctx.fill("evenodd");result.push("canvas fp:"+canvas.toDataURL());return result.join("~");},getWebglFp:function(){var gl;var fa2s=function(fa){gl.clearColor(0.0,0.0,0.0,1.0);gl.enable(gl.DEPTH_TEST);gl.depthFunc(gl.LEQUAL);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);return"["+fa[0]+", "+fa[1]+"]";};var maxAnisotropy=function(gl){var anisotropy,ext=gl.getExtension("EXT_texture_filter_anisotropic")||gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||gl.getExtension("MOZ_EXT_texture_filter_anisotropic");return ext?(anisotropy=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===anisotropy&&(anisotropy=2),anisotropy):null;};gl=this.getWebglCanvas();if(!gl){return null;}
var result=[];var vShaderTemplate="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}";var fShaderTemplate="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}";var vertexPosBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vertexPosBuffer);var vertices=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);vertexPosBuffer.itemSize=3;vertexPosBuffer.numItems=3;var program=gl.createProgram(),vshader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(vshader,vShaderTemplate);gl.compileShader(vshader);var fshader=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(fshader,fShaderTemplate);gl.compileShader(fshader);gl.attachShader(program,vshader);gl.attachShader(program,fshader);gl.linkProgram(program);gl.useProgram(program);program.vertexPosAttrib=gl.getAttribLocation(program,"attrVertex");program.offsetUniform=gl.getUniformLocation(program,"uniformOffset");gl.enableVertexAttribArray(program.vertexPosArray);gl.vertexAttribPointer(program.vertexPosAttrib,vertexPosBuffer.itemSize,gl.FLOAT,!1,0,0);gl.uniform2f(program.offsetUniform,1,1);gl.drawArrays(gl.TRIANGLE_STRIP,0,vertexPosBuffer.numItems);if(gl.canvas!=null){result.push(gl.canvas.toDataURL());}
result.push("extensions:"+gl.getSupportedExtensions().join(";"));result.push("webgl aliased line width range:"+fa2s(gl.getParameter(gl.ALIASED_LINE_WIDTH_RANGE)));result.push("webgl aliased point size range:"+fa2s(gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE)));result.push("webgl alpha bits:"+gl.getParameter(gl.ALPHA_BITS));result.push("webgl antialiasing:"+(gl.getContextAttributes().antialias?"yes":"no"));result.push("webgl blue bits:"+gl.getParameter(gl.BLUE_BITS));result.push("webgl depth bits:"+gl.getParameter(gl.DEPTH_BITS));result.push("webgl green bits:"+gl.getParameter(gl.GREEN_BITS));result.push("webgl max anisotropy:"+maxAnisotropy(gl));result.push("webgl max combined texture image units:"+gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS));result.push("webgl max cube map texture size:"+gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE));result.push("webgl max fragment uniform vectors:"+gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS));result.push("webgl max render buffer size:"+gl.getParameter(gl.MAX_RENDERBUFFER_SIZE));result.push("webgl max texture image units:"+gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));result.push("webgl max texture size:"+gl.getParameter(gl.MAX_TEXTURE_SIZE));result.push("webgl max varying vectors:"+gl.getParameter(gl.MAX_VARYING_VECTORS));result.push("webgl max vertex attribs:"+gl.getParameter(gl.MAX_VERTEX_ATTRIBS));result.push("webgl max vertex texture image units:"+gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS));result.push("webgl max vertex uniform vectors:"+gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS));result.push("webgl max viewport dims:"+fa2s(gl.getParameter(gl.MAX_VIEWPORT_DIMS)));result.push("webgl red bits:"+gl.getParameter(gl.RED_BITS));result.push("webgl renderer:"+gl.getParameter(gl.RENDERER));result.push("webgl shading language version:"+gl.getParameter(gl.SHADING_LANGUAGE_VERSION));result.push("webgl stencil bits:"+gl.getParameter(gl.STENCIL_BITS));result.push("webgl vendor:"+gl.getParameter(gl.VENDOR));result.push("webgl version:"+gl.getParameter(gl.VERSION));if(!gl.getShaderPrecisionFormat){if(typeof NODEBUG==="undefined"){this.log("WebGL fingerprinting is incomplete, because your browser does not support getShaderPrecisionFormat");}
return result.join("~");}
result.push("webgl vertex shader high float precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_FLOAT).precision);result.push("webgl vertex shader high float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_FLOAT).rangeMin);result.push("webgl vertex shader high float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_FLOAT).rangeMax);result.push("webgl vertex shader medium float precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_FLOAT).precision);result.push("webgl vertex shader medium float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_FLOAT).rangeMin);result.push("webgl vertex shader medium float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_FLOAT).rangeMax);result.push("webgl vertex shader low float precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_FLOAT).precision);result.push("webgl vertex shader low float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_FLOAT).rangeMin);result.push("webgl vertex shader low float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_FLOAT).rangeMax);result.push("webgl fragment shader high float precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_FLOAT).precision);result.push("webgl fragment shader high float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_FLOAT).rangeMin);result.push("webgl fragment shader high float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_FLOAT).rangeMax);result.push("webgl fragment shader medium float precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_FLOAT).precision);result.push("webgl fragment shader medium float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_FLOAT).rangeMin);result.push("webgl fragment shader medium float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_FLOAT).rangeMax);result.push("webgl fragment shader low float precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_FLOAT).precision);result.push("webgl fragment shader low float precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_FLOAT).rangeMin);result.push("webgl fragment shader low float precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_FLOAT).rangeMax);result.push("webgl vertex shader high int precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_INT).precision);result.push("webgl vertex shader high int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_INT).rangeMin);result.push("webgl vertex shader high int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_INT).rangeMax);result.push("webgl vertex shader medium int precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_INT).precision);result.push("webgl vertex shader medium int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_INT).rangeMin);result.push("webgl vertex shader medium int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_INT).rangeMax);result.push("webgl vertex shader low int precision:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_INT).precision);result.push("webgl vertex shader low int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_INT).rangeMin);result.push("webgl vertex shader low int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.LOW_INT).rangeMax);result.push("webgl fragment shader high int precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_INT).precision);result.push("webgl fragment shader high int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_INT).rangeMin);result.push("webgl fragment shader high int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_INT).rangeMax);result.push("webgl fragment shader medium int precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_INT).precision);result.push("webgl fragment shader medium int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_INT).rangeMin);result.push("webgl fragment shader medium int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_INT).rangeMax);result.push("webgl fragment shader low int precision:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_INT).precision);result.push("webgl fragment shader low int precision rangeMin:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_INT).rangeMin);result.push("webgl fragment shader low int precision rangeMax:"+gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.LOW_INT).rangeMax);return result.join("~");},getAdBlock:function(){var ads=document.createElement("div");ads.setAttribute("id","ads");try{document.body.appendChild(ads);return document.getElementById("ads")?false:true;}catch(e){return false;}},getHasLiedLanguages:function(){if(typeof navigator.languages!=="undefined"){try{var firstLanguages=navigator.languages[0].substr(0,2);if(firstLanguages!==navigator.language.substr(0,2)){return true;}}catch(err){return true;}}
return false;},getHasLiedResolution:function(){if(screen.width<screen.availWidth){return true;}
if(screen.height<screen.availHeight){return true;}
return false;},getHasLiedOs:function(){var userAgent=navigator.userAgent.toLowerCase();var oscpu=navigator.oscpu;var platform=navigator.platform.toLowerCase();var os;if(userAgent.indexOf("windows phone")>=0){os="Windows Phone";}else if(userAgent.indexOf("win")>=0){os="Windows";}else if(userAgent.indexOf("android")>=0){os="Android";}else if(userAgent.indexOf("linux")>=0){os="Linux";}else if(userAgent.indexOf("iphone")>=0||userAgent.indexOf("ipad")>=0){os="iOS";}else if(userAgent.indexOf("mac")>=0){os="Mac";}else{os="Other";}
var mobileDevice;if(("ontouchstart"in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){mobileDevice=true;}else{mobileDevice=false;}
if(mobileDevice&&os!=="Windows Phone"&&os!=="Android"&&os!=="iOS"&&os!=="Other"){return true;}
if(typeof oscpu!=="undefined"){oscpu=oscpu.toLowerCase();if(oscpu.indexOf("win")>=0&&os!=="Windows"&&os!=="Windows Phone"){return true;}else if(oscpu.indexOf("linux")>=0&&os!=="Linux"&&os!=="Android"){return true;}else if(oscpu.indexOf("mac")>=0&&os!=="Mac"&&os!=="iOS"){return true;}else if(oscpu.indexOf("win")===0&&oscpu.indexOf("linux")===0&&oscpu.indexOf("mac")>=0&&os!=="other"){return true;}}
if(platform.indexOf("win")>=0&&os!=="Windows"&&os!=="Windows Phone"){return true;}else if((platform.indexOf("linux")>=0||platform.indexOf("android")>=0||platform.indexOf("pike")>=0)&&os!=="Linux"&&os!=="Android"){return true;}else if((platform.indexOf("mac")>=0||platform.indexOf("ipad")>=0||platform.indexOf("ipod")>=0||platform.indexOf("iphone")>=0)&&os!=="Mac"&&os!=="iOS"){return true;}else if(platform.indexOf("win")===0&&platform.indexOf("linux")===0&&platform.indexOf("mac")>=0&&os!=="other"){return true;}
if(typeof navigator.plugins==="undefined"&&os!=="Windows"&&os!=="Windows Phone"){return true;}
return false;},getHasLiedBrowser:function(){var userAgent=navigator.userAgent.toLowerCase();var productSub=navigator.productSub;var browser;if(userAgent.indexOf("firefox")>=0){browser="Firefox";}else if(userAgent.indexOf("opera")>=0||userAgent.indexOf("opr")>=0){browser="Opera";}else if(userAgent.indexOf("chrome")>=0){browser="Chrome";}else if(userAgent.indexOf("safari")>=0){browser="Safari";}else if(userAgent.indexOf("trident")>=0){browser="Internet Explorer";}else{browser="Other";}
if((browser==="Chrome"||browser==="Safari"||browser==="Opera")&&productSub!=="20030107"){return true;}
var tempRes=eval.toString().length;if(tempRes===37&&browser!=="Safari"&&browser!=="Firefox"&&browser!=="Other"){return true;}else if(tempRes===39&&browser!=="Internet Explorer"&&browser!=="Other"){return true;}else if(tempRes===33&&browser!=="Chrome"&&browser!=="Opera"&&browser!=="Other"){return true;}
var errFirefox;try{throw"a";}catch(err){try{err.toSource();errFirefox=true;}catch(errOfErr){errFirefox=false;}}
if(errFirefox&&browser!=="Firefox"&&browser!=="Other"){return true;}
return false;},isCanvasSupported:function(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"));},isWebGlSupported:function(){if(!this.isCanvasSupported()){return false;}
var canvas=document.createElement("canvas"),glContext;try{glContext=canvas.getContext&&(canvas.getContext("webgl")||canvas.getContext("experimental-webgl"));}catch(e){glContext=false;}
return!!window.WebGLRenderingContext&&!!glContext;},isIE:function(){if(navigator.appName==="Microsoft Internet Explorer"){return true;}else if(navigator.appName==="Netscape"&&/Trident/.test(navigator.userAgent)){return true;}
return false;},hasSwfObjectLoaded:function(){return typeof window.swfobject!=="undefined";},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0");},addFlashDivNode:function(){var node=document.createElement("div");node.setAttribute("id",this.options.swfContainerId);document.body.appendChild(node);},loadSwfAndDetectFonts:function(done){var hiddenCallback="___fp_swf_loaded";window[hiddenCallback]=function(fonts){done(fonts);};var id=this.options.swfContainerId;this.addFlashDivNode();var flashvars={onReady:hiddenCallback};var flashparams={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,id,"1","1","9.0.0",false,flashvars,flashparams,{});},getWebglCanvas:function(){var canvas=document.createElement("canvas");var gl=null;try{gl=canvas.getContext("webgl")||canvas.getContext("experimental-webgl");}catch(e){}
if(!gl){gl=null;}
return gl;},each:function(obj,iterator,context){if(obj===null){return;}
if(this.nativeForEach&&obj.forEach===this.nativeForEach){obj.forEach(iterator,context);}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)==={}){return;}}}else{for(var key in obj){if(obj.hasOwnProperty(key)){if(iterator.call(context,obj[key],key,obj)==={}){return;}}}}},map:function(obj,iterator,context){var results=[];if(obj==null){return results;}
if(this.nativeMap&&obj.map===this.nativeMap){return obj.map(iterator,context);}
this.each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list);});return results;},x64Add:function(m,n){m=[m[0]>>>16,m[0]&0xffff,m[1]>>>16,m[1]&0xffff];n=[n[0]>>>16,n[0]&0xffff,n[1]>>>16,n[1]&0xffff];var o=[0,0,0,0];o[3]+=m[3]+n[3];o[2]+=o[3]>>>16;o[3]&=0xffff;o[2]+=m[2]+n[2];o[1]+=o[2]>>>16;o[2]&=0xffff;o[1]+=m[1]+n[1];o[0]+=o[1]>>>16;o[1]&=0xffff;o[0]+=m[0]+n[0];o[0]&=0xffff;return[(o[0]<<16)|o[1],(o[2]<<16)|o[3]];},x64Multiply:function(m,n){m=[m[0]>>>16,m[0]&0xffff,m[1]>>>16,m[1]&0xffff];n=[n[0]>>>16,n[0]&0xffff,n[1]>>>16,n[1]&0xffff];var o=[0,0,0,0];o[3]+=m[3]*n[3];o[2]+=o[3]>>>16;o[3]&=0xffff;o[2]+=m[2]*n[3];o[1]+=o[2]>>>16;o[2]&=0xffff;o[2]+=m[3]*n[2];o[1]+=o[2]>>>16;o[2]&=0xffff;o[1]+=m[1]*n[3];o[0]+=o[1]>>>16;o[1]&=0xffff;o[1]+=m[2]*n[2];o[0]+=o[1]>>>16;o[1]&=0xffff;o[1]+=m[3]*n[1];o[0]+=o[1]>>>16;o[1]&=0xffff;o[0]+=(m[0]*n[3])+(m[1]*n[2])+(m[2]*n[1])+(m[3]*n[0]);o[0]&=0xffff;return[(o[0]<<16)|o[1],(o[2]<<16)|o[3]];},x64Rotl:function(m,n){n%=64;if(n===32){return[m[1],m[0]];}
else if(n<32){return[(m[0]<<n)|(m[1]>>>(32-n)),(m[1]<<n)|(m[0]>>>(32-n))];}
else{n-=32;return[(m[1]<<n)|(m[0]>>>(32-n)),(m[0]<<n)|(m[1]>>>(32-n))];}},x64LeftShift:function(m,n){n%=64;if(n===0){return m;}
else if(n<32){return[(m[0]<<n)|(m[1]>>>(32-n)),m[1]<<n];}
else{return[m[1]<<(n-32),0];}},x64Xor:function(m,n){return[m[0]^n[0],m[1]^n[1]];},x64Fmix:function(h){h=this.x64Xor(h,[0,h[0]>>>1]);h=this.x64Multiply(h,[0xff51afd7,0xed558ccd]);h=this.x64Xor(h,[0,h[0]>>>1]);h=this.x64Multiply(h,[0xc4ceb9fe,0x1a85ec53]);h=this.x64Xor(h,[0,h[0]>>>1]);return h;},x64hash128:function(key,seed){key=key||"";seed=seed||0;var remainder=key.length%16;var bytes=key.length-remainder;var h1=[0,seed];var h2=[0,seed];var k1=[0,0];var k2=[0,0];var c1=[0x87c37b91,0x114253d5];var c2=[0x4cf5ad43,0x2745937f];for(var i=0;i<bytes;i=i+16){k1=[((key.charCodeAt(i+4)&0xff))|((key.charCodeAt(i+5)&0xff)<<8)|((key.charCodeAt(i+6)&0xff)<<16)|((key.charCodeAt(i+7)&0xff)<<24),((key.charCodeAt(i)&0xff))|((key.charCodeAt(i+1)&0xff)<<8)|((key.charCodeAt(i+2)&0xff)<<16)|((key.charCodeAt(i+3)&0xff)<<24)];k2=[((key.charCodeAt(i+12)&0xff))|((key.charCodeAt(i+13)&0xff)<<8)|((key.charCodeAt(i+14)&0xff)<<16)|((key.charCodeAt(i+15)&0xff)<<24),((key.charCodeAt(i+8)&0xff))|((key.charCodeAt(i+9)&0xff)<<8)|((key.charCodeAt(i+10)&0xff)<<16)|((key.charCodeAt(i+11)&0xff)<<24)];k1=this.x64Multiply(k1,c1);k1=this.x64Rotl(k1,31);k1=this.x64Multiply(k1,c2);h1=this.x64Xor(h1,k1);h1=this.x64Rotl(h1,27);h1=this.x64Add(h1,h2);h1=this.x64Add(this.x64Multiply(h1,[0,5]),[0,0x52dce729]);k2=this.x64Multiply(k2,c2);k2=this.x64Rotl(k2,33);k2=this.x64Multiply(k2,c1);h2=this.x64Xor(h2,k2);h2=this.x64Rotl(h2,31);h2=this.x64Add(h2,h1);h2=this.x64Add(this.x64Multiply(h2,[0,5]),[0,0x38495ab5]);}
k1=[0,0];k2=[0,0];switch(remainder){case 15:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+14)],48));case 14:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+13)],40));case 13:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+12)],32));case 12:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+11)],24));case 11:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+10)],16));case 10:k2=this.x64Xor(k2,this.x64LeftShift([0,key.charCodeAt(i+9)],8));case 9:k2=this.x64Xor(k2,[0,key.charCodeAt(i+8)]);k2=this.x64Multiply(k2,c2);k2=this.x64Rotl(k2,33);k2=this.x64Multiply(k2,c1);h2=this.x64Xor(h2,k2);case 8:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+7)],56));case 7:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+6)],48));case 6:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+5)],40));case 5:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+4)],32));case 4:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+3)],24));case 3:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+2)],16));case 2:k1=this.x64Xor(k1,this.x64LeftShift([0,key.charCodeAt(i+1)],8));case 1:k1=this.x64Xor(k1,[0,key.charCodeAt(i)]);k1=this.x64Multiply(k1,c1);k1=this.x64Rotl(k1,31);k1=this.x64Multiply(k1,c2);h1=this.x64Xor(h1,k1);}
h1=this.x64Xor(h1,[0,key.length]);h2=this.x64Xor(h2,[0,key.length]);h1=this.x64Add(h1,h2);h2=this.x64Add(h2,h1);h1=this.x64Fmix(h1);h2=this.x64Fmix(h2);h1=this.x64Add(h1,h2);h2=this.x64Add(h2,h1);return("00000000"+(h1[0]>>>0).toString(16)).slice(-8)+("00000000"+(h1[1]>>>0).toString(16)).slice(-8)+("00000000"+(h2[0]>>>0).toString(16)).slice(-8)+("00000000"+(h2[1]>>>0).toString(16)).slice(-8);}};Fingerprint2.VERSION="1.1.4";return Fingerprint2;});}catch(e){}};if(!utag_condload){try{function Visitor(m,t){if(!m)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="1.5.7";var l=window,i=l.Visitor;i.version=a.version;l.s_c_in||(l.s_c_il=[],l.s_c_in=0);a._c="Visitor";a._il=l.s_c_il;a._in=l.s_c_in;a._il[a._in]=a;l.s_c_in++;a.pa={Ka:[]};var o=l.document,h=i.Ma;h||(h=null);var z=i.Na;z||(z=void 0);var j=i.ja;j||(j=!0);var k=i.La;k||(k=!1);a.S=function(a){var c=0,b,e;if(a)for(b=0;b<a.length;b++)e=a.charCodeAt(b),c=(c<<5)-c+e,c&=c;return c};a.r=function(a){var c="0123456789",b="",e="",f,g=8,n=10,h=10;if(1==a){c+="ABCDEF";for(a=0;16>a;a++)f=Math.floor(Math.random()*g),b+=c.substring(f,f+1),f=Math.floor(Math.random()*g),e+=c.substring(f,f+1),g=16;return b+"-"+e}for(a=0;19>a;a++)f=Math.floor(Math.random()*n),b+=c.substring(f,f+1),0==a&&9==f?n=3:(1==a||2==a)&&10!=n&&2>f?n=10:2<a&&(n=10),f=Math.floor(Math.random()*h),e+=c.substring(f,f+1),0==a&&9==f?h=3:(1==a||2==a)&&10!=h&&2>f?h=10:2<a&&(h=10);return b+e};a.ma=function(){var a;!a&&l.location&&(a=l.location.hostname);if(a)if(/^[0-9.]+$/.test(a))a="";else{var c=a.split("."),b=c.length-1,e=b-1;1<b&&2>=c[b].length&&(2==c[b-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+
c[b]+","))&&e--;if(0<e)for(a="";b>=e;)a=c[b]+(a?".":"")+a,b--}return a};a.cookieRead=function(a){var a=encodeURIComponent(a),c=(";"+o.cookie).split(" ").join(";"),b=c.indexOf(";"+a+"="),e=0>b?b:c.indexOf(";",b+1);return 0>b?"":decodeURIComponent(c.substring(b+2+a.length,0>e?c.length:e))};a.cookieWrite=function(d,c,b){var e=a.cookieLifetime,f,c=""+c,e=e?(""+e).toUpperCase():"";b&&"SESSION"!=e&&"NONE"!=e?(f=""!=c?parseInt(e?e:0,10):-60)?(b=new Date,b.setTime(b.getTime()+1E3*f)):1==b&&(b=new Date,f=b.getYear(),b.setYear(f+2+(1900>f?1900:0))):b=0;return d&&"NONE"!=e?(o.cookie=encodeURIComponent(d)+"="+encodeURIComponent(c)+"; path=/;"+(b?" expires="+b.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(d)==c):0};a.g=h;a.A=function(a,c){try{"function"==typeof a?a.apply(l,c):a[1].apply(a[0],c)}catch(b){}};a.ra=function(d,c){c&&(a.g==h&&(a.g={}),a.g[d]==z&&(a.g[d]=[]),a.g[d].push(c))};a.m=function(d,c){if(a.g!=h){var b=a.g[d];if(b)for(;0<b.length;)a.A(b.shift(),c)}};a.j=h;a.oa=function(d,c,b){var e=0,f=0,g;if(c&&o){for(g=0;!e&&2>g;){try{e=(e=o.getElementsByTagName(0<g?"HEAD":"head"))&&0<e.length?e[0]:0}catch(n){e=0}g++}if(!e)try{o.body&&(e=o.body)}catch(j){e=0}if(e)for(g=0;!f&&2>g;){try{f=o.createElement(0<g?"SCRIPT":"script")}catch(i){f=0}g++}}!c||!e||!f?b&&b():(f.type="text/javascript",f.setAttribute("async","async"),f.src=c,e.firstChild?e.insertBefore(f,e.firstChild):e.appendChild(f),a.pa.Ka.push(c),b&&(a.j==h&&(a.j={}),a.j[d]=setTimeout(b,a.loadTimeout)))};a.ka=function(d){a.j!=h&&a.j[d]&&(clearTimeout(a.j[d]),a.j[d]=0)};a.T=k;a.U=k;a.isAllowed=function(){if(!a.T&&(a.T=j,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1)))a.U=j;return a.U};a.a=h;a.d=h;var B=i.$a;B||(B="MC");var s=i.fb;s||(s="MCMID");var C=i.ab;C||(C="MCCIDH");var D=i.eb;D||(D="MCSYNCS");var F=i.bb;F||(F="MCIDTS");var x=i.cb;x||(x="MCOPTOUT");var A=i.Ya;A||(A="A");var p=i.Va;p||(p="MCAID");var y=i.Za;y||(y="AAM");var w=i.Xa;w||(w="MCAAMLH");var q=i.Wa;q||(q="MCAAMB");var r=i.gb;r||(r="NONE");a.C=0;a.R=function(){if(!a.C){var d=a.version;a.audienceManagerServer&&(d+="|"+a.audienceManagerServer);a.audienceManagerServerSecure&&(d+="|"+a.audienceManagerServerSecure);a.C=a.S(d)}return a.C};a.V=k;a.f=function(){if(!a.V){a.V=j;var d=a.R(),c=k,b=a.cookieRead(a.cookieName),e,f,g,n,i=new Date;a.a==h&&(a.a={});if(b&&"T"!=b){b=b.split("|");b[0].match(/^[\-0-9]+$/)&&(parseInt(b[0],10)!=d&&(c=j),b.shift());1==b.length%2&&b.pop();for(d=0;d<b.length;d+=2)if(e=b[d].split("-"),f=e[0],g=b[d+1],1<e.length?(n=parseInt(e[1],10),e=0<e[1].indexOf("s")):(n=0,e=k),c&&(f==C&&(g=""),0<n&&(n=i.getTime()/1E3-60)),f&&g&&(a.c(f,g,1),0<n&&(a.a["expire"+f]=n+(e?"s":""),i.getTime()>=1E3*n||e&&!a.cookieRead(a.sessionCookieName))))a.d||(a.d={}),a.d[f]=j}if(!a.b(p)&&(b=a.cookieRead("s_vi")))b=b.split("|"),1<b.length&&0<=b[0].indexOf("v1")&&(g=b[1],d=g.indexOf("["),0<=d&&(g=g.substring(0,d)),g&&g.match(/^[0-9a-fA-F\-]+$/)&&a.c(p,g))}};a.ta=function(){var d=a.R(),c,b;for(c in a.a)!Object.prototype[c]&&a.a[c]&&"expire"!=c.substring(0,6)&&(b=a.a[c],d+=(d?"|":"")+c+(a.a["expire"+c]?"-"+a.a["expire"+c]:"")+"|"+b);a.cookieWrite(a.cookieName,d,1)};a.b=function(d,c){return a.a!=h&&(c||!a.d||!a.d[d])?a.a[d]:h};a.c=function(d,c,b){a.a==h&&(a.a={});a.a[d]=c;b||a.ta()};a.na=function(d,c){var b=a.b(d,c);return b?b.split("*"):h};a.sa=function(d,c,b){a.c(d,c?c.join("*"):"",b)};a.Sa=function(d,c){var b=a.na(d,c);if(b){var e={},f;for(f=0;f<b.length;f+=2)e[b[f]]=b[f+1];return e}return h};a.Ua=function(d,c,b){var e=h,f;if(c)for(f in e=[],c)Object.prototype[f]||(e.push(f),e.push(c[f]));a.sa(d,e,b)};a.k=function(d,c,b){var e=new Date;e.setTime(e.getTime()+1E3*c);a.a==h&&(a.a={});a.a["expire"+d]=Math.floor(e.getTime()/1E3)+(b?"s":"");0>c?(a.d||(a.d={}),a.d[d]=j):a.d&&(a.d[d]=k);b&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))};a.Q=function(a){if(a&&("object"==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&(a=a.toUpperCase(),"NOTARGET"==a&&(a=r)),!a||a!=r&&!a.match(/^[0-9a-fA-F\-]+$/)))a="";return a};a.i=function(d,c){a.ka(d);a.h!=h&&(a.h[d]=k);if(d==B){var b=a.b(s);if(!b){b="object"==typeof c&&c.mid?c.mid:a.Q(c);if(!b){if(a.v){a.getAnalyticsVisitorID(h,k,j);return}b=a.r()}a.c(s,b)}if(!b||b==r)b="";"object"==typeof c&&((c.d_region||c.dcs_region||c.d_blob||c.blob)&&a.i(y,c),a.v&&c.mid&&a.i(A,{id:c.id}));a.m(s,[b])}if(d==y&&"object"==typeof c){b=604800;c.id_sync_ttl!=z&&c.id_sync_ttl&&(b=parseInt(c.id_sync_ttl,10));var e=a.b(w);e||((e=c.d_region)||(e=c.dcs_region),e&&(a.k(w,b),a.c(w,e)));e||(e="");a.m(w,[e]);e=a.b(q);if(c.d_blob||c.blob)(e=c.d_blob)||(e=c.blob),a.k(q,b),a.c(q,e);e||(e="");a.m(q,[e]);!c.error_msg&&a.t&&a.c(C,a.t)}if(d==A){b=a.b(p);b||((b=a.Q(c))?b!==r&&a.k(q,-1):b=r,a.c(p,b));if(!b||b==r)b="";a.m(p,[b])}a.idSyncDisableSyncs?u.ba=j:(u.ba=k,b={},b.ibs=c.ibs,b.subdomain=c.subdomain,u.Ia(b));c===Object(c)&&(b=r,c.d_optout&&c.d_optout instanceof Array&&(b=c.d_optout.join(",")),e=parseInt(c.d_ottl,10),isNaN(e)&&(e=7200),a.k(x,e,!0),a.c(x,b),a.m(x,[b]))};a.h=h;a.n=function(d,c,b,e){var f="",g;if(a.isAllowed()&&(a.f(),f=a.b(d),!f&&(d==s||d==x?g=B:d==w||d==q?g=y:d==p&&(g=A),g))){if(c&&(a.h==h||!a.h[g]))a.h==h&&(a.h={}),a.h[g]=j,a.oa(g,c,function(){if(!a.b(d)){var b="";d==s?b=a.r():g==y&&(b={error_msg:"timeout"});a.i(g,b)}});a.ra(d,b);c||a.i(g,{id:r});return""}if((d==s||d==p)&&f==r)f="",e=j;b&&e&&a.A(b,[f]);return f};a._setMarketingCloudFields=function(d){a.f();a.i(B,d)};a.setMarketingCloudVisitorID=function(d){a._setMarketingCloudFields(d)};a.v=k;a.getMarketingCloudVisitorID=function(d,c){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.v=j);var b=a.s("_setMarketingCloudFields");return a.n(s,b,d,c)}return""};a.qa=function(){a.getAudienceManagerBlob()};i.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2};a.q={};a.P=k;a.t="";a.setCustomerIDs=function(d){if(a.isAllowed()&&d){a.f();var c,b;for(c in d)if(!Object.prototype[c]&&(b=d[c]))if("object"==typeof b){var e={};b.id&&(e.id=b.id);b.authState!=z&&(e.authState=b.authState);a.q[c]=e}else a.q[c]={id:b};var d=a.getCustomerIDs(),e=a.b(C),f="";e||(e=0);for(c in d)Object.prototype[c]||(b=d[c],f+=(f?"|":"")+c+"|"+(b.id?b.id:"")+(b.authState?b.authState:""));a.t=a.S(f);a.t!=e&&(a.P=j,a.qa())}};a.getCustomerIDs=function(){a.f();var d={},c,b;for(c in a.q)Object.prototype[c]||(b=a.q[c],d[c]||(d[c]={}),b.id&&(d[c].id=b.id),d[c].authState=b.authState!=z?b.authState:i.AuthState.UNKNOWN);return d};a._setAnalyticsFields=function(d){a.f();a.i(A,d)};a.setAnalyticsVisitorID=function(d){a._setAnalyticsFields(d)};a.getAnalyticsVisitorID=function(d,c,b){if(a.isAllowed()){var e="";b||(e=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(d,j)}));if(e||b){var f=b?a.marketingCloudServer:a.trackingServer,g="";a.loadSSL&&(b?a.marketingCloudServerSecure&&(f=a.marketingCloudServerSecure):a.trackingServerSecure&&(f=a.trackingServerSecure));f&&(g="http"+(a.loadSSL?"s":"")+"://"+f+"/id?d_visid_ver="+a.version+"&callback=s_c_il%5B"+a._in+"%5D._set"+(b?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(e?"&mid="+encodeURIComponent(e):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":""));return a.n(b?s:p,g,d,c)}}return""};a._setAudienceManagerFields=function(d){a.f();a.i(y,d)};a.s=function(d){var c=a.audienceManagerServer,b="",e=a.b(s),f=a.b(q,j),g=a.b(p),g=g&&g!=r?"&d_cid_ic=AVID%01"+encodeURIComponent(g):"";a.loadSSL&&a.audienceManagerServerSecure&&(c=a.audienceManagerServerSecure);if(c){var b=a.getCustomerIDs(),h,i;if(b)for(h in b)Object.prototype[h]||(i=b[h],g+="&d_cid_ic="+encodeURIComponent(h)+"%01"+encodeURIComponent(i.id?i.id:"")+(i.authState?"%01"+i.authState:""));d||(d="_setAudienceManagerFields");b="http"+(a.loadSSL?"s":"")+"://"+c+"/id?d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!e&&a.v?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(e?"&d_mid="+encodeURIComponent(e):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(f?"&d_blob="+encodeURIComponent(f):"")+g+"&d_cb=s_c_il%5B"+
a._in+"%5D."+d}return b};a.getAudienceManagerLocationHint=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(d,j)})){var b=a.b(p);b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(d,j)}));if(b)return b=a.s(),a.n(w,b,d,c)}return""};a.getAudienceManagerBlob=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(d,j)})){var b=a.b(p);b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(d,j)}));if(b)return b=a.s(),a.P&&a.k(q,-1),a.n(q,b,d,c)}return""};a.o="";a.u={};a.D="";a.F={};a.getSupplementalDataID=function(d,c){!a.o&&!c&&(a.o=a.r(1));var b=a.o;a.D&&!a.F[d]?(b=a.D,a.F[d]=j):b&&(a.u[d]&&(a.D=a.o,a.F=a.u,a.o=b=!c?a.r(1):"",a.u={}),b&&(a.u[d]=j));return b};i.OptOut={GLOBAL:"global"};a.getOptOut=function(d,c){if(a.isAllowed()){var b=a.s("_setMarketingCloudFields");return a.n(x,b,d,c)}return""};a.isOptedOut=function(d,c,b){return a.isAllowed()?(c||(c=i.OptOut.GLOBAL),(b=a.getOptOut(function(b){a.A(d,[b==i.OptOut.GLOBAL||0<=b.indexOf(c)])},b))?b==i.OptOut.GLOBAL||0<=b.indexOf(c):h):k};var v={l:!!l.postMessage,ha:1,O:864E5};a.Oa=v;a.X={postMessage:function(a,c,b){var e=1;c&&(v.l?b.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(b.location=c.replace(/#.*$/,"")+"#"+ +new Date+e++ +"&"+a))},K:function(a,c){var b;try{if(v.l)if(a&&(b=function(b){if("string"===typeof c&&b.origin!==c||"[object Function]"===Object.prototype.toString.call(c)&&!1===c(b.origin))return!1;a(b)}),window.addEventListener)window[a?"addEventListener":"removeEventListener"]("message",b,!1);else window[a?"attachEvent":"detachEvent"]("onmessage",b)}catch(e){}}};var G={Y:function(){if(o.addEventListener)return function(a,c,b){a.addEventListener(c,function(a){"function"===typeof b&&b(a)},k)};if(o.attachEvent)return function(a,c,b){a.attachEvent("on"+c,function(a){"function"===typeof b&&b(a)})}}(),map:function(a,c){if(Array.prototype.map)return a.map(c);if(void 0===a||a===h)throw new TypeError;var b=Object(a),e=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var f=Array(e),g=0;g<e;g++)g in b&&(f[g]=c.call(c,b[g],g,b));return f},za:function(a,c){return this.map(a,function(a){return encodeURIComponent(a)}).join(c)}};a.Ta=G;var u={ia:3E4,N:649,fa:k,id:h,I:h,aa:function(a){if("string"===typeof a)return a=a.split("/"),a[0]+"//"+a[2]},e:h,url:h,Aa:function(){var d="http://fast.",c="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);this.e||(this.e="nosubdomainreturned");a.loadSSL&&(d=a.idSyncSSLUseAkamai?"https://fast.":"https://");d=d+this.e+".demdex.net/dest5.html"+c;this.I=this.aa(d);this.id="destination_publishing_iframe_"+this.e+"_"+a.idSyncContainerID;return d},va:function(){var d="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);"string"===typeof a.B&&a.B.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.I=this.aa(a.B),this.url=a.B+d)},ba:h,H:k,M:k,w:h,hb:h,Ga:h,ib:h,L:k,z:[],Ea:[],Fa:[],ca:v.l?15:100,J:[],Ca:[],$:j,da:k,Z:function(){function a(){e=document.createElement("iframe");e.sandbox="allow-scripts allow-same-origin";e.id=b.id;e.style.cssText="display: none; width: 0; height: 0;";e.src=b.url;b.Ga=j;c();document.body.appendChild(e)}function c(){G.Y(e,"load",function(){e.className="aamIframeLoaded";b.w=j;b.p()})}this.M=j;var b=this,e=document.getElementById(this.id);e?"IFRAME"!==e.nodeName?(this.id+="_2",a()):"aamIframeLoaded"!==e.className?c():(this.w=j,this.p()):a();this.Ba=e},p:function(d){var c=this;d===Object(d)&&this.J.push(d);if((this.da||!v.l||this.w)&&this.J.length)this.Ha(this.J.shift()),this.p();!a.idSyncDisableSyncs&&this.w&&this.z.length&&!this.L&&(this.fa||(this.fa=j,setTimeout(function(){c.ca=v.l?15:150},this.ia)),this.L=j,this.ea())},Ha:function(a){var c=encodeURIComponent,b,e,f,g,h;if((b=a.ibs)&&b instanceof Array&&(e=b.length))for(f=0;f<e;f++)g=b[f],h=[c("ibs"),c(g.id||""),c(g.tag||""),G.za(g.url||[],","),c(g.ttl||""),"","",g.fireURLSync?"true":"false"],this.$?this.G(h.join("|")):g.fireURLSync&&this.wa(g,h.join("|"));this.Ca.push(a)},wa:function(d,c){a.f();var b=a.b(D),e=k,f=k,g=Math.ceil((new Date).getTime()/v.O);if(b){if(b=b.split("*"),f=this.Ja(b,d.id,g),e=f.xa,f=f.ya,!e||!f)this.G(c),b.push(d.id+"-"+(g+Math.ceil(d.ttl/60/24))),this.Da(b),a.c(D,b.join("*"))}else this.G(c),a.c(D,d.id+"-"+(g+Math.ceil(d.ttl/60/24)))},Ja:function(a,c,b){var e=k,f=k,g,h,i;for(h=0;h<a.length;h++)g=a[h],i=parseInt(g.split("-")[1],10),g.match("^"+c+"-")?(e=j,b<i?f=j:(a.splice(h,1),h--)):b>=i&&(a.splice(h,1),h--);return{xa:e,ya:f}},Da:function(a){if(a.join("*").length>this.N)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.N;)a.shift()},G:function(d){var c=encodeURIComponent;this.z.push((a.Qa?c("---destpub-debug---"):c("---destpub---"))+d)},ea:function(){var d=this,c;this.z.length?(c=this.z.shift(),a.X.postMessage(c,this.url,this.Ba.contentWindow),this.Ea.push(c),setTimeout(function(){d.ea()},this.ca)):this.L=k},K:function(a){var c=/^---destpub-to-parent---/;"string"===typeof a&&c.test(a)&&(c=a.replace(c,"").split("|"),"canSetThirdPartyCookies"===c[0]&&(this.$="true"===c[1]?j:k,this.da=j,this.p()),this.Fa.push(a))},Ia:function(d){this.url===h&&(this.e="string"===typeof a.W&&a.W.length?a.W:d.subdomain||"",this.url=this.Aa());d.ibs instanceof Array&&d.ibs.length&&(this.H=j);if(!a.idSyncDisable3rdPartySyncing&&(this.H||a.la)&&this.e&&"nosubdomainreturned"!==this.e&&!this.M)(i.ga||"complete"===o.readyState||"loaded"===o.readyState)&&this.Z();"function"===typeof a.idSyncIDCallResult?a.idSyncIDCallResult(d):this.p(d);"function"===typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(d)},ua:function(d,c){return a.Ra||!d||c-d>v.ha}};a.Pa=u;0>m.indexOf("@")&&(m+="@AdobeOrg");a.marketingCloudOrgID=m;a.cookieName="AMCV_"+m;a.sessionCookieName="AMCVS_"+m;a.cookieDomain=a.ma();a.cookieDomain==l.location.hostname&&(a.cookieDomain="");a.loadSSL=0<=l.location.protocol.toLowerCase().indexOf("https");a.loadTimeout=500;a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";if(t&&"object"==typeof t){for(var E in t)!Object.prototype[E]&&(a[E]=t[E]);a.idSyncContainerID=a.idSyncContainerID||0;a.f();E=a.b(F);var H=Math.ceil((new Date).getTime()/v.O);!a.idSyncDisableSyncs&&u.ua(E,H)&&(a.k(q,-1),a.c(F,H));a.getMarketingCloudVisitorID();a.getAudienceManagerLocationHint();a.getAudienceManagerBlob()}if(!a.idSyncDisableSyncs){u.va();G.Y(window,"load",function(){var d=u;i.ga=j;!a.idSyncDisable3rdPartySyncing&&(d.H||a.la)&&d.e&&"nosubdomainreturned"!==d.e&&d.url&&!d.M&&d.Z()});try{a.X.K(function(a){u.K(a.data)},u.I)}catch(I){}}}Visitor.getInstance=function(m,t){var a,l=window.s_c_il,i;0>m.indexOf("@")&&(m+="@AdobeOrg");if(l)for(i=0;i<l.length;i++)if((a=l[i])&&"Visitor"==a._c&&a.marketingCloudOrgID==m)return a;return new Visitor(m,t)};(function(){function m(){t.ga=a}var t=window.Visitor,a=t.ja;a||(a=!0);window.addEventListener?window.addEventListener("load",m):window.attachEvent&&window.attachEvent("onload",m)})();}catch(e){}};if(!utag_condload){try{window.onload=function(){var overlay=document.createElement('div');var content_fixed=document.createElement('div');var popbox=document.createElement('div');var overlay_wrapper=document.createElement('div');content_fixed.id='uglipop_content_fixed';content_fixed.setAttribute('style','z-index:1000;position:fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);-webkit-transform: translate(-50%, -50%);-ms-transform: translate(-50%, -50%);opacity:1;');popbox.id='uglipop_popbox';overlay_wrapper.id="uglipop_overlay_wrapper";overlay_wrapper.setAttribute('style','z-index:1000;position:absolute;top:0;bottom:0;left:0;right:0;');overlay.id="uglipop_overlay";overlay.setAttribute('style','z-index:1000;position:fixed;top:0;bottom:0;left:0;right:0;opacity:0.3;width:100%;height:100%;background-color:black;');overlay_wrapper.appendChild(overlay);content_fixed.appendChild(popbox);document.body.appendChild(overlay_wrapper);document.body.appendChild(content_fixed);document.getElementById('uglipop_overlay_wrapper').style.display='none';document.getElementById('uglipop_overlay').style.display='none';document.getElementById('uglipop_content_fixed').style.display='none';}
window.uglipop=function(config){if(config){if(typeof config.class=='string'&&config.class){document.getElementById('uglipop_popbox').setAttribute('class',config.class);}
if(config.keepLayout&&(!config.class)){document.getElementById('uglipop_popbox').setAttribute('style','position:relative;background-color:white;opacity:1;');}
if(typeof config.content=='string'&&config.content&&config.source=='html'){document.getElementById('uglipop_popbox').innerHTML=config.content;}
if(typeof config.content=='string'&&config.content&&config.source=='div'){document.getElementById('uglipop_popbox').innerHTML=document.getElementById(config.content).innerHTML;}}
document.getElementById('uglipop_overlay_wrapper').style.display='';document.getElementById('uglipop_overlay').style.display='';document.getElementById('uglipop_content_fixed').style.display='';}
function remove(){document.getElementById('uglipop_overlay_wrapper').style.display='none';document.getElementById('uglipop_overlay').style.display='none';document.getElementById('uglipop_content_fixed').style.display='none';}}catch(e){}};if(!utag_condload){try{function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,n;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<b.length&&(c=b[n++]);)if(-1<a.indexOf(c))return null;p=1;return a}function q(a,d,b,c,e){var g,h;if(a.dataset&&(h=a.dataset[d]))g=h;else if(a.getAttribute)if(h=a.getAttribute("data-"+b))g=h;else if(h=a.getAttribute(b))g=h;if(!g&&f.useForcedLinkTracking&&e&&(g="",d=a.onclick?""+a.onclick:"")){b=d.indexOf(c);var l,k;if(0<=b){for(b+=10;b<d.length&&0<="= \t\r\n".indexOf(d.charAt(b));)b++;if(b<d.length){h=b;for(l=k=0;h<d.length&&(";"!=d.charAt(h)||l);)l?d.charAt(h)!=l||k?k="\\"==d.charAt(h)?!k:0:l=0:(l=d.charAt(h),'"'!=l&&"'"!=l&&(l=0)),h++;if(d=d.substring(b,h))a.e=new Function("s","var e;try{s.w."+c+"="+d+"}catch(e){}"),a.e(f)}}}return g||e&&f.w[c]}function r(a,d,b){var c;return(c=e[d](a,b))&&(p?(p=0,c):g(k(c),e[d+"Exclusions"]))}function s(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&t[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==(""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)s(c[a],d,b)}function k(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var m=window;m.s_c_in||(m.s_c_il=[],m.s_c_in=0);e._il=m.s_c_il;e._in=m.s_c_in;e._il[e._in]=e;m.s_c_in++;e._c="s_m";e.c={};var p=0,t={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=r(e,"link",f.linkName))&&(b=r(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(k(d),e.linkExclusions);else if((b=a)&&!(b=q(a,"sObjectId","s-object-id","s_objectID",1))){var c,f;(f=g(k(a.innerText||a.textContent),e.linkExclusions))||(s(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(k(c.join(""))))||(f=g(k(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(k(a.value)):a.src&&"IMAGE"==c&&(f=g(k(a.src)))));b=f}return b};e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=q(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}
function AppMeasurement(){var a=this;a.version="1.6.1";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var q=k.AppMeasurement.Cb;q||(q=null);var r=k,n,t;try{for(n=r.parent,t=r.location;n&&n.location&&t&&""+n.location!=""+t&&r.location&&""+n.location!=""+r.location&&n.location.host==t.host;)r=n,n=r.parent}catch(u){}a.sb=function(a){try{console.log(a)}catch(b){}};a.Da=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.kb=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.cookieDomain&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.cookieDomain=0<d?c.substring(d):c}return a.cookieDomain};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.kb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=c+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toGMTString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.H=[];a.ea=function(c,b,d){if(a.wa)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,m=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.fa)for(a.fa=1,d=0;d<m.length;d++)a.d.addEventListener(m[d],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&(a.fa=0,a.delayReady())});f=1;e=0}else d||a.l("_d")&&(f=1);f&&(a.H.push({m:c,a:b,t:e}),a.fa||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.l("_d")?b=1:a.qa();0<a.H.length;){d=a.H.shift();if(b&&!d.t&&d.t>c){a.H.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.wa=1;a[d.m].apply(a,d.a);a.wa=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ea("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,m="";e=f="";if(a.lightProfileID)d=a.L,(m=a.lightTrackVars)&&(m=","+m+","+a.ja.join(",")+",");else{d=a.e;if(a.pe||a.linkType)m=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(m=a[e].Bb,f=a[e].Ab));m&&(m=","+m+","+a.C.join(",")+",");f&&m&&(m+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!m||0<=m.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.p=function(c,b,d,f,e){var g="",m,p,k,w,n=0;"contextData"==c&&(c="c");if(b){for(m in b)if(!(Object.prototype[m]||e&&m.substring(0,e.length)!=e)&&b[m]&&(!d||0<=d.indexOf(","+(f?f+".":"")+m+","))){k=!1;if(n)for(p=0;p<n.length;p++)m.substring(0,n[p].length)==n[p]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),p=b[m],e&&(m=m.substring(e.length)),0<m.length))if(k=m.indexOf("."),0<k)p=m.substring(0,k),k=(e?e:"")+p+".",n||(n=[]),n.push(k),g+=a.p(p,b,d,f,k);else if("boolean"==typeof p&&(p=p?"true":"false"),p){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(k=m.substring(0,4),w=m.substring(4),m){case"transactionID":m="xact";break;case"channel":m="ch";break;case"campaign":m="v0";break;default:a.Da(w)&&("prop"==k?m="c"+w:"eVar"==k?m="v"+w:"list"==k?m="l"+w:"hier"==k&&(m="h"+w,p=p.substring(0,255)))}g+="&"+a.escape(m)+"="+a.escape(p)}}""!=g&&(g+="&."+c)}return g};a.mb=function(){var c="",b,d,f,e,g,m,p,k,n="",r="",s=e="";if(a.lightProfileID)b=a.L,(n=a.lightTrackVars)&&(n=","+n+","+a.ja.join(",")+",");else{b=a.e;if(a.pe||a.linkType)n=a.linkTrackVars,r=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].Bb,r=a[e].Ab));n&&(n=","+n+","+a.C.join(",")+",");r&&(r=","+r+",",n&&(n+=",events,"));a.events2&&(s+=(""!=s?",":"")+a.events2)}if(a.visitor&&1.5<=parseFloat(a.visitor.version)&&a.visitor.getCustomerIDs){e=q;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState));e&&(c+=a.p("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.p("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);m=e.substring(4);!g&&"events"==e&&s&&(g=s,s="");if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case"supplementalDataID":e="sdid";break;case"timestamp":e="ts";break;case"dynamicVariablePrefix":e="D";break;case"visitorID":e="vid";break;case"marketingCloudVisitorID":e="mid";break;case"analyticsVisitorID":e="aid";break;case"audienceManagerLocationHint":e="aamlh";break;case"audienceManagerBlob":e="aamb";break;case"authState":e="as";break;case"pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":e="-g";break;case"referrer":e="r";break;case"vmk":case"visitorMigrationKey":e="vmt";break;case"visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":e="ce";break;case"visitorNamespace":e="ns";break;case"cookieDomainPeriods":e="cdp";break;case"cookieLifetime":e="cl";break;case"variableProvider":e="vvp";break;case"currencyCode":e="cc";break;case"channel":e="ch";break;case"transactionID":e="xact";break;case"campaign":e="v0";break;case"latitude":e="lat";break;case"longitude":e="lon";break;case"resolution":e="s";break;case"colorDepth":e="c";break;case"javascriptVersion":e="j";break;case"javaEnabled":e="v";break;case"cookiesEnabled":e="k";break;case"browserWidth":e="bw";break;case"browserHeight":e="bh";break;case"connectionType":e="ct";break;case"homepage":e="hp";break;case"events":s&&(g+=(""!=g?",":"")+s);if(r)for(m=g.split(","),g="",f=0;f<m.length;f++)p=m[f],k=p.indexOf("="),0<=k&&(p=p.substring(0,k)),k=p.indexOf(":"),0<=k&&(p=p.substring(0,k)),0<=r.indexOf(","+p+",")&&(g+=(g?",":"")+m[f]);break;case"events2":g="";break;case"contextData":c+=a.p("c",a[e],n,e);g="";break;case"lightProfileID":e="mtp";break;case"lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case"lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case"retrieveLightProfiles":e="mtsr";break;case"deleteLightProfiles":e="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(c+=a.p("mts",a[e],n,e));g="";break;default:a.Da(m)&&("prop"==f?e="c"+m:"eVar"==f?e="v"+m:"list"==f?e="l"+m:"hier"==f&&(e="h"+m,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.c&&(c+=a.c)}return c};a.B=function(a){var b=a.tagName;if("undefined"!=""+a.Fb||"undefined"!=""+a.wb&&"HTML"!=(""+a.wb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.za=function(a){var b=a.href?a.href:"",d,f,e;d=b.indexOf(":");f=b.indexOf("?");e=b.indexOf("/");b&&(0>d||0<=f&&d>f||0<=e&&d>e)&&(f=a.protocol&&1<a.protocol.length?a.protocol:l.protocol?l.protocol:"",d=l.pathname.lastIndexOf("/"),b=(f?f+"//":"")+(a.host?a.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>d?0:d)+"/":"")+b);return b};a.I=function(c){var b=a.B(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):c.src&&"IMAGE"==b&&(e=c.src):e=a.za(c),e)?{id:e.substring(0,100),type:g}:0};a.Db=function(c){for(var b=a.B(c),d=a.I(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.B(c),d=a.I(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.vb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,m;a.ka=1;d||(a.ka=0,d=a.clickObject);if(d){c=a.B(d);for(b=a.I(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.B(d),b=a.I(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var p=d.onclick?""+d.onclick:"";if(0<=p.indexOf(".tl(")||0<=p.indexOf(".trackLink("))d=0}}else a.ka=1;!e&&d&&(e=a.za(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var n=0,r=0,q;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(p=e.toLowerCase(),g=p.indexOf("?"),m=p.indexOf("#"),0<=g?0<=m&&m<g&&(g=m):g=m,0<=g&&(p=p.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),m=0;m<g.length;m++)(q=g[m])&&p.substring(p.length-(q.length+1))=="."+q&&(f="d");if(a.trackExternalLinks&&!f&&(p=e.toLowerCase(),a.Ca(p)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),n=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(m=0;m<g.length;m++)q=g[m],0<=p.indexOf(q)&&(r=1);r?n&&(f="e"):n||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.c="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.c="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+
"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.nb=function(){var c=a.ka,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.ActivityMap){var b={},d=0,e=a.cookieRead("s_sq"),g=e?e.split("&"):0,m,p,k,e=0;if(g)for(m=0;m<g.length;m++)p=g[m].split("="),f=a.unescape(p[0]).split(","),p=a.unescape(p[1]),b[p]=f;f=a.account.split(",");m={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(m[k]=a.contextData[k],a.contextData[k]="");a.c=a.p("c",m)+(a.c?a.c:"");if(c||a.c){c&&!a.c&&(e=1);for(p in b)if(!Object.prototype[p])for(k=0;k<f.length;k++)for(e&&(g=b[p].join(","),g==a.account&&(a.c+=("&"!=p.charAt(0)?"&":"")+p,b[p]=[],d=1)),m=0;m<b[p].length;m++)g=b[p][m],g==f[k]&&(e&&(a.c+="&u="+a.escape(g)+("&"!=p.charAt(0)?"&":"")+p+"&u=0"),b[p].splice(m,1),d=1);c||(d=1);if(d){e="";m=2;!c&&a.c&&(e=a.escape(f.join(","))+"="+a.escape(a.c),m=1);for(p in b)!Object.prototype[p]&&0<m&&0<b[p].length&&(e+=(e?"&":"")+a.escape(b[p].join(","))+"="+a.escape(p),m--);a.cookieWrite("s_sq",e)}}}return c};a.ob=function(){if(!a.zb){var c=new Date,b=r.location,d,f,e=f=d="",g="",m="",k="1.2",n=a.cookieWrite("s_cc","true",0)?"Y":"N",q="",s="";if(c.setUTCDate&&(k="1.3",(0).toPrecision&&(k="1.5",c=[],c.forEach))){k="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(k="1.7",c.reduce&&(k="1.8",k.trim&&(k="1.8.1",Date.parse&&(k="1.8.2",Object.create&&(k="1.8.5")))))}catch(t){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;m=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),q=a.b.Eb(b)?"Y":"N"}catch(u){}try{a.b.addBehavior("#default#clientCaps"),s=a.b.connectionType}catch(x){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=k;a.javaEnabled=e;a.cookiesEnabled=n;a.browserWidth=g;a.browserHeight=m;a.connectionType=s;a.homepage=q;a.zb=1}};a.M={};a.loadModule=function(c,b){var d=a.M[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.M[c]=a[c]=d;d.Sa=function(){return d.Wa};d.Xa=function(b){if(d.Wa=b)a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.Sa,set:d.Xa}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d))};a.l=function(c){var b,d;for(b in a.M)if(!Object.prototype[b]&&(d=a.M[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.qb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>v)return 0}return 1};a.N=function(c,b){var d,f,e,g,m,k;for(d=0;2>d;d++)for(f=0<d?a.ra:a.e,e=0;e<f.length;e++)if(g=f[e],(m=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(k in a[g])m[k]||(m[k]=a[g][k]);a[g]=m}};a.La=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.ra:a.e,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.ib=function(a){var b,d,f,e,g,k=0,p,n="",q="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(p=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(k=",p,ei,"),k&&p)))){if((a=p.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?n+=(n?"&":"")+e:q+=(q?"&":"")+e;n&&q?p=n+"&"+q:q=""}d=253-(p.length-q.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+p}return a};a.Ra=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.aa=!1;a.F=!1;a.Za=function(){a.F=!0;a.i()};a.Y=!1;a.R=!1;a.Va=function(c){a.marketingCloudVisitorID=c;a.R=!0;a.i()};a.ba=!1;a.S=!1;a.$a=function(c){a.visitorOptedOut=c;a.S=!0;a.i()};a.V=!1;a.O=!1;a.Na=function(c){a.analyticsVisitorID=c;a.O=!0;a.i()};a.X=!1;a.Q=!1;a.Pa=function(c){a.audienceManagerLocationHint=c;a.Q=!0;a.i()};a.W=!1;a.P=!1;a.Oa=function(c){a.audienceManagerBlob=c;a.P=!0;a.i()};a.Qa=function(c){a.maxDelay||(a.maxDelay=250);return a.l("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.Z=!1;a.D=!1;a.qa=function(){a.D=!0;a.i()};a.isReadyToTrack=function(){var c=!0,b=a.visitor;a.aa||a.F||(a.Ra(a.Za)?a.F=!0:a.aa=!0);if(a.aa&&!a.F)return!1;b&&b.isAllowed()&&(a.Y||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.Y=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.Va]),a.marketingCloudVisitorID&&(a.R=!0)),a.ba||a.visitorOptedOut||!b.isOptedOut||(a.ba=!0,a.visitorOptedOut=b.isOptedOut([a,a.$a]),a.visitorOptedOut!=q&&(a.S=!0)),a.V||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.V=!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Na]),a.analyticsVisitorID&&(a.O=!0)),a.X||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||(a.X=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Pa]),a.audienceManagerLocationHint&&(a.Q=!0)),a.W||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.W=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Oa]),a.audienceManagerBlob&&(a.P=!0)),a.Y&&!a.R&&!a.marketingCloudVisitorID||a.V&&!a.O&&!a.analyticsVisitorID||a.X&&!a.Q&&!a.audienceManagerLocationHint||a.W&&!a.P&&!a.audienceManagerBlob||a.ba&&!a.S)&&(c=!1);a.Z||a.D||(a.Qa(a.qa)?a.D=!0:a.Z=!0);a.Z&&!a.D&&(c=!1);return c};a.k=q;a.q=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.eb=c;f.cb=b;f.ab=d;a.k==q&&(a.k=[]);a.k.push(f);0==a.q&&(a.q=setInterval(a.i,100))};a.i=function(){var c;if(a.isReadyToTrack()&&(a.Ya(),a.k!=q))for(;0<a.k.length;)c=a.k.shift(),c.cb.apply(c.eb,c.ab)};a.Ya=function(){a.q&&(clearInterval(a.q),a.q=0)};a.Ta=function(c){var b,d,f=q,e=q;if(!a.isReadyToTrack()){b=[];if(c!=q)for(d in f={},c)f[d]=c[d];e={};a.La(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0}return!1};a.lb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+
f.getDay()+" "+f.getTimezoneOffset());a.visitor&&(a.visitor.jb&&(a.authState=a.visitor.jb()),!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)));a.l("_s");a.Ta(c)||(b&&a.N(b),c&&(d={},a.La(d,0),a.N(c)),a.qb()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.lb()),a.vb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Ma||(a.referrer=r.document.referrer),a.Ma=1,a.referrer=a.ib(a.referrer),a.l("_g")),a.nb()&&!a.abort&&(a.ob(),g+=a.mb(),a.ub(e,g),a.l("_t"),a.referrer=""))),c&&a.N(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.c=a.lightProfileID=0};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.j=c,a.u=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.e.length;c++)if(b=a.e[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.ub=function(c,b){var d,f=a.trackingServer;d="";var e=a.dc,g="sc.",k=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(k||(k=a.account,f=k.indexOf(","),0<=f&&(k=k.substring(0,f)),k=k.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),e=e?(""+e).toLowerCase():"d1","2o7.net"==d&&("d1"==e?e="112":"d2"==e&&(e="122"),g=""),f=k+"."+e+"."+g+d);d=a.ssl?"https://":"http://";e=a.AudienceManagement&&a.AudienceManagement.isReady();d+=f+"/b/ss/"+a.account+
"/"+(a.mobile?"5.":"")+(e?"10":"1")+"/JS-"+a.version+(a.yb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+c+"?AQB=1&ndh=1&pf=1&"+(e?"callback=s_c_il["+a._in+"].AudienceManagement.passData&":"")+b+"&AQE=1";a.hb(d);a.ga()};a.hb=function(c){a.g||a.pb();a.g.push(c);a.ia=a.A();a.Ja()};a.pb=function(){a.g=a.rb();a.g||(a.g=[])};a.rb=function(){var c,b;if(a.na()){try{(b=k.localStorage.getItem(a.la()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.na=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.Aa=function(){var c=0;a.g&&(c=a.g.length);a.o&&c++;return c};a.ga=function(){if(a.o&&(a.v&&a.v.complete&&a.v.timeout&&a.v.pa(),a.o))return;a.Ba=q;if(a.ma)a.ia>a.K&&a.Ha(a.g),a.oa(500);else{var c=a.bb();if(0<c)a.oa(c);else if(c=a.xa())a.o=1,a.tb(c),a.xb(c)}};a.oa=function(c){a.Ba||(c||(c=0),a.Ba=setTimeout(a.ga,c))};a.bb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.A()-a.Ga;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-
c};a.xa=function(){if(0<a.g.length)return a.g.shift()};a.tb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.sb(b)}};a.Ua=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.U=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(x){s=null}s&&"y"==s.x?(a.U=!0,a.T=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.T=function(a){return k.$.parseJSON(a)},a.U=!0):a.T=function(){return null};a.xb=function(c){var b,d,f;a.Ua()&&2047<c.length&&("undefined"!=typeof XMLHttpRequest&&(b=new XMLHttpRequest,"withCredentials"in b?d=1:b=0),b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest,d=2),b&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(a.U?b.ta=!0:b=0));!b&&a.Ka&&(c=c.substring(0,2047));!b&&a.d.createElement&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof k.InstallTrigger||(b.abort=function(){b.src=q}));b.va=function(){try{b.timeout&&(clearTimeout(b.timeout),b.timeout=0)}catch(a){}};b.onload=b.pa=function(){b.va();a.gb();a.ca();a.o=0;a.ga();if(b.ta){b.ta=!1;try{var c=a.T(b.responseText);a.AudienceManagement.passData(c)}catch(d){}}};b.onabort=b.onerror=b.ya=function(){b.va();(a.trackOffline||a.ma)&&a.o&&a.g.unshift(a.fb);a.o=0;a.ia>a.K&&a.Ha(a.g);a.ca();a.oa(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.pa():b.ya())};a.Ga=a.A();if(1==d||2==d){var e=c.indexOf("?");f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,"");1==d?(b.open("POST",f,!0),b.send(e)):2==d&&(b.open("POST",f),b.send(e))}else if(b.src=c,3==d){if(a.Ea)try{f.removeChild(a.Ea)}catch(g){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ea=a.v}b.timeout=setTimeout(function(){b.timeout&&(b.complete?b.pa():(a.trackOffline&&b.abort&&b.abort(),b.ya()))},5E3);a.fb=c;a.v=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.G||a.u)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.da=setTimeout(a.ca,a.forcedLinkTrackingTimeout)};a.gb=function(){if(a.na()&&!(a.Fa>a.K))try{k.localStorage.removeItem(a.la()),a.Fa=a.A()}catch(c){}};a.Ha=function(c){if(a.na()){a.Ja();try{k.localStorage.setItem(a.la(),k.JSON.stringify(c)),a.K=a.A()}catch(b){}}};a.Ja=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.g.length>a.offlineLimit;)a.xa()}};a.forceOffline=function(){a.ma=!0};a.forceOnline=function(){a.ma=!1};a.la=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.A=function(){return(new Date).getTime()};a.Ca=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.yb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.N(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d){var f;b||(b=a.pageURL?a.pageURL:k.location);d||(d="&");return c&&b&&(b=""+b,f=b.indexOf("?"),0<=f&&(b=d+b.substring(f+1)+d,f=b.indexOf(d+c+"="),0<=f&&(b=b.substring(f+d.length+c.length+1),f=b.indexOf(d),0<=f&&(b=b.substring(0,f)),0<b.length)))?a.unescape(b):""}};a.C="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");a.e=a.C.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ja="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.L=a.ja.slice(0);a.ra="account allAccounts debugTracking visitor trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData AudienceManagement".split(" ");for(n=0;250>=n;n++)76>n&&(a.e.push("prop"+n),a.L.push("prop"+n)),a.e.push("eVar"+n),a.L.push("eVar"+n),6>n&&a.e.push("hier"+n),4>n&&a.e.push("list"+n);n="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" ");a.e=a.e.concat(n);a.C=a.C.concat(n);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.Ga=0;a.ia=0;a.K=0;a.Fa=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Ka=!1,navigator){var y=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=y.indexOf("MSIE ")||0<=y.indexOf("Trident/")&&0<=y.indexOf("Windows NT 6"))a.Ka=!0}}catch(z){}a.ca=function(){a.da&&(k.clearTimeout(a.da),a.da=q);a.j&&a.G&&a.j.dispatchEvent(a.G);a.u&&("function"==typeof a.u?a.u():a.j&&a.j.href&&(a.d.location=a.j.href));a.j=a.G=a.u=0};a.Ia=function(){a.b=a.d.body;a.b?(a.r=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.ua)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.r,!1);else{a.b.removeEventListener("click",a.r,!0);a.ua=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.J&&a.J==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var m=a.J=a.clickObject;a.ha&&(clearTimeout(a.ha),a.ha=0);a.ha=setTimeout(function(){a.J==m&&(a.J=0)},1E4);f=a.Aa();a.track();if(f<a.Aa()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Ca(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(n){b=new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(q){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.j=c.target,a.G=b)}}}}}catch(r){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.r):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.ua=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.r,!0)),a.b.addEventListener("click",a.r,!1))):setTimeout(a.Ia,30)};a.Ia();a.loadModule("ActivityMap")}
function s_gi(a){var k,q=window.s_c_il,r,n,t=a.split(","),u,s,x=0;if(q)for(r=0;!x&&r<q.length;){k=q[r];if("s_c"==k._c&&(k.account||k.oun))if(k.account&&k.account==a)x=1;else for(n=k.account?k.account:k.oun,n=k.allAccounts?k.allAccounts:n.split(","),u=0;u<t.length;u++)for(s=0;s<n.length;s++)t[u]==n[s]&&(x=1);r++}x||(k=new AppMeasurement);k.setAccount?k.setAccount(a):k.sa&&k.sa(a);return k}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var a=window,k=a.s_giq,q,r,n;if(k)for(q=0;q<k.length;q++)r=k[q],n=s_gi(r.oun),n.setAccount(r.un),n.setTagContainer(r.tagContainerName);a.s_giq=0}s_pgicq();}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"divisadero.analiticaweb",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
utag.handler.RE('view',utag.data,"bwq");if(utag.cfg.load_rules_at_wait){utag.handler.LR();}}catch(e){utag.DB(e)};d=0;for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){utag.loader.AS(b);d++;}else{this.f[b.id]=1;}}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'utag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_divisadero.analiticaweb_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},RDdom:function(o){o["dom.referrer"]=eval("document."+"referrer");o["dom.title"]=""+document.title;o["dom.domain"]=""+location.hostname;o["dom.query_string"]=(""+location.search).substring(1);o["dom.hash"]=(""+location.hash).substring(1);o["dom.url"]=""+document.URL;o["dom.pathname"]=""+location.pathname;},RDcp:function(o,b,c,d){b=b||utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o,a,b){a="";try{a=localStorage.getItem("tealium_va");if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(utag.data,b,1);}catch(e){utag.DB("localStorage not supported");}
},RD:function(o,a,b,c,d){utag.DB("utag.loader.RD");if(typeof o["_t_session_id"]!="undefined"){return};a=(new Date()).getTime();b=utag.loader.RC();c=a+parseInt(utag.cfg.session_timeout);d=a;if(!b.utag_main){b.utag_main={};}else if(b.utag_main.ses_id&&typeof b.utag_main._st!="undefined"&&parseInt(b.utag_main._st)<a){delete b.utag_main.ses_id;}
if(!b.utag_main.v_id){b.utag_main.v_id=utag.ut.vi(a);}
if(!b.utag_main.ses_id){b.utag_main.ses_id=d+'';b.utag_main._ss=b.utag_main._pn=1;b.utag_main._sn=1+parseInt(b.utag_main._sn||0);}else{d=b.utag_main.ses_id;b.utag_main._ss=0;b.utag_main._pn=1+parseInt(b.utag_main._pn);b.utag_main._sn=parseInt(b.utag_main._sn);}
if(isNaN(b.utag_main._sn)||b.utag_main._sn<1){b.utag_main._sn=b.utag_main._pn=1}
b.utag_main._st=c+'';utag.loader.SC("utag_main",{"v_id":b.utag_main.v_id,"_sn":b.utag_main._sn,"_ss":b.utag_main._ss,"_pn":b.utag_main._pn+";exp-session","_st":c,"ses_id":d+";exp-session"});o["_t_visitor_id"]=b.utag_main.v_id;o["_t_session_id"]=d;this.RDqp(o);this.RDmeta(o);this.RDcp(o,b);this.RDdom(o);this.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=e.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push(g+":"+encodeURIComponent(d[g]))};if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{utag.sender[a].send('view',utag.handler.C(utag.data));utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(document.readyState!=="loading")setTimeout(c,1);else{if(typeof utag.loader.ready_q=="undefined"){utag.loader.ready_q=[];utag.loader.run_ready_q=function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}}}
utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState!=="loading"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();if(b["cp.utag_main__ss"]==1)utag.ut.loader({src:"//tags.tiqcdn.com/utag/tiqapp/utag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"});utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){utag.db_log=[];b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){utag.db_log.push(a);try{console.log(a)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c){return this.track({event:'link',data:a,cfg:{cb:c}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');this.iflag=1;a=utag.loader.q.length;if(a>0){for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.RE(c.a,c.b);utag.handler.trigger(c.a,c.b)}}
utag.cfg.noview=false;},test:function(){return 1},LR:function(){for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.loader.loadrules();if(utag.loader.initcfg){utag.loader.initcfg()}else{utag.loader.GET()};},RE:function(a,b,c,d,e,f,g){if(c&&!this.cfg_extend){return 0;}
utag.DB('All Tags EXTENSIONS');if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||(typeof c!="undefined"&&f[c]==0)){e=1}else{if(typeof c!="undefined"&&f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(e){utag.rpt['ex_'+d]=1;utag.ut.error({e:e.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a);b=b||{};if(!this.iflag){utag.loader.q.push({a:a,b:b});return;}
utag.ut.merge(b,this.df,0);utag.loader.RDqp(b);utag.loader.RDcp(b);utag.loader.RDdom(b);utag.loader.RDmeta(b);utag.loader.RDva(b);if(c&&c.uids){this.RE(a,b);for(f=0;f<c.uids.length;f++){d=c.uids[f];try{if(typeof utag.sender[d]!="undefined"){utag.sender[d].send(a,utag.handler.C(b));}else if(a=="view"&&utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.ut.merge(utag.data,b,1);utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");utag.ut.merge(utag.data,b,1);this.LR();this.RE(a,b);for(d in utag.loader.cfg){try{if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){if(typeof utag.sender[d]!="undefined"){utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(a=="view"&&utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.ut.merge(utag.data,b,1);utag.loader.AS({id:d,load:1});}}}catch(e){utag.DB(e)}}}else{this.RE(a,b);for(d in utag.loader.GV(utag.sender)){try{utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}catch(e){utag.DB(e)}}}},C:function(a,b,c,d){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2)}catch(e){};a+=this.pad(navigator.userAgent.length,3);a+=this.pad(top.document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5);return a},isEmptyObject:function(o,a){for(a in o){return false;}
return true;},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}
c="";for(b in a){c+=b+":"+a[b]+" , "};utag.DB(c)},loader:function(o,a,b,c,l){a=document;if(o.type=="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.src=o.src;}
if(o.id){b.id=o.id};if(typeof o.cb=="function"){b.hFlag=0;b.onreadystatechange=function(){if((this.readyState=='complete'||this.readyState=='loaded')&&!b.hFlag){b.hFlag=1;o.cb()}};b.onload=function(){if(!b.hFlag){b.hFlag=1;o.cb()}}}
l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}};utag.o['divisadero.analiticaweb']=utag;utag.cfg={v:"ut4.28.201709011106",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),path:"//tags.tiqcdn.com/utag/divisadero/analiticaweb/prod/",utid:"divisadero/analiticaweb/201709011103"};utag.cond={4:0,5:0};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'4':try{c[4]|=(typeof d['va.properties.5258']=='undefined')}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(typeof d['event_name']!='undefined')}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[];utag.handler.cfg_extend=[];utag.loader.initcfg=function(){utag.loader.cfg={"38":{load:utag.cond[5],send:1,v:201705300420,wait:1,tid:20064},"44":{load:utag.cond[4],send:1,v:201611012125,wait:1,tid:7127}};utag.loader.cfgsort=["38","44"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(var i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[i]=utag_cfg_ovrd[i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR();}
utag.handler.RE('view',utag.data);}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!='')){a[b].block=1}
if(a[b].block){if(a[b].load==4)a[b].load=1;c=1;this.bq[b]=1;var d=b;a[b].cb=function(){utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};a[b].id=b;this.AS(a[b]);}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1&&b.s2s!=1){if(utag.loader.bk[b.id]){this.f[b.id]=0;utag.loader.LOAD(b.id)
}else if(b.wait==1&&utag.loader.rf==0&&!(b.load==4&&utag.cfg.noview)){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{var tagManagerSettings={tealium:true,tealiumObject:window.utag,events:[{name:"user.contact",details:"Se completa el formulario de contacto",listener:function(){var _self=this;_self.log('asocia el callback');if(_self.data.pageInfo.pageType===_self.data.constants.pageType.CONTACT){jQuery('.wpcf7-submit').click(function(){_self.log('click en formulario');var nameIsFilled=!!jQuery('.your-name > input:nth-child(1)').val();var emailIsFilled=!!jQuery('.wpcf7-email').val();var checkboxIsFilled=jQuery('.wpcf7-acceptance').prop('checked');var email=jQuery('.wpcf7-email').val();console.log(nameIsFilled,emailIsFilled,checkboxIsFilled);if(nameIsFilled&&emailIsFilled&&checkboxIsFilled){_self.log('formulario correcto');_self.emit('user.contact','contacto',' analiticaweb.es',email);}});}},trigger:"ready"},{name:"user.click_gend",details:"El usuario hace click en el banner de Gen-D",listener:function(pageType){var _self=this;jQuery('body').on('click','#uglipop_content_fixed',function(){_self.emit('user.click_gend','banner','click','gen-d');});},trigger:"ready"},{name:"scroll",details:"Evento que se dispara cuando se hace scroll hasta ciertos milestones (por defecto 25, 50, 27 y 100% de la pgina)",listener:function(){var _self=this;window.progress=-1;jQuery(window).scroll(function(){var wintop=jQuery(window).scrollTop();var docheight=jQuery(document).height();var winheight=jQuery(window).height();var percent=(wintop/(docheight-winheight))*100;var ceilPercent=Math.ceil(percent);if(ceilPercent>progress){progress=ceilPercent;_self.emit('scroll','scroll',ceilPercent,_self.data.pageInfo.pageName);}});},trigger:"ready"},{name:"adBlockChecker",details:"Evento que indica que se ha recibido la informacin relativa a la red del usuario",listener:function(){var _self=this;var test=document.createElement('div');test.innerHTML='&nbsp;';test.className='adsbox';document.body.appendChild(test);window.setTimeout(function(){if(typeof ga=="function"){var adblockExists=test.offsetHeight===0?'adblock presente':'adblock no presente';_self.emit("adBlockChecker",adblockExists);test.remove();}},1000);},trigger:"ready"},{name:"user.coopVideo",details:"Evento que se genera cuando se hace clic sobre el video Divisadero Empowering Digital through DATA",params:["eventType","video name","pageName"],listener:function(pageType){var _self=this;jQuery('.sidebar a[href*="youtube.com"]').on('click',function(){if(jQuery(this).attr('href')){_self.emit("user.coopVideo","video click",_self.utils.getYoutubeId(jQuery(this).attr('href')),_self.data.pageInfo.pageName);}});},trigger:"ready"},{name:"fingerprintAvailable",details:"evento que se ejecuta al inicio para obtener el fingerprint",params:["eventType","video name","pageName"],listener:function(pageType){var _self=this;new Fingerprint2().get(function(result,components){_self.emit("fingerprintAvailable",result);});},trigger:"ready"},{name:"user.emailChanged",details:"Se dispara cuando otro evento quiere cambiar el email asociado al userId",params:["eventType","email","pageName"],listener:function(email,eventType){var _self=this;var validEmail=_self.utils.checkEmail(email);if(validEmail){var cemail=btoa(email);_self.log("email changed: "+email);localStorage.setItem('userId',cemail);eventType=eventType||'unknown';_self.emit("user.emailChanged",eventType,_self.data.pageInfo.pageName,cemail);}},trigger:["comment","subscribeBlog","config.subscribeId"]},{name:"user.subscribe_staisharp",details:"Evento que se genera cuando se hace clic sobre el botn de suscripcin a la newsletter de Stay Sharp",params:["eventType","pageName"],listener:function(pageType){var _self=this;jQuery('.sidebar div.content.cf a').on('click',function(){if(jQuery(this).attr('href')){_self.emit("user.subscribe_staisharp","subscribe staysharp click",_self.data.pageInfo.pageName);}});},trigger:"ready"},{name:"subscribeBlog",details:"Evento que se genera cuando se hace clic sobre el botn de suscripcin al blog de Analitica web",params:["eventType","userEmail","pageName"],listener:function(pageType){var _self=this;jQuery('form#mc4wp-form-1').on('submit',function(){var email=jQuery(this).find('input.email').val();_self.emit("subscribeBlog",email,"suscripcion al blog");});},trigger:"ready"},{name:"comment",details:"Usuario hace click en enviar un comentario",params:["eventType","pageName"],listener:function(pageType){var _self=this;jQuery('form#commentform').on('submit',function(){var email=jQuery(this).find('input#email').val();_self.emit("comment",email,"comentario en el blog");});},trigger:"ready"},{name:"config.subscribeId",details:"Evento que detecta si se tiene el email en la direccin como parmetro",listener:function(pageType){try{var _self=this;var buuid=_self.utils.getParameterByName("buuid");var euuid=_self.utils.getParameterByName("euuid");if(buuid&&buuid.length>0){var email=buuid;var cemail=btoa(buuid);}else if(euuid&&euuid.length>0){var email=atob(euuid);var cemail=euuid;}
if(cemail){_self.log("email por parametro"+cemail);localStorage.setItem('userId',cemail);_self.emit("config.subscribeId",email);}}catch(e){console.log(e);}},trigger:"ready",},{name:"favorite",details:"Evento que detecta si se pulsa sobre el corazn asociado a un post",params:["postTitle"],listener:function(pageType){var _self=this;jQuery('.count-heart').one('click',function(){if(_self.data.pageInfo.pageType===_self.data.constants.pageType.POST){_self.emit("favorite",_self.data.pageInfo.post.title);}else{var postTitle=_self.utils.cleanText(jQuery(this).closest('article').find('.post-title').text())||'unknown';_self.emit("favorite",postTitle);}});},trigger:"ready",},{name:"socialSharing",details:"Usuario pulsa sobre el botn de compartir en las redes sociales",params:["socialNetwork","pageName"],listener:function(pageType){var _self=this;var socialNetwork=[{name:"twitter",link:"twitter.com"},{name:"rss",link:"/feed/"},{name:"youtube",link:"youtube.com/channel"},{name:"linkedin",link:"linkedin.com"},{name:"facebook",link:"facebook.com"},{name:"google+",link:"plus.google.com"},];var closestSelectors=[{placement:function(){return"header";},selector:".top-bar",},{placement:function(element){var postTitle=_self.utils.cleanText(element.closest('article').find('.post-title').text());return postTitle;},selector:"article",},{placement:function(){return"coorporative video";},selector:"#bunyad-widget-about-2",},];for(var j=0;j<socialNetwork.length;j++){jQuery("a[href*='"+socialNetwork[j].link+"']").each(function(){var $socialButton=jQuery(this);for(var i=0;i<closestSelectors.length;i++){if($socialButton.closest(closestSelectors[i].selector).length>0){var placement=closestSelectors[i].placement($socialButton);var network=socialNetwork[j].name;$socialButton.click((function(network,placement){return function(){_self.emit("socialSharing",network,placement,_self.data.pageInfo.pageName);};})(network,placement));}}});}},trigger:"ready"},{name:"postClick",details:"Evento que se genera cuando se hace clic sobre la impresion de un post",params:["postInfo"],listener:function(){var _self=this;var selector=_self.data.pageInfo.pageType==='blog-post'?'article.grid-box:not(.the-post,.slick-cloned)':'article';jQuery(selector).on('mousedown','.post-title a,.read-more a',function(e){var title=_self.utils.cleanText(jQuery(this).closest('article').find('.post-title').text());var postInfo=_self.utils.find(_self.data.pageInfo.postImpressions,{title:title});_self.emit("postClick",postInfo);});},trigger:"ready"},{name:"loadRules.pageType",details:"Regla de carga que se lanza cuando se detecta que tipo de pgina se est mostrando",listener:function(pageType){var _self=this;var eventName='loadRules.pageType.'+pageType;_self.emit(eventName,pageType);},trigger:["dataFilled.pageInfo.pageType","dataFilledError.pageInfo.pageType"]},{name:"geoData",details:"Evento que se produce cuando se recibe respuesta del servicio de geoposicionamiento en base a IP",listener:function(){var _self=this;jQuery.getJSON("http://ip-api.com/json",function(geoData){_self.emit("geoData",geoData);});},trigger:"load"},{name:"uaParser",details:"Evento que se produce cuando se optinen los datos relativos a los elementos que costituyen el User-Agent",listener:function(){var _self=this;var parser=new UAParser();_self.emit("uaParser",parser.getResult());},trigger:"ready"},{name:"whoisReady",details:"Evento que indica que se ha recibido la informacin relativa a la red del usuario",listener:function(){var _self=this;jQuery.getJSON("http://130.211.101.65:8001/api/whois",function(whoisData){_self.emit("whoisReady",whoisData);});},trigger:"ready"}],data:[{name:"configuration.gaAccount.fingerprint",details:"Contiene el ID de la cuenta de Google Analytics a la que se va a hacer el envo con el userId como fingerprint",extractor:function(){return"UA-22058072-1";},trigger:'preloader',obligatory:true},{name:"configuration.gaAccount.email",details:"Contiene el ID de la cuenta de Google Analytics a la que se va a hacer el envo con el userId como email",extractor:function(){return"UA-22058072-9";},trigger:'preloader',obligatory:true},{name:"configuration.tealiumEnvironment",details:"Contiene el perfil de Tealium",extractor:function(){return jQuery('script[src*="utag.js"').prop('src').split('/')[6];},trigger:"ready",obligatory:true},{name:"userInfo.ids.fingerprint",details:"Fingerprint del usuario basado en su configuracin del navegador",extractor:function(fingerprint){return fingerprint;},trigger:"fingerprintAvailable",obligatory:true},{name:"userInfo.ids.email",details:"Email del usuario introducido en algn formulario",extractor:function(){return localStorage.getItem('userId')||'';},trigger:["ready","user.emailChanged"],obligatory:true},{name:"userInfo.ids.plainEmail",details:"ID de usuario vinculado al email de suscripcin",extractor:function(){var _self=this;return(localStorage.getItem('userId')&&atob(localStorage.getItem('userId')))||_self.utils.getCookie("mc4wp_email");},trigger:["ready","user.emailChanged"],obligatory:true,type:"string"},{name:"userInfo.ids.tealiumIqId",details:"Es el id usado por Tealium IQ para identificar el usuario o el parmetro \"tuuid\" pasado como parmetro (tiene prioridad el parmetro)",extractor:function(){var _self=this;var tuuidParameter=_self.utils.getParameterByName('tuuid');if(tuuidParameter){_self.utils.setCookie('tuuid',tuuidParameter,30);return tuuidParameter;}else if(_self.utils.getCookie("tuuid")){return _self.utils.getCookie('tuuid');}else{return _self.utils.getCookie("utag_main").match(/v_id:[0-9a-zA-Z]+\$/)[0].replace(/(v_id:|\$)/g,'');}},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.ids.tealiumAsId",details:"Es el id usado por Tealium Audience Stream para identificar el usuario a travs de los diferentes dominios",extractor:function(){return utag.data._t_visitor_id;},trigger:"preloader",obligatory:true,type:"string"},{name:"configuration.pathArray",details:"Almacena el path de la URL en un Array. Este Array contiene las cadenas de texto en minisculas y los guiones traducidos a espacios",extractor:function(){var _self=this;var currentPathArray=document.location.pathname.replace(/^\//,'').replace(/\/$/,'').split('/');if(currentPathArray[0]===''){currentPathArray.splice(0,1);}
for(var i=0;i<currentPathArray.length;i++){currentPathArray[i]=_self.utils.dashToSpace(currentPathArray[i].toLowerCase());}
return currentPathArray;},trigger:"preloader",obligatory:true,type:"array"},{name:"constants.pageType.HOME",details:"Constante que almacena el tipo de pgina Home",extractor:function(){return"home";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.CATEGORY",details:"Constante que almacena el tipo de pgina CATEGORY",extractor:function(){return"blog-category";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.AUTHOR",details:"Constante que almacena el tipo de pgina autor",extractor:function(){return"blog-author";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.POST",details:"Constante que almacena el tipo de pgina post",extractor:function(){return"blog-post";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.SEARCH",details:"Constante que almacena el tipo de pgina busqueda",extractor:function(){return"search";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.OTHERS",details:"Constante que almacena el resto de tipos de pginas",extractor:function(){return"others";},trigger:"preloader",obligatory:true,type:"string"},{name:"constants.pageType.CONTACT",details:"Constante que almacena el tipo de pgina de contacto",extractor:function(){return"contact";},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.campaign.source",details:"Almacena la fuente de la campaa",extractor:function(){return _self.utils.getParameterByName("utm_source");},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.campaign.medium",details:"Almacena el medio de la campaa",extractor:function(){return _self.utils.getParameterByName("utm_medium");},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.campaign.term",details:"Almacena las palabras clave de la campaa",extractor:function(){return _self.utils.getParameterByName("utm_term");},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.campaign.content",details:"Almacena el contenido de la campaa para diferenciar los anuncios o enlaces que llevan a la misma URL",extractor:function(){return _self.utils.getParameterByName("utm_content");},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.campaign.name",details:"Almacena el nombre de la campaa",extractor:function(){return _self.utils.getParameterByName("utm_campaign");},trigger:"preloader",obligatory:true,type:"string"},{name:"userInfo.geo.country",details:"Pais asociado a la IP recogida",extractor:function(geoData){return geoData.country;},trigger:"geoData",type:"string"},{name:"userInfo.geo.countryCode",details:"Cdigo del pais asociado a la IP recogida",extractor:function(geoData){return geoData.countryCode;},trigger:"geoData",type:"string"},{name:"userInfo.geo.region",details:"Cdigo de la provincia asociado a la IP recogida",extractor:function(geoData){return geoData.region;},trigger:"geoData",type:"string"},{name:"userInfo.geo.regionName",details:"Nombre de la provincia asociado a la IP recogida",extractor:function(geoData){return geoData.regionName;},trigger:"geoData",type:"string"},{name:"userInfo.geo.city",details:"Nombre de la ciudad asociado a la IP recogida",extractor:function(geoData){return geoData.city;},trigger:"geoData",type:"string"},{name:"userInfo.geo.zip",details:"Cdigo postal asociado a la IP recogida",extractor:function(geoData){return geoData.zip;},trigger:"geoData",type:"string"},{name:"userInfo.geo.lat",details:"Latitud asociada a la IP recogida",extractor:function(geoData){return geoData.lat;},trigger:"geoData",type:"string"},{name:"userInfo.geo.long",details:"Longitud asociada a la IP recogida",extractor:function(geoData){return geoData.lon;},trigger:"geoData",type:"string"},{name:"userInfo.geo.timezone",details:"Zona horaria asociada a la IP recogida",extractor:function(geoData){return geoData.timezone;},trigger:"geoData",type:"string"},{name:"userInfo.geo.isp",details:"ISP asociada a la IP recogida",extractor:function(geoData){return geoData.isp;},trigger:"geoData",type:"string"},{name:"userInfo.network.netname",details:"Resultado de nombre de red extraido a partir del servicio whois",extractor:function(whoisData){return whoisData.netname;},trigger:"whoisReady",type:"string"},{name:"userInfo.network.description",details:"Descripcin de la red usada por el usuario extraida a partir del servicio whois",extractor:function(whoisData){var networkDescription=whoisData.descr.length>0?whoisData.descr.join(":"):"";return networkDescription;},trigger:"whoisReady",type:"string"},{name:"userInfo.device.model",details:"Modelo de dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.device.model;},trigger:"uaParser",type:"string"},{name:"userInfo.device.type",details:"Tipo de dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.device.type||"desktop";},trigger:"uaParser",type:"string"},{name:"userInfo.device.vendor",details:"Fabricante del dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.device.vendor;},trigger:"uaParser",type:"string"},{name:"userInfo.os.name",details:"Nombre del Sistema Operativo del dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.os.name;},trigger:"uaParser",type:"string"},{name:"userInfo.os.version",details:"Version del Sistema Operativo del dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.os.version;},trigger:"uaParser",type:"string"},{name:"userInfo.engine.name",details:"Nombre del motor web que usa el navegador extraido del User Agent",extractor:function(uaParsed){return uaParsed.engine.name;},trigger:"uaParser",type:"string"},{name:"userInfo.engine.version",details:"Versin del motor web que usa el navegador extraido del User Agent",extractor:function(uaParsed){return uaParsed.engine.version;},trigger:"uaParser",type:"string"},{name:"userInfo.browser.name",details:"Nombre del navegador extraido del User Agent",extractor:function(uaParsed){return uaParsed.browser.name;},trigger:"uaParser",type:"string"},{name:"userInfo.browser.version",details:"Versin del navegador extraido del User Agent",extractor:function(uaParsed){return uaParsed.browser.version;},trigger:"uaParser",type:"string"},{name:"userInfo.cpu.architecture",details:"Arquitectura de CPU del dispositivo extraido del User Agent",extractor:function(uaParsed){return uaParsed.cpu.architecture;},trigger:"uaParser",type:"string"},{name:"pageInfo.pageType",details:"Contiene la informacin relativa al tipo de pgina: [home,category,product,purchase,others]",extractor:function(){var _self=this;var isHome=function(){return jQuery('body.home').length>0;};var isPost=function(){return jQuery('body.single-post').length>0;};var isCategory=function(){return jQuery('body.category').length>0;};var isAuthor=function(){return jQuery('body.author').length>0;};var isSearch=function(){return jQuery('body.search').length>0;};var isContact=function(){return jQuery('.form-contacto-container').length>0;};if(isHome()){return _self.data.constants.pageType.HOME;}else if(isPost()){return _self.data.constants.pageType.POST;}else if(isCategory()){return _self.data.constants.pageType.CATEGORY;}else if(isAuthor()){return _self.data.constants.pageType.AUTHOR;}else if(isSearch()){return _self.data.constants.pageType.SEARCH;}else if(isContact()){return _self.data.constants.pageType.CONTACT;}else{return _self.data.constants.pageType.OTHERS;}},trigger:"ready",priority:3,obligatory:true,type:"string"},{name:"pageInfo.sections",details:"Almacena todas las secciones asociadas a la pgina que se est visualizando",extractor:function(){var _self=this;var sectionArray=[_self.data.pageInfo.pageType];switch(_self.data.pageInfo.pageType){case _self.data.constants.pageType.HOME:break;case _self.data.constants.pageType.CONTACT:break;case _self.data.constants.pageType.SEARCH:var searchKeyword=_self.utils.getParameterByName('s');sectionArray.push(searchKeyword);break;case _self.data.constants.pageType.CATEGORY:var category=_self.utils.getCurrentCategory();sectionArray.push(category);break;case _self.data.constants.pageType.AUTHOR:var author=_self.utils.getCurrentAuthor();sectionArray.push(author);break;case _self.data.constants.pageType.POST:var category=_self.utils.getPostCategory();sectionArray.push(category);var postTitle=_self.utils.getPostTitle();sectionArray.push(postTitle);break;default:for(var i=0;i<_self.data.configuration.pathArray.length;i++){sectionArray.push(_self.data.configuration.pathArray[i].replace(/(\.html|\.php)/g,''));}}
var currentPage=_self.utils.getCurrentPage();if(currentPage)sectionArray.push('page-'+currentPage);return sectionArray;},trigger:"ready",priority:2,obligatory:true,type:"array"},{name:"pageInfo.pageName",details:"Nombre de pgina formado por la concatenacin de las secciones unidas por el separador :",extractor:function(){var _self=this;var numberSections=_self.data.pageInfo.sections.length;var pageName='';for(var i=0;i<numberSections-1;i++){pageName+=_self.data.pageInfo.sections[i]+':';}
pageName+=_self.data.pageInfo.sections[i];return pageName;},trigger:"ready",priority:1,obligatory:true,type:"string"},{name:"pageInfo.post.title",details:"Contiene el titulo del post",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostTitle();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.post.category",details:"Contiene la categoria del post que se est visualizando",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostCategory();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.post.tags",details:"Contiene los tags del post que se est visualizando",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostTags();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.post.date",details:"Contiene la fecha de publicacin del post que se est visualizando",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostDate();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.post.author",details:"Contiene el autor del post que se est visualizando",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostAuthor();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.post.readingTime",details:"Contiene el tiempo de lectura aproximado en minutos del post que se est visualizando",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.POST){return _self.utils.getPostReadingTime();}
return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.postImpressions",details:"Contiene el listado de post que se mostrando",extractor:function(){var _self=this;var postImpressions=[];var selector=_self.data.pageInfo.pageType==='blog-post'?'article.grid-box:not(.the-post,.slick-cloned)':'article';jQuery(selector).each(function(index){index++;postImpressions.push(_self.utils.getPostImpression(jQuery(this),index));});return postImpressions;},trigger:"ready",obligatory:true,type:"array"},{name:"pageInfo.search.keyword",details:"Keyword de busqueda",extractor:function(pageType){var _self=this;if(pageType==_self.data.constants.pageType.SEARCH){var keyword=_self.utils.getParameterByName('s');_self.log('extraccion de palabra de busqueda: '+keyword);return keyword;}else return'';},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.search.resultNum",details:"Almacena el numero de resultados disponibles para la keyword",extractor:function(pageType){var _self=this;var numResults=0;if(pageType==_self.data.constants.pageType.SEARCH){numResults=jQuery('span.info strong').text();}
return numResults;},trigger:"loadRules.pageType.*",obligatory:true,type:"string"},{name:"pageInfo.referrer",details:"Contiene el referente a la pgina actual",extractor:function(){return document.referrer;},trigger:"preloader",type:"string"},{name:"pageInfo.url",details:"Contiene la URL de la pgina actual",extractor:function(){return document.location.href;},trigger:"preloader",type:"string"},{name:"pageInfo.timestamp",details:"timestamp de la visita",extractor:function(){return+new Date();},trigger:"preloader",type:"string"},{name:"userInfo.adblock",details:"Recoge true si el usuario tiene adblock activado y false si no",extractor:function(adblockState){var _self=this;return adblockState;},trigger:"adBlockChecker",obligatory:true,type:"string"}],utils:[{name:"uid",util:function(){return Math.floor((1+Math.random())*0x100000000).toString();}},{name:"getCookie",util:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;}},{name:"setCookie",util:function(name,value,days){var expires="";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
document.cookie=name+"="+value+expires+"; path=/";}},{name:"urlParser",util:function(url){var urlSlashs=url;if(!url.match(/(\/\?|\/$)/)){urlSlashs=url.indexOf('?')>0?url.replace('?','/?'):(url+"/");}
var parser=document.createElement('a');parser.href=urlSlashs;return parser;}},{name:"dashToSpace",util:function(str){return str.replace(/\-/g,' ');}},{name:"trim",util:function(str){var strNoBreakLines=str.replace(/^(\r\n)|(\n)/g,' ');var strNoSpaces=strNoBreakLines.replace(/^\s\s*/g,'').replace(/\s\s*$/g,'').replace(/\s(\s)+/g,' ');return strNoSpaces;}},{name:"removeAccents",util:function(str){var a=str;a=a.replace(//g,"A");a=a.replace(//g,"a");a=a.replace(//g,"A");a=a.replace(//g,"a");a=a.replace(//g,"A");a=a.replace(//g,"a");a=a.replace(//g,"E");a=a.replace(//g,"e");a=a.replace(//g,"E");a=a.replace(//g,"e");a=a.replace(//g,"E");a=a.replace(//g,"e");a=a.replace(//g,"I");a=a.replace(//g,"i");a=a.replace(//g,"I");a=a.replace(//g,"i");a=a.replace(//g,"I");a=a.replace(//g,"i");a=a.replace(//g,"O");a=a.replace(//g,"o");a=a.replace(//g,"O");a=a.replace(//g,"o");a=a.replace(//g,"O");a=a.replace(//g,"o");a=a.replace(//g,"U");a=a.replace(//g,"u");a=a.replace(//g,"U");a=a.replace(//g,"u");a=a.replace(//g,"U");a=a.replace(//g,"u");a=a.replace(//g,"U");a=a.replace(//g,"u");a=a.replace(//g,"N");a=a.replace(//g,"n");a=a.replace(//g,"");a=a.replace(/\?/g,"");a=a.replace(//g,"");a=a.replace(/!/g,"");a=a.replace(//g,"");a=a.replace(//g,"");a=a.replace(//g,"");a=a.replace(//g," ");a=a.replace(//g,"euros");a=a.replace(//g,"");a=a.replace(/</g,"");a=a.replace(/\)/g,"");a=a.replace(/ /g," ");return a;}},{name:"cleanText",util:function(str){var _self=this;var strTransform=str.toLowerCase();strTransform=_self.utils.removeAccents(strTransform);strTransform=_self.utils.trim(strTransform);return strTransform;}},{name:"getParameterByName",util:function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}},{name:"getCurrentPage",util:function(){var _self=this;if(document.location.pathname.indexOf('/page/')>-1){var indexOfPage=_self.data.configuration.pathArray.indexOf('page');return indexOfPage>-1?_self.data.configuration.pathArray[indexOfPage+1]:false;}
return false;}},{name:"getCurrentCategory",util:function(){var _self=this;var inPageCategory=_self.utils.cleanText(jQuery('.category .title-ribbon').text());var urlCategory=false;if(document.location.pathname.indexOf('/category/')>-1){var indexOfCategory=_self.data.configuration.pathArray.indexOf('category');urlCategory=indexOfCategory>-1?_self.data.configuration.pathArray[indexOfCategory+1]:false;}
return inPageCategory||urlCategory||"unknown";}},{name:"getCurrentAuthor",util:function(){var _self=this;var inPageAuthor=_self.utils.cleanText(jQuery('.author .archive-head .title').text());var urlAuthor=false;if(document.location.pathname.indexOf('/author/')>-1){var indexOfAuthor=_self.data.configuration.pathArray.indexOf('author');urlAuthor=indexOfAuthor>-1?_self.data.configuration.pathArray[indexOfAuthor+1]:false;}
return inPageAuthor||urlAuthor||"unknown";}},{name:"getPostCategory",util:function(){var _self=this;var postCategory=_self.utils.cleanText(jQuery('.the-post .post-cat').text());return postCategory||"unknown";}},{name:"getPostTitle",util:function(){var _self=this;var postTitle=_self.utils.cleanText(jQuery('.the-post .post-title').text());return postTitle||"unknown";}},{name:"getPostTags",util:function(){var _self=this;var tagsArray=[];jQuery('.post-tags a').each(function(){tagsArray.push(_self.utils.cleanText(jQuery(this).text()));});return tagsArray;}},{name:"getPostDate",util:function(){var _self=this;var postTitle=_self.utils.cleanText(jQuery('.the-post .post-date').text());return postTitle;}},{name:"getPostAuthor",util:function(){var _self=this;var postTitle=_self.utils.cleanText(jQuery('.author-box .author').text());return postTitle;}},{name:"getPostImpression",util:function(postNode,index){var _self=this;var postData={title:_self.utils.cleanText(postNode.find('.post-title').text()),category:_self.utils.cleanText(postNode.find('.post-cat').text()),date:_self.utils.cleanText(postNode.find('.post-date').text()),position:index,list:_self.data.pageInfo.pageType};return postData;}},{name:"getPostReadingTime",util:function(){var _self=this;var readingTimeText=jQuery('.the-post .estimated-time').text().match(/\d+/g);var readingTime=readingTimeText?readingTimeText[0]:false;return readingTime;}},{name:"getYoutubeId",util:function(youtubeURL){var _self=this;if(youtubeURL&&youtubeURL.indexOf('youtube.com/embed/')>-1){return youtubeURL.match(/embed\/.*\?/)[0].replace(/(embed\/|\?)/g,'');}else{return"no youtube id";}}},{name:"checkEmail",util:function(email){var emailRegexp=new RegExp(/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i);return emailRegexp.test(email);}},{name:"scriptLoad",util:function(srcScript,callback){var argumentos=Array.prototype.slice.call(arguments);var script=document.createElement('script');script.src=srcScript;var head=document.getElementsByTagName('head')[0];var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=='loaded'||this.readyState=='complete')){done=true;if(typeof(callback)=="function"){var argumentosSobrantes=2;argumentos.splice(0,argumentosSobrantes);callback.apply(window,argumentos);}
script.onload=script.onreadystatechange=null;head.removeChild(script);}};head.appendChild(script);}}],debug:false};window.tagManager=new TagManager(tagManagerSettings);}catch(e){utag.DB(e)};try{window.gaMany=function(){var args=[].splice.call(arguments,0);var properties=['fingerprint','email'];var method=args.splice(0,1)[0];for(var i=0;i<properties.length;i++){var newArgs=[properties[i]+'.'+method].concat(args);ga.apply(null,newArgs);}};tagManager.utils.scriptLoad('//www.google-analytics.com/analytics.js',function(){var fingerprint=tagManager.data.userInfo.ids.fingerprint;var email=tagManager.data.userInfo.ids.email;var fingerprintGaAccount=tagManager.data.configuration.gaAccount.fingerprint;var emailGaAccount=tagManager.data.configuration.gaAccount.email;tagManager.log('fingerprint userId: '+fingerprint);tagManager.log('email userId: '+email);var flagPageView=false;var pageView=function(){if(!flagPageView){ga('create',{trackingId:fingerprintGaAccount,cookieDomain:'auto',name:'fingerprint',userId:fingerprint});ga('create',{trackingId:emailGaAccount,cookieDomain:'auto',name:'email',userId:email});gaMany('require','ec');gaMany('set','&cu','EUR');gaMany('set','siteSpeedSampleRate',100);ga('require','GTM-54FMTK');try{for(var i=0;i<tagManager.data.pageInfo.sections.length;i++){gaMany('set','dimension'+(i+1),tagManager.data.pageInfo.sections[i]);}
gaMany('set','title',tagManager.data.pageInfo.pageName);gaMany('set','dimension6',tagManager.data.pageInfo.url);gaMany('set','dimension7',tagManager.data.pageInfo.referrer);if(tagManager.data.pageInfo.pageType===tagManager.data.constants.pageType.SEARCH){gaMany('set','dimension8',tagManager.data.pageInfo.search.keyword);gaMany('set','dimension9',tagManager.data.pageInfo.search.resultNum);}
gaMany('set','dimension10',tagManager.data.pageInfo.pageType);if(tagManager.data.pageInfo.pageType===tagManager.data.constants.pageType.POST){gaMany('set','dimension11',tagManager.data.pageInfo.post.title);gaMany('set','dimension13',tagManager.data.pageInfo.post.category);gaMany('ec:addProduct',{'name':tagManager.data.pageInfo.post.title,'category':tagManager.data.pageInfo.post.category,'dimension12':tagManager.data.pageInfo.post.author,'dimension14':tagManager.data.pageInfo.post.date,'dimension15':tagManager.data.pageInfo.post.readingTime});gaMany('ec:setAction','detail');}
var tags=tagManager.data.pageInfo.post.tags;tags=Array.isArray(tags)?tags.join(','):tags;gaMany('set','dimension16',tags);gaMany('set','dimension17',tagManager.data.configuration.tealiumEnvironment);gaMany('set','dimension18',tagManager.data.userInfo.adblock);gaMany('set','dimension19',tagManager.data.userInfo.ids.email);gaMany('set','dimension20',tagManager.data.userInfo.ids.fingerprint);var postImpressions=tagManager.data.pageInfo.postImpressions;for(i=0;i<postImpressions.length;i++){gaMany('ec:addImpression',{'name':postImpressions[i].title,'category':postImpressions[i].category,'list':tagManager.data.pageInfo.pageType,'position':postImpressions[i].position});}
switch(tagManager.data.pageInfo.pageType){case tagManager.data.constants.pageType.POST:gaMany('set','metric1',1);break;case tagManager.data.constants.pageType.CATEGORY:gaMany('set','metric3',1);break;case tagManager.data.constants.pageType.SEARCH:gaMany('set','metric4',1);if(!tagManager.data.pageInfo.search.resultNum){gaMany('set','metric5',1);}
break;case tagManager.data.constants.pageType.AUTHOR:gaMany('set','metric6',1);break;}
if(tagManager.data.pageInfo.postImpressions.length>0){gaMany('set','metric2',1);}}catch(e){tagManager.error(e);}
gaMany('send','pageview');flagPageView=true;}};if(tagManager.obligatoryData.dataLeft>0){tagManager.once('allDataFilled',function(){pageView();});}else{pageView();}
tagManager.on("user.*",function(category,action,label,value){tagManager.log(["evento asncrono:"+this.event,category,action,label,value]);if(category==="contacto"){gaMany('ec:addProduct',{'name':"contact-form",'category':tagManager.data.pageInfo.pageType,'variant':tagManager.data.pageInfo.pageName});gaMany('ec:setAction','purchase',{'id':tagManager.utils.uid(),'revenue':'1'});}
gaMany('send','event',category,action,label,value);});tagManager.on("socialSharing",function(socialNetwork,socialAction,socialTarget){tagManager.log(["social Sharing",socialNetwork,socialAction,socialTarget]);var postItem=tagManager.utils.find(tagManager.data.pageInfo.postImpressions,{title:socialAction});if(tagManager.data.pageInfo.post.title===socialAction){postItem=tagManager.data.pageInfo.post;}
if(postItem&&postItem.title){gaMany('ec:addProduct',{'name':postItem.title,'category':postItem.category,'variant':socialNetwork});gaMany('ec:setAction','purchase',{'id':tagManager.utils.uid(),'revenue':'1'});}
gaMany('send','event',socialNetwork,socialAction,socialTarget);});tagManager.on("favorite",function(postTitle){gaMany('send','event','fav-aw',postTitle);});tagManager.on('postClick',function(postItem){tagManager.log(['postClick',postItem]);gaMany('ec:addProduct',{'name':postItem.title,'category':postItem.category,'list':tagManager.data.pageInfo.pageType,'position':postItem.position});gaMany('ec:setAction','click');gaMany('send','event','postImpression','click',tagManager.data.pageInfo.pageName);});tagManager.on("scroll",function(event,milestone,pagename){var mapMetrics={25:7,50:8,75:9,100:10};var metric=mapMetrics[milestone];if(metric){tagManager.log([event,metric,pagename]);if(tagManager.data.pageInfo.pageType==tagManager.data.constants.pageType.POST||tagManager.data.pageInfo.pageType==tagManager.data.constants.pageType.HOME){gaMany('set','metric'+metric,1);gaMany('send','event',event,milestone+"%",pagename);}}});});}catch(e){utag.DB(e)};try{tagManager.utils.scriptLoad('https://d26b395fwzu5fz.cloudfront.net/3.4.1/keen.min.js',function(){var flagPageView=false;var client=new Keen({projectId:"575922ff80a7bd5e91a4228f",writeKey:"839a9cf46de5052c7e9b18f62c17e1d573f5ba42a00824407863306cb337f2a86f770add0391a8edc61d0993d41f6dbc46d9f3113d4c9a403ce9c088eeca2826664d51e1240ddaae73d0334b7fa4fa21da138e8579e5c4913d64149a49ede761",readKey:"9580716376109a4c91370ae7ef21cfc68353f5eb10063c087d3fe0618a79dfc5904dd4a4e765c7b9faafeab81928b2e5f87275721e3aeff836825313ee09ceee1899361e0433d22af457cc279332431cdb7c49f6bb66539566817a5743b232b7"});var pageView=function(){if(!flagPageView){var data=tagManager.data;data["user_agent"]="${keen.user_agent}";data["keen"]={"addons":[{"name":"keen:ua_parser","input":{"ua_string":"user_agent"},"output":"parsed_user_agent"}]}
client.addEvent("datas",tagManager.data,function(err,res){err?tagManager.err(err):tagManager.log(res);});}}
if(tagManager.obligatoryData.dataLeft>0){tagManager.once('allDataFilled',function(){pageView();});}else{pageView();}
tagManager.on("user.*",function(category,action,label,value){var event={"category":category,"action":action,"label":label,"value":value,}
client.addEvent("user-events",event,function(err,res){err?tagManager.err(err):tagManager.log(res);});});tagManager.on("socialSharing",function(socialNetwork,socialAction,socialTarget){var event={"socialNetwork":socialNetwork,"socialAction":socialAction,"socialTarget":socialTarget}
client.addEvent("social-events",event,function(err,res){err?tagManager.err(err):tagManager.log(res);});});});}catch(e){utag.DB(e)};try{try{if(1){var endpoint='https://us-central1-dsd-collector.cloudfunctions.net'
var func='/collect';var url=endpoint+func;var flagCollectorView=false;var flatten=function(data,delim){var result={};function recurse(cur,prop){if(Object(cur)!==cur){if(Array.isArray(result[prop])){result[prop].push(cur);}else if(result[prop]){var aux=result[prop];result[prop]=[];result[prop].push(aux);result[prop].push(cur);}else
result[prop]=cur;}else if(Array.isArray(cur)){for(var i=0,l=cur.length;i<l;i++)
recurse(cur[i],prop);if(l==0)
result[prop]=[];}else{var isEmpty=true;for(var p in cur){isEmpty=false;recurse(cur[p],prop?prop+delim+p:p);}
if(isEmpty&&prop)
result[prop]={};}}
recurse(data,"");return result;}
function getData(){var tmcopy=Object.assign({},tagManager.data);delete tmcopy.events
delete tmcopy.constants
var data=flatten(tmcopy,'_');for(let key in data){if(Array.isArray(data[key])){data[key]=data[key].join();}}
return data;}
function collectorView(){if(flagCollectorView)return;flagCollectorView=true;var data=getData();data.scroll=0;tagManager.log(JSON.stringify(data,null,2));jQuery.post(url,data,function(data,other){tagManager.log(data,other)});}
if(tagManager.obligatoryData.dataLeft>0){tagManager.on('allDataFilled',function(){collectorView();});tagManager.on('load',function(){setTimeout(function(){collectorView();},4000);});}else{collectorView();}
tagManager.on("scroll",function(event,milestone,pagename){var allowedMilestones=[0,25,50,75,100];if(allowedMilestones.includes(milestone)){tagManager.log('SCROLL FOR DSD-COLLECTOR',milestone);var data=getData();data.scroll=milestone;jQuery.post(url,data,function(data,other){tagManager.log(data,other)});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{function pageView(){utag.data["event_name"]='pageview';utag.view(utag.data);}
if(tagManager.obligatoryData.dataLeft>0){tagManager.once('allDataFilled',function(){pageView();});}else{pageView();}
tagManager.onMany(["user.*","comment","subscribeBlog"],function(category,action,label,value){var prefix=this.event;if(typeof prefix=="string"&&prefix.indexOf('user.')){prefix="user";}
var eventInfo={event_name:prefix,"userInfo.ids.tealiumAsId":tagManager.data.userInfo.ids.tealiumAsId,"userInfo.device.type":tagManager.data.userInfo.device.type,"userInfo.ids.plainEmail":tagManager.data.userInfo.ids.plainEmail};eventInfo[prefix+'.'+"category"]=category;eventInfo[prefix+'.'+"action"]=action;eventInfo[prefix+'.'+"label"]=label;eventInfo[prefix+'.'+"value"]=value;utag.link(eventInfo);});tagManager.on("favorite",function(postTitle){var postData={'event_name':"favorite","favorite.postTitle":postTitle,"userInfo.ids.tealiumAsId":tagManager.data.userInfo.ids.tealiumAsId,"userInfo.device.type":tagManager.data.userInfo.device.type,"userInfo.ids.plainEmail":tagManager.data.userInfo.ids.plainEmail};if(tagManager.data.pageInfo.pageType===tagManager.data.constants.pageType.POST){postData['favorite.postCategory']=tagManager.data.pageInfo.postItem.category;postData['favorite.postTags']=tagManager.data.pageInfo.postItem.tags;}else{for(var i=tagManager.data.pageInfo.postImpressions.length-1;i>=0;i--){if(tagManager.data.pageInfo.postImpressions[i].title==postTitle){postData['favorite.postCategory']=tagManager.data.pageInfo.postImpressions[i].category;postData['favorite.postList']=tagManager.data.pageInfo.postImpressions[i].list;}}}
utag.link(postData);});tagManager.on("scroll",function(event,milestone,pagename){var mapMetrics={25:true,50:true,75:true,100:true};if(mapMetrics[milestone]){utag.link({event_name:'scroll',"userInfo.ids.tealiumAsId":tagManager.data.userInfo.ids.tealiumAsId,"userInfo.device.type":tagManager.data.userInfo.device.type,"userInfo.ids.plainEmail":tagManager.data.userInfo.ids.plainEmail,"scroll.milestone":milestone,"scroll.pageName":tagManager.data.pageInfo.pageName,"scroll.pageType":tagManager.data.pageInfo.pageType});}});tagManager.on('postClick',function(postItem){var postClickInfo={'event_name':'postImpression',"userInfo.ids.tealiumAsId":tagManager.data.userInfo.ids.tealiumAsId,"userInfo.device.type":tagManager.data.userInfo.device.type,"userInfo.ids.plainEmail":tagManager.data.userInfo.ids.plainEmail,'postClick.title':postItem.title,'postClick.category':postItem.category,'postClick.list':tagManager.data.pageInfo.pageType,'postClick.position':postItem.position};utag.link(postClickInfo);});tagManager.on("socialSharing",function(socialNetwork,socialAction,socialTarget){var socialSharingInfo={'event_name':"socialSharing","userInfo.ids.tealiumAsId":tagManager.data.userInfo.ids.tealiumAsId,"userInfo.device.type":tagManager.data.userInfo.device.type,"userInfo.ids.plainEmail":tagManager.data.userInfo.ids.plainEmail,"socialSharing.socialNetwork":socialNetwork,"socialSharing.socialAction":socialAction,"socialSharing.socialTarget":socialTarget};var postItem=tagManager.utils.find(tagManager.data.pageInfo.postImpressions,{title:socialAction});if(tagManager.data.pageInfo.post.title===socialAction){postItem=tagManager.data.pageInfo.post;}
if(postItem&&postItem.title){socialSharingInfo["socialSharing.postItem.title"]=postItem.title;socialSharingInfo["socialSharing.postItem.category"]=postItem.category;}
utag.link(socialSharingInfo);});}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.DB('READY:utag.cfg.readywait');utag.loader.PINIT();}})}else{utag.loader.PINIT()}}