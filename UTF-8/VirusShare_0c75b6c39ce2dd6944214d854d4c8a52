(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function getUrlQueries(){var e=deps.win.location.search,r={};if(e){e.slice(1).split("&").forEach(function(e){var t=e.split("=");r[t[0]]=t[1]&&t[1].split(",")})}return r}function activateTestPlacements(){return Object.keys(getUrlQueries()).includes("adtest")}function astEnabledUrlQuery(){return Object.keys(getUrlQueries()).includes("ast")}function adPositionsInQueries(){var e=getUrlQueries(),r=e.adposition,t=void 0===r?[]:r;return t.length>0&&t.every(function(e){return""!==e})}function adIsIncludedInUrlQuery(e){var r=getUrlQueries(),t=r.adposition;return(void 0===t?[]:t).includes(e)}function changeInvCodeToTest(e){var r=new RegExp("-([a-z]*|[A-Z]*)_");return e.replace(r,"-tv_test_")}function adParamsInQueries(){return Object.keys(getUrlQueries()).some(function(e){return e.includes("kv_")})}function getKeyWords(){var e={},r=getUrlQueries();return Object.keys(r).forEach(function(t){t.includes("kv_")&&(e[t.slice("kv_".length)]=r[t])}),Object.keys(e).length>0?e:void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.activateTestPlacements=activateTestPlacements,exports.astEnabledUrlQuery=astEnabledUrlQuery,exports.adPositionsInQueries=adPositionsInQueries,exports.adIsIncludedInUrlQuery=adIsIncludedInUrlQuery,exports.changeInvCodeToTest=changeInvCodeToTest,exports.adParamsInQueries=adParamsInQueries,exports.getKeyWords=getKeyWords,require("core-js/fn/string/includes"),require("core-js/fn/array/includes");var deps=exports.deps={win:window};
},{"core-js/fn/array/includes":28,"core-js/fn/string/includes":29}],2:[function(require,module,exports){
(function (global){
"use strict";function setupAutoCollapsables(){$(".js-auto-collapse").each(function(){setupIndividualContainer(this)})}function setupIndividualContainer(e){var t=$(e);t.find(".js-show-last-items").click(function(e){e.preventDefault(),t.removeClass("last-items-hidden"),this.remove()})}var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;setupAutoCollapsables(),exports.setupAutoCollapseContainer=setupIndividualContainer;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
"use strict";function getSciptLoadedPromise(){return scriptLoadedPromise||(scriptLoadedPromise=new Promise(function(e,t){function i(){debug("Script loaded"),e(window.LP4)}var o=document.createElement("script");o.src=LP_URL,o.async=!0,o.onerror=t.bind(null,"Error loading LP.js"),o.onload=i;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}))}function sendInitialPageview(){debug("Send initital pageview"),getSciptLoadedPromise().then(function(){debug("Initial pageview sent")})}function sendVideoStartEvent(){debug("Send video_start event"),getSciptLoadedPromise().then(function(e){var t=location.protocol+"//"+location.host+location.pathname;e.logClick({fromUrl:t,toUrl:t,position:"video_start"}),debug("video_start-event sent")}).catch(function(e){debug("Error while loading LP script",e)})}var debug=require("debug")("abtv:linkpulse-tracker"),Promise=require("es6-promise").Promise,LP_URL="//pp.lp4.io/app/4f/69/93/4f6993f8f925b3a714000000.js",scriptLoadedPromise;exports.sendInitialPageview=sendInitialPageview,exports.sendVideoStartEvent=sendVideoStartEvent;
},{"debug":67,"es6-promise":69}],4:[function(require,module,exports){
"use strict";function isTSExpired(e,t){return e+t<(new Date).getTime()}function persistValue(e,t,a){if(hasStorageCapability&&void 0!==t&&null!==t){var r={data:t,timestamp:a||(new Date).getTime()};return win.localStorage.setItem(e,JSON.stringify(r)),!0}return!1}function clearValue(e){hasStorageCapability&&win.localStorage.removeItem(e)}function _getParsedValue(e){var t=win.localStorage.getItem(e);try{return JSON.parse(t)}catch(t){clearValue(e)}return null}function readValue(e,t){var a;return hasStorageCapability?(a=_getParsedValue(e),a&&a.data?"number"==typeof t&&a.timestamp&&isTSExpired(a.timestamp,t)?null:a.data:null):null}var win=window,hasStorageCapability=function(){try{return win.localStorage.setItem("test","test"),win.localStorage.removeItem("test"),!0}catch(e){return!1}}();exports.persistValue=persistValue,exports.readValue=readValue,exports.clearValue=clearValue;
},{}],5:[function(require,module,exports){
"use strict";function trackEvent(e,t){inited||(inited=!0,debug("Initiating"),mixpanel.init(t.token)),debug("Track event: "+e,t),mixpanel.track(e,t)}var mixpanel=require("mixpanel-browser"),debug=require("debug")("abtv:mixpanel-tracker"),inited=!1;exports.trackEvent=trackEvent;
},{"debug":67,"mixpanel-browser":71}],6:[function(require,module,exports){
"use strict";function objectStore(t){function e(e){var r=localStorage.getItem(t);return r&&JSON.parse(r)||e}function r(e){debug("Setting local storage key '"+t+"' to: ",e);try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}}return{get:e,set:r}}var debug=require("debug")("abtv:object-store");exports.create=objectStore;
},{"debug":67}],7:[function(require,module,exports){
(function (global){
"use strict";function createTimeoutPromise(e){return new Promise(function(o,t){setTimeout(function(){t("timeout")},e)})}function fetchAndPopulateRecommendedVideosWithTimeout(e,o,t){return Promise.race([fetchRecommendations(e,o,t),createTimeoutPromise(1200)])}function populateRecommendedVideos(e,o){return function(t){var n=$("#recommendedVideos[data-config]").first();if(!n)return debug("No recommendedVideos element present to populate."),t;var i=n.data("config");return i?fetchAndPopulateRecommendedVideosWithTimeout(i,e,o).then(function(e){return debug("Recommendations: ",e),n.html(template({videos:e})),autoCollapseContent.setupAutoCollapseContainer(n),t}).catch(function(e){return debug("Failed to fetch recommendations.",e),t}):(debug("No recommendedVideos config."),t)}}function fetchRecommendations(e,o,t){var n=buildRecommendorRequest(e,o,t);return debug("Fetching recommendations from: "+n),Promise.resolve($.get(n))}function buildRecommendorRequest(e,o,t){var n=new URI(e.apiUrl);return n.addQuery("articleId",o),n.href()}var template=require("../templates/content-discovery-list.jade"),autoCollapseContent=require("./auto-collapsable-content"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,debug=require("debug")("abtv:recommended-videos"),URI=require("urijs"),Promise=require("es6-promise").Promise;exports.populateRecommendedVideos=populateRecommendedVideos;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../templates/content-discovery-list.jade":21,"./auto-collapsable-content":2,"debug":67,"es6-promise":69,"urijs":78}],8:[function(require,module,exports){
(function (global){
"use strict";function triggerTracking(e){if(e.contentPath&&sendPanel(e.contentPath),e.category){debug("Send mobile site tracking pixel");var t=$("#sifo-pixel");t.length&&t.attr("src",t.data("src"))}}function sendPanel(e){if(null===document.cookie.match("__codnt")){debug("Sending sifo tracking. Content path is: "+e),window._cInfo.push({cmd:"_trackContentPath",val:e},{cmd:"_trackContentTags",val:[]},{cmd:"_executeTracking"});var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://analytics.codigo.se/j/effe5e787a794547bab94d0445022f00.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}var debug=require("debug")("abtv:sifo-tracker"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;window._cInfo=window._cInfo||[],exports.triggerTracking=triggerTracking;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"debug":67}],9:[function(require,module,exports){
(function (global){
"use strict";function getSCPageViewData(e,t){var a=e.sections.slice();a[0]="webbtvsidor";var s=_extends({page:{title:e.asset.title,id:e.asset.id,type:"webbtvsida"},siteVersion:"responsive",clickTracker:{},categories:a},getClientsideProperties());if("plus"===t||"plus-premium"===t){var i="plus"===t?"plus":"plusPremium";s.access={premiumMainServiceName:i}}return s}function sendPageViewStats(){var e=$("body").data("site-catalyst-page-data");e?scApi.trackPageView(_extends({},e,getClientsideProperties())):debug("No Site Catalyst page data was found for sending.")}function getClientsideProperties(){return{adBlocker:isAdBlockActive()?"on":"off",userSegment:testHandler.getSegment()}}function isAdBlockActive(){return $("#adblocktest").is(":hidden")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,debug=require("debug")("abtv:site-catalyst"),scApi=require("@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2"),testHandler=require("./test-handler");exports.getSCPageViewData=getSCPageViewData,exports.sendPageViewStats=sendPageViewStats;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./test-handler":15,"@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2":24,"debug":67}],10:[function(require,module,exports){
(function (global){
"use strict";function lookUpSpidUserId(){return getSpidUserId}function lookUpSpidData(){return getSpidUserInfo}var Promise=require("es6-promise").Promise,debug=require("debug")("abtv:spid-user"),cookies=require("cookie-cutter"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,fuseConfig=$("body").data("fuse-config");require("jquery.xdr"),debug("Fuse config:",fuseConfig);var getSpidUserInfo=Promise.resolve().then(function(){var e=cookies.get("sessionId");if(!e)return void debug("No session id found: anonymous user.");var o=fuseConfig.userInfoUrl+e;return Promise.resolve($.get(o))}),getSpidUserId=getSpidUserInfo.then(function(e){return e&&e.userId?e.userId:void 0}).catch(function(e){debug("Failed to get user info from fuse.",e)});exports.lookUpSpidUserId=lookUpSpidUserId,exports.lookUpSpidData=lookUpSpidData;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"cookie-cutter":27,"debug":67,"es6-promise":69,"jquery.xdr":23}],11:[function(require,module,exports){
"use strict";function createAutoTrackOptions(e){return spidUser.lookUpSpidUserId().then(function(t){return _.merge({userId:t},e)}).catch(function(t){return _.merge({},e)})}function initializeAutoTrack(e){autoTrackPromise.then(function(t){return debug("Initializing autotrack with options:",e),t.initTracking(e),t})}function sendVideoStartedEvent(e){createAutoTrackOptions(e).then(initializeAutoTrack).catch(function(e){debug("Failed to initialize AutoTrack.",e)})}var debug=require("debug")("abtv:spt-tracking"),Promise=require("es6-promise").Promise,spidUser=require("./spid-user"),_=require("lodash"),autoTrackPromise=new Promise(function(e,t){function r(){debug("AutoTrack loaded."),e(window.AutoTrack)}debug("Loading SVP player SDK."),function(){var e=document,i=e.createElement("script"),n=e.getElementsByTagName("script")[0];i.src="https://jssdk.pulse.schibsted.com/autoTracker.min.js",i.async=!0,i.onerror=t.bind(null,"Error loading player sdk"),i.onload=r,n.parentNode.insertBefore(i,n)}()});exports.sendVideoStartedEvent=sendVideoStartedEvent;
},{"./spid-user":10,"debug":67,"es6-promise":69,"lodash":70}],12:[function(require,module,exports){
(function (global){
"use strict";function getVideosIdFromPage(){var e=$('.js-autoplaynext-content article a[data-sponsored="false"]'),o=[];return e.get().forEach(function(e){var t=$(e).data("id");t&&o.push(t)}),o}function getSavedVideoIds(){return historyStore.get([])}function checkVideo(e){return new Promise(function(o,t){$.ajax({type:"HEAD",url:"./"+e}).done(function(){o(e)}).fail(function(e){t(e)})})}function nextVideo(e){function o(o){r.indexOf(o)>-1||i.indexOf(o)>-1||e!==o&&r.push(o)}var t,i=videoHistory.getWatchedVideoIds(),r=[];return getVideosIdFromPage().forEach(o),getSavedVideoIds().forEach(o),historyStore.set(r),t=r.shift(),t?checkVideo(t):Promise.reject("Reached end of auto play next queue.")}var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,Promise=require("es6-promise").Promise,videoHistory=require("./video-history"),store=require("./object-store"),historyStore=store.create("ab.autoPlayNextQueue");exports.nextVideo=nextVideo;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./object-store":6,"./video-history":17,"es6-promise":69}],13:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildUserPlayerConfigUrl(e,t){var r=URI(e).search(function(e){t&&(e.sessionId=t)}).href();return debug("Built url: ",r),r}function getUserSpecificPlayerConfig(e,t){return function(){return e?(debug("Getting user specific player config from",e),new Promise(function(r,n){var a=buildUserPlayerConfigUrl(e,t);$.get(a).done(function(e){return debug("Credentials received, so user has access: ",e),r({token:dataFetcher(a)})}).fail(function(e){debug("Failed to retrieve credentials:",e),401===e.status&&n(new UnauthorizedError(e.responseText)),403==e.status&&n(new ForbiddenError(e.responseText)),n(new AjaxError(e))})})):(debug("No credential url provided, so no additional credentials will be requested."),{})}}function dataFetcher(e){return function(){return new Promise(function(t,r){$.get(e).done(function(e){return debug("Data retrieved: ",e),t(e)}).fail(function(e){debug("Failed to retrieved data",e),r(e)})})}}function loadPlayer(e){return debug("Loading player with options: "+JSON.stringify(e),e),svpSdk.then(function(t){var r=_.merge({},e);return window.abtvnaactivated&&_.set(r,"settings.na",!0),new t.Player(r)})}function makePlayerAvailableOnWindow(e){return debug("Setting player as window.player",e),window.player=e,e}function registerPlayerEventHandler(e,t){return function(r){return r.on(e,function(){try{t.apply(void 0,arguments)}catch(e){debug("Suppressing exception",e)}}),r}}function onInitialPlay(e){return registerPlayerEventHandler("initialPlay",e)}function onAdSlotStart(e){return registerPlayerEventHandler("adSlotStart",e)}function onAdSlotComplete(e){return registerPlayerEventHandler("adSlotComplete",e)}function onAssetPlay(e){return registerPlayerEventHandler("assetPlay",e)}function onNextAssetPlay(e){return registerPlayerEventHandler("RecommendedPlugin:nextAssetPlay",e)}function onPlayRecommended(e){return registerPlayerEventHandler("RecommendedPlugin:playRecommended",e)}function playNextAsset(e){var t=e.get("id");debug("Redirecting to video ID: "+t),tracker.persist(tracker.createTrackingObject("webbtv","related","auto")),window.top.location.href="./"+t}function playRecommended(e){debug("Redirecting to video ID: "+e),window.top.location.href="./"+e}function logResult(e){return function(t){return debug(e,t),t}}function setSharingLink(e){return function(t){return e?_.update(t,"sharing.link",function(t){return e}):(debug("Canonical url not defined no sharing link will be added."),t)}}function mergePlayerOptions(e){return function(t){return _.merge(e,t)}}function mergeNextAssetOption(e){return new Promise(function(t,r){e.recommended.next?autoplayNext.nextVideo(e.id).then(function(r){debug("Next video: "+r),e.recommended.next={asset:r},t(e)}).catch(function(r){debug("Failed to get next video. Disabling next feature",r),e.recommended.next=!1,t(e)}):(debug("No next video required. Next option is disabled."),t(e))})}function mergeAdOptions(e){return function(t){return _.set(t,"adn",function(){var r=getViewportInfo(),n=_extends({"aa-sch-country_code":"se","aa-sch-inventory_type":void 0,"aa-sch-page_type":e.page,"aa-sch-publisher":"aftonbladet","aa-sch-supply_type":void 0,"se-aftonbladet-section":e.section.join(","),"se-generic-articleid":e.articleId,"se-generic-page":e.page,"se-generic-pagegen":"abtv","se-generic-screenwidth":window.screen.width.toString(),"se-generic-screenheight":window.screen.height.toString(),"se-generic-viewportheight":r.height.toString(),"se-generic-viewportwidth":r.width.toString()},_.mapValues((0,_astUrlQueries.getKeyWords)(),function(e){return e||[]})),a=_.mapKeys(n,function(e,t){return"kw_"+t}),i=(0,_astUrlQueries.activateTestPlacements)()?_.mapValues(e.adCodes,function(e){return e.replace(/-[^-]*_/,"-test_")}):e.adCodes;return a.vskippable="0",a.vplaybackmethod=t.autoplay?"1":"3",Promise.resolve({member:e.member,adSlots:{schedule:_.mapValues(i,function(e){return{inv_code:e}}),params:a}})})}}function markVideoAsWatched(e){return function(){videoHistory.markAsWatched(e)}}function setupVpaidControlWorkaround(){return function(e){return e.on("adSlotStart",function(){"function"==typeof e.getContainer&&e.getContainer().classList.remove("jw-flag-ads-hide-controls")}),e}}function initializeMms(e){return function(t){var r=_extends({},e.clientData,{playerVersion:window.SVP.Player.version});return(0,_svpWebPlayerMms2.default)(r,t,function(){return e.videoData}).setNs(_comscoreStreaming.ns_),t}}function initializeWebPlayers(){debug("Initializing web players");var e=cookies.get("sessionId"),t=cookies.get("X-AB-Segment");$(".svp-player").each(function(e,t){var r=$(t);$(".svp-player__player",r).attr("id","svp-node-"+e)}),$(".svp-player").each(function(r,n){function a(e){return u.embedded||_abSitecatalyst2.default.trackPageView(g),e}function i(){u.mixpanelData&&mixpanel.trackEvent("AB - Plus article page view",u.mixpanelData)}function o(e){l.attr("data-state",e.position)}function s(){l.attr("data-state","start")}var l=$(n),d=$(".svp-player__player",l),u=l.data("player-config"),c=$("link[rel='canonical']").attr("href"),p=_.merge({node:d.attr("id")},u.playerOptions),g=siteCatalyst.getSCPageViewData(u.siteCatalystVideoData,u.restriction),f=_.partial(sptTracking.sendVideoStartedEvent,u.sptTrackingData),m=_.partial(sifoTracker.triggerTracking,pageConfig.sifoData);Promise.resolve().then(recommendedVideos.populateRecommendedVideos(p.id,t)).then(getUserSpecificPlayerConfig(u.userPlayerConfigUrl,e)).then(logResult("User specific player options:")).then(mergePlayerOptions(p)).then(logResult("Merged user specific player options:")).then(mergeNextAssetOption).then(logResult("Merged next asset option:")).then(mergeAdOptions(u.adnData)).then(logResult("Merged appnexus ad options:")).then(setSharingLink(c)).then(a).then(loadPlayer).then(makePlayerAvailableOnWindow).then(initializeMms(u.mmsData)).then(setupVpaidControlWorkaround()).then((0,_videoScTracking.setupSiteCatalystVideoTracking)(u)).then(onInitialPlay(linkpulseTracker.sendInitialPageview)).then(onAdSlotStart(o)).then(onAdSlotComplete(s)).then(onAssetPlay(linkpulseTracker.sendVideoStartEvent)).then(onAssetPlay(f)).then(onAssetPlay(i)).then(onAssetPlay(m)).then(onAssetPlay(markVideoAsWatched(p.id))).then(onNextAssetPlay(playNextAsset)).then(onPlayRecommended(playRecommended)).catch(function(e){if(e instanceof UnauthorizedError||e instanceof ForbiddenError){if(debug("User is not authorized or doesn't have the necessary credentials to play video!"),u.embedded)return void l.attr("data-state","embedded-playback-not-supported");switch(u.restriction&&(g.access.premiumType="premiumTeaser",_abSitecatalyst2.default.trackPageView(g)),u.restriction){case"plus":l.attr("data-state","playback-requires-aftonbladet-plus");break;case"plus-premium":l.attr("data-state","playback-requires-aftonbladet-plus-premium");break;default:debug("Unexpected authorization error.",e),l.attr("data-state","unexpected-error")}u.mixpanelData&&(mixpanel.trackEvent("AB - Sales page view",u.mixpanelData),$(".js-purchase-link").one("click",function(){mixpanel.trackEvent("AB - Select product click",u.mixpanelData)}))}else debug("Unexpected error occurred:",e),l.attr("data-state","unexpected-error")})})}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_comscoreStreaming=require("../vendor/comscore.streaming.6.1.0.170130.min"),_svpWebPlayerMms=require("@spp/svp-web-player-mms"),_svpWebPlayerMms2=_interopRequireDefault(_svpWebPlayerMms),_abSitecatalyst=require("@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2"),_abSitecatalyst2=_interopRequireDefault(_abSitecatalyst),_videoScTracking=require("./video-sc-tracking"),_astUrlQueries=require("./ast-url-queries"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,debug=require("debug")("abtv:svp-player"),pageConfig=$("body").data("page-config"),playerUrl=pageConfig?pageConfig.playerUrl:void 0;(pageConfig&&pageConfig.appNexus||window.location.search&&window.location.search.indexOf("ast=true")>-1)&&(debug("Use Appnexus video ads, changing player"),playerUrl="https://cdn.svp.schibsted.io/player/2.0.1/player.min.js"),localStorage.getItem("abtv:player-url")&&(debug("Use localstorage override of player version"),playerUrl=localStorage.getItem("abtv:player-url"));var svpSdk=require("./svp-sdk").sdkPromise(playerUrl),_=require("lodash"),Promise=require("es6-promise").Promise,cookies=require("cookie-cutter"),siteCatalyst=require("./site-catalyst"),linkpulseTracker=require("./linkpulse-tracker"),sifoTracker=require("./sifo-tracker"),sptTracking=require("./spt-tracking"),mixpanel=require("./mixpanel"),URI=require("urijs"),tracker=require("./tracker"),videoHistory=require("./video-history"),autoplayNext=require("./svp-autoplay-next"),recommendedVideos=require("./recommended-videos"),customError=require("custom-error"),UnauthorizedError=customError("UnauthorizedError"),ForbiddenError=customError("ForbiddenError"),AjaxError=customError("AjaxError"),getViewportInfo=function(){var e=window.document.documentElement;return{width:e.clientWidth?e.clientWidth.toString():void 0,height:e.clientHeight?e.clientHeight.toString():void 0}};exports.init=initializeWebPlayers;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../vendor/comscore.streaming.6.1.0.170130.min":22,"./ast-url-queries":1,"./linkpulse-tracker":3,"./mixpanel":5,"./recommended-videos":7,"./sifo-tracker":8,"./site-catalyst":9,"./spt-tracking":11,"./svp-autoplay-next":12,"./svp-sdk":14,"./tracker":16,"./video-history":17,"./video-sc-tracking":18,"@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2":24,"@spp/svp-web-player-mms":25,"cookie-cutter":27,"custom-error":64,"debug":67,"es6-promise":69,"lodash":70,"urijs":78}],14:[function(require,module,exports){
"use strict";var debug=require("debug")("abtv:svp-sdk"),Promise=require("es6-promise").Promise,sdkPromise=function(e){return e?new Promise(function(r,n){window.onSvpPlayerReady=function(){debug("SvpPlayerReady called."),r(window.SVP)},debug("Loading SVP player SDK."),function(r,o,s){var d,t=r.getElementsByTagName(o)[0];r.getElementById(s)||(d=r.createElement(o),d.id=s,d.src=e,d.async=!0,d.onerror=n.bind(null,"Error loading player sdk"),t.parentNode.insertBefore(d,t))}(document,"script","svp-player-sdk")}):(debug("Player SDK url not set. Player SDK will not be loaded."),Promise.reject("Player SDK url not set."))};exports.sdkPromise=sdkPromise;
},{"debug":67,"es6-promise":69}],15:[function(require,module,exports){
(function (global){
"use strict";function belongsToGroup(e){if(!e)return!1;debug("Check if current user belongs to group: "+e);var t=getGetParam("abtg");if(t&&t===e)return debug("Matched the group based on test GET param."),!0;if(!(SEGMENT=getSegment())||"unknown"===SEGMENT)return debug("No segment cookie available"),!1;if(!GROUP_CONFIG||!GROUP_CONFIG.length)return void debug("No config found");var n=_.find(GROUP_CONFIG,function(t){return t.name===e});return n?n.active?SEGMENT>=n.start&&SEGMENT<=n.stop?(debug("User belongs to this testgroup"),!0):(debug("User does not belong to this testgroup"),!1):(debug("Matched group not active"),!1):(debug("No test group matched"),!1)}function getSegment(){if(null!==SEGMENT)return SEGMENT;var e=parseInt(cookies.get("X-AB-Segment"),10);return(isNaN(e)||e<=0||e>100)&&(e="unknown"),SEGMENT=e}function getGetParam(e){var t=location.href,n=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=n.exec(t);return null===o?null:o[1]}var debug=require("debug")("abtv:test-handler"),cookies=require("cookie-cutter"),_=require("lodash"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,GROUP_CONFIG=$("body").data("group-config"),SEGMENT=null;exports.belongsToGroup=belongsToGroup,exports.getSegment=getSegment;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"cookie-cutter":27,"debug":67,"lodash":70}],16:[function(require,module,exports){
"use strict";function createTrackingObject(e,t,r){return{areaName:t||"",clickPosition:r||"",previousSection:e||""}}function loadPersisted(){var e=storage.readValue(TRACKING_COOKIE,3e4);if(e)return e.getLinkName=function(){return e.areaName+"|"+(e.clickPosition||"0")},e;var t=cookies.get(TRACKING_COOKIE);if(t){var r=new Date(0);document.cookie=TRACKING_COOKIE+"=0;expires="+r.toGMTString()+";path=/;domain=.aftonbladet.se";var n=t.split("$");if(n.length>1)return e={},e.previousSection=n[0],e.linkName=n[1],e.getLinkName=function(){return e.linkName},e}return null}function init(){currentInfo=loadPersisted(),storage.clearValue(TRACKING_COOKIE)}function getInfo(){return currentInfo}function setInfo(e){currentInfo=e}function persist(e){storage.persistValue(TRACKING_COOKIE,e)}var storage=require("../common/local-storage"),cookies=require("cookie-cutter"),TRACKING_COOKIE="siteCatClickTrackString",currentInfo=null;exports.setInfo=setInfo,exports.init=init,exports.createTrackingObject=createTrackingObject,exports.getInfo=getInfo,exports.persist=persist,exports.loadPersisted=loadPersisted;
},{"../common/local-storage":4,"cookie-cutter":27}],17:[function(require,module,exports){
"use strict";function getWatchedVideoIds(){return new historyStore.get([])}function markAsWatched(e){var t=getWatchedVideoIds();-1===t.indexOf(e)&&(debug("Adding video ID "+e+" to watched history."),t.push(e),historyStore.set(t))}var debug=require("debug")("abtv:video-history"),store=require("./object-store"),historyStore=store.create("ab.videoIdHistory");exports.getWatchedVideoIds=getWatchedVideoIds,exports.markAsWatched=markAsWatched;
},{"./object-store":6,"debug":67}],18:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function setupSiteCatalystVideoTracking(t){var e=_extends({},t.siteCatalystVideoData,{userSegment:_testHandler2.default.getSegment()});return function(a){if(a.on("initialPlay",function(){_abSitecatalyst2.default.videoTracking.trackPlayerInitiated(e)}),a.on("assetPlay",function(){_abSitecatalyst2.default.videoTracking.trackContentStarted(e)}),!t.live){var i=0;a.on("time",function(t,a){var n=a/10,r=Math.floor(t/n);r>i&&(_abSitecatalyst2.default.videoTracking.trackSegment(r,Math.round(n),e),i=r)})}return a.on("adSlotStart",function(t){_abSitecatalyst2.default.videoTracking.trackAdSlotStart(t.position,e)}),a.on("adSlotComplete",function(t){_abSitecatalyst2.default.videoTracking.trackAdSlotComplete(t.position,e)}),a}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};exports.setupSiteCatalystVideoTracking=setupSiteCatalystVideoTracking;var _abSitecatalyst=require("@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2"),_abSitecatalyst2=_interopRequireDefault(_abSitecatalyst),_testHandler=require("./test-handler"),_testHandler2=_interopRequireDefault(_testHandler);
},{"./test-handler":15,"@aftonbladet/ab-sitecatalyst/dist/ab-sitecatalyst.commonjs2":24}],19:[function(require,module,exports){
(function (global){
"use strict";function init(){if(debug("Init 360 playback"),videoData)if(recommendedVideos.populateRecommendedVideos(videoData.videoId,segmentId)(),"desktop"===videoData.deviceType)"live"===videoData.streamType?$(".desktop-error-message").show():$(".play-video").show().click(playVideo);else if(has360PlaybackThroughAppBridge()||hasNativePlayBack())$(".play-video").show().click(playVideo);else{var e=location.protocol+"//"+document.location.host+document.location.pathname;window.location!=window.parent.location&&(e=document.referrer);var o=/(iPad|iPhone|iPod)/g.test(window.navigator.userAgent);o?($(".download-app").addClass("visible").click(function(){top.window.location=APPLE_STORE}),$(".deeplink").click(function(){top.window.location="abdeeplink://openurl/"+encodeURIComponent(e)})):(e=e.substring(e.indexOf("://")+3),e="abdeeplink://"+e,$(".deeplink").click(function(){launchAndroidApp(e)})),$(".mobile-error-message").show()}}function has360PlaybackThroughAppBridge(){return void 0!==window.ABAppBridge&&void 0!==window.ABAppBridge.play360Video}function hasNativePlayBack(){return void 0!==cookies.get("ABTV-NATIVEPLAYER")}function playVideo(e){if(debug("Play 360 video"),e.preventDefault(),has360PlaybackThroughAppBridge())window.ABAppBridge.play360Video(JSON.stringify(videoData));else if(hasNativePlayBack()){var o=JSON.stringify({command:"play360VideoNatively",videoData:videoData});parent.postMessage(o,"*")}else embedpano({swf:"/krpano/krpano.swf",xml:"/intern/krpano/"+videoData.videoId,target:"pano",html5:"auto",passQueryParameters:!0,mwheel:!1}),$(".play-video, .poster-imageholder").hide()}function launchAndroidApp(e){if(navigator.userAgent.match(/Chrome/)){var o=e.replace("abdeeplink","intent")+"#Intent;scheme=abdeeplink;package=se.aftonbladet.start;end";document.location=o}else navigator.userAgent.match(/Firefox/)?(launchWebkitApproach(e,ANDROID_STORE),setTimeout(function(){launchIframeApproach(e,ANDROID_STORE)},1500)):launchIframeApproach(e,ANDROID_STORE)}function launchIframeApproach(e,o){var a=document.createElement("iframe");a.style.border="none",a.style.width="1px",a.style.height="1px",a.onload=function(){document.location=o},document.body.appendChild(a)}function launchWebkitApproach(e,o){document.location=e,setTimeout(function(){document.location=o},2500)}var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,cookies=require("cookie-cutter"),debug=require("debug")("abtv:vr-player"),segmentId=cookies.get("X-AB-Segment"),recommendedVideos=require("./recommended-videos"),videoData=$(".vr-player").data("player-config"),ANDROID_STORE="https://play.google.com/store/apps/details?id=se.aftonbladet.start&hl=en",APPLE_STORE="https://itunes.apple.com/se/app/aftonbladet/id284962281";exports.init=init;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./recommended-videos":7,"cookie-cutter":27,"debug":67}],20:[function(require,module,exports){
(function (global){
"use strict";var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,debug=require("debug")("abtv:embedded"),svpPlayer=require("./common/svp-player"),vrPlayer=require("./common/vr-player");require("picturefill"),debug("Application started."),$(document).ready(function(){svpPlayer.init(),vrPlayer.init()});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./common/svp-player":13,"./common/vr-player":19,"debug":67,"picturefill":73}],21:[function(require,module,exports){
function pug_attr(a,e,t,s){return!1!==e&&null!=e&&(e||"class"!==a&&"style"!==a)?!0===e?" "+(s?a:a+'="'+a+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),t||-1===e.indexOf('"'))?(t&&(e=pug_escape(e))," "+a+'="'+e+'"'):" "+a+"='"+e.replace(/'/g,"&#39;")+"'"):""}function pug_escape(a){var e=""+a,t=pug_match_html.exec(e);if(!t)return a;var s,n,i,r="";for(s=t.index,n=0;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}n!==s&&(r+=e.substring(n,s)),n=s+1,r+=i}return n!==s?r+e.substring(n,s):r}function template(a){var e,t="",s=a||{};return function(a){t+='\n<div class="abStreamer abStreamerSmall abThemeBg">Rekommenderat</div>\n<div class="content-discovery-list">',function(){var s=a;if("number"==typeof s.length)for(var n=0,i=s.length;n<i;n++){var r=s[n],l=r.sponsored?"true":"false";t=t+"\n  <article><a"+pug_attr("href",r.uri,!0,!1)+' data-link-area="related"'+pug_attr("data-id",r.id,!0,!1)+pug_attr("data-sponsored",l,!0,!1)+pug_attr("data-link-position",n+1,!0,!1)+'>\n      <div class="vertical-list-thumbholder">',r.sponsored&&(t+='\n        <div class="sponsored-banner">Annons</div>'),t=t+'\n        <div class="img-wrap"><img sizes="(min-width: 590px) 140px, 120px"'+pug_attr("srcset",r.srcSet,!0,!1)+'/></div>\n        <div class="label-playtime">'+pug_escape(null==(e=r.duration)?"":e)+'</div>\n      </div>\n      <div class="vertical-list-content"><span class="title">'+pug_escape(null==(e=r.title)?"":e)+"</span>\n        <p>"+pug_escape(null==(e=r.description)?"":e)+'</p>\n        <div class="abLabelThin"><span>'+pug_escape(null==(e=r.category)?"":e)+"</span></div>\n      </div></a></article>"}else{var i=0;for(var n in s){i++;var r=s[n],l=r.sponsored?"true":"false";t=t+"\n  <article><a"+pug_attr("href",r.uri,!0,!1)+' data-link-area="related"'+pug_attr("data-id",r.id,!0,!1)+pug_attr("data-sponsored",l,!0,!1)+pug_attr("data-link-position",n+1,!0,!1)+'>\n      <div class="vertical-list-thumbholder">',r.sponsored&&(t+='\n        <div class="sponsored-banner">Annons</div>'),t=t+'\n        <div class="img-wrap"><img sizes="(min-width: 590px) 140px, 120px"'+pug_attr("srcset",r.srcSet,!0,!1)+'/></div>\n        <div class="label-playtime">'+pug_escape(null==(e=r.duration)?"":e)+'</div>\n      </div>\n      <div class="vertical-list-content"><span class="title">'+pug_escape(null==(e=r.title)?"":e)+"</span>\n        <p>"+pug_escape(null==(e=r.description)?"":e)+'</p>\n        <div class="abLabelThin"><span>'+pug_escape(null==(e=r.category)?"":e)+"</span></div>\n      </div></a></article>"}}}.call(this),t+="\n</div>",a.length<4||(t+='\n<div class="show-last-items-holder"><a class="js-show-last-items" href="#">Visa fler \n    <icon class="abIconArrowDown"></icon></a></div>')}.call(this,"videos"in s?s.videos:"undefined"!=typeof videos?videos:void 0),t}var pug=require("pug-runtime");module.exports=template;var pug_match_html=/["&<>]/;
},{"pug-runtime":75}],22:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?(t(e.ns_=e.ns_||{}),define([],function(){return e.ns_})):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t({}):t(e.ns_=e.ns_||{})}(void 0,function(e){e.ns_=e;var t=t||{};t.indexOf=function(e,t){var n=-1;return this.forEach(t,function(t,s){t==e&&(n=s)}),n},t.forEach=function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var s=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!s||s&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i)}catch(e){}};var t=t||{};t.parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},t.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},t.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},t.toString=function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()};var t=t||{};t.filter=function(e,t){var n={};for(var s in t)t.hasOwnProperty(s)&&e(t[s])&&(n[s]=t[s]);return n},t.extend=function(e){var t,n=arguments.length;e=e||{};for(var s=1;s<n;s++)if(t=arguments[s])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e};var t=t||{};t.cloneObject=function(e){return null==e||"object"!=(void 0===e?"undefined":_typeof(e))?e:function(){function e(){}function t(t){return"object"==(void 0===t?"undefined":_typeof(t))?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function s(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new s;return t&&(n.maxDepth=t),n.deepCopy(e)}function i(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var r=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},s.prototype={constructor:s,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,s=0;s<n;s++)if(t[s][0]===e)return t[s][1]},deepCopy:function(e){if(null===e)return null;if("object"!=(void 0===e?"undefined":_typeof(e)))return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<r.length;n++){var s=r[n];if(s.canCopy(e))return this.applyDeepCopier(s,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=r,a.register=function(e){e instanceof n||(e=new n(e)),r.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var s=0;s<t.length;s++)n.push(e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return i(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var s=0;s<t.childNodes.length;s++){var a=e(t.childNodes[s]);n.appendChild(a)}}}),{deepCopy:a}}().deepCopy(e)};var t=t||{};t.getNamespace=function(){return e.ns_||e},t.uid=function(){var e=1;return function(){return+new Date+"_"+e++}}(),t.isEmpty=function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},t.isNotEmpty=function(e){return!this.isEmpty(e)},t.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},t.isTrue=function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},t.regionMatches=function(e,t,n,s,a){if(t<0||s<0||t+a>e.length||s+a>n.length)return!1;for(;--a>=0;){if(e.charAt(t++)!=n.charAt(s++))return!1}return!0},t.exists=function(e){return void 0!==e&&null!=e},function(){var e=[],n=!1,s=!0,a=1e3;t.onSystemClockJump=function(t,i){e.push(t),n||(n=!0,a=i||a,s=+new Date,setInterval(function(){var t=s+a,n=+new Date;s=n;var i=n-t;if(Math.abs(i)>a)for(var r=0;r<e.length;++r)e[r](i>0)},a))}}();var t=t||{};t.hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var e=!1;return void 0!==document.hidden?e=!0:void 0!==document.mozHidden?e=!0:void 0!==document.msHidden?e=!0:void 0!==document.webkitHidden&&(e=!0),function(){return e}}(),t.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var e,t,n;void 0!==document.hidden?(e="hidden",t="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var s={hidden:e,visibilityChange:t,state:n};return function(){return s}}(),t.isTabInBackground=function(){if("undefined"==typeof document)return null;var e=t.getPageVisibilityAPI();return function(){return document[e.hidden]}}(),t.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",s=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?s="Opera":-1!=(t=n.indexOf("Android"))?s="Android":-1!=(t=n.indexOf("Chrome"))?s="Chrome":-1!=(t=n.indexOf("Safari"))?s="Safari":-1!=(t=n.indexOf("Firefox"))?s="Firefox":-1!=(t=n.indexOf("IEMobile"))?s="Internet Explorer Mobile":"Microsoft Internet Explorer"==s||"Netscape"==s?s="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(s=n.substring(e,t),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)):s="unknown",s},t.getBrowserFullVersion=function(){if(!navigator)return"";var e,t,n,s,a=navigator.userAgent||"",i=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=a.indexOf("Opera"))?(r=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("OPR/"))?r=a.substring(t+4):-1!=(t=a.indexOf("Android"))?r=a.substring(t+11):-1!=(t=a.indexOf("Chrome"))?r=a.substring(t+7):-1!=(t=a.indexOf("Safari"))?(r=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?r=a.substring(t+8):"Microsoft Internet Explorer"==i?(s=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=s.exec(a)&&(r=parseFloat(RegExp.$1))):"Netscape"==i?(s=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=s.exec(a)&&(r=parseFloat(RegExp.$1))):r=a.lastIndexOf(" ")+1<(t=a.lastIndexOf("/"))?a.substring(t+1):"unknown",r=r.toString(),-1!=(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},t.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.isWebSecure=function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)};var n=function(){return function(e,t){function n(t){t=t||[];var n=[r,+new Date];return e&&n.push(e),t=Array.prototype.slice.call(t),n=n.concat(t)}function s(e){var n,s,a;if("boolean"==typeof t||!t)return!!t;if(a=e.join(" "),t instanceof Array&&t.length>0){for(n=0;n<t.length;++n)if((s=t[n])instanceof RegExp&&s.test(a))return!0;return!1}if("object"==(void 0===t?"undefined":_typeof(t))){var i=!1;if(t.hide instanceof Array)for(n=0;n<t.hide.length;++n)if((s=t.hide[n])instanceof RegExp&&s.test(a)){i=!0;break}if(t.show instanceof Array)for(n=0;n<t.show.length;++n)if((s=t.show[n])instanceof RegExp&&s.test(a))return!0;return!i&&!t.show}return!0}function a(e){var n=o.length;(n>1e4||t&&t.max&&n>t.max)&&(o=o.slice(-Math.floor(t.max/2)),o.push("Previous logs: "+n)),o.push(e)}var i=this,r="comScore",o=[];i.log=function(){var e=n(arguments);a(e),"undefined"!=typeof console&&"function"==typeof console.log&&s(e)&&console.log.apply(console,e)},i.warn=function(){var e=n(arguments);a(e),"undefined"!=typeof console&&"function"==typeof console.warn&&s(e)&&console.warn.apply(console,e)},i.error=function(){var e=n(arguments);a(e),"undefined"!=typeof console&&"function"==typeof console.error&&s(e)&&console.error.apply(console,e)},i.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},i.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},i.deprecation=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},i.getLogHistory=function(){return o}}}();return e.StreamingAnalytics=e.StreamingAnalytics||function(){var e=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,s){n&&n.setItem(e+t,s)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var s=n.key(t);s.substr(0,e.length)===e&&n.removeItem(s)}}})}}(),s=function(e,t){if("undefined"==typeof Image)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e},a=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)},i=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),r=function(){return{PLATFORM:"generic",httpGet:s,httpPost:a,Storage:e,IO:i,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return o.UNKNOWN_VALUE},getAppVersion:function(){return o.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return o.UNKNOWN_VALUE},getPlatformVersion:function(){return o.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return o.UNKNOWN_VALUE},getRuntimeVersion:function(){return o.UNKNOWN_VALUE},getDisplayResolution:function(){return o.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return o.UNKNOWN_RESOLUTION},getLanguage:function(){return o.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setTimeout(e,t)}),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearTimeout(e)}),getDeviceArchitecture:function(){return o.UNKNOWN_VALUE},getConnectionType:function(){return o.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return o.UNKNOWN_VALUE},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}}}(),o={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};t.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var s=e[n];t[n]=null===s||void 0===s?s:e[n]+""}return t},t.getKeys=function(e,t){var n,s=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(s[s.length]=n);return s},t.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,s,a){var i={};if(!(s>=n))return t.cloneObject(e);if(i.start=n,i.end=s,0==e.length)return e.push(i),t.cloneObject(e);var r;for(r=0;r<e.length;r++)if(i.start>=e[r].start&&i.end<=e[r].end)return t.cloneObject(e);var o,g=!1;for(o=0;o<e.length;o++)if(o+1===e.length&&i.start>=e[o].start||i.start>=e[o].start&&i.start<e[o+1].start){e.splice(o+1,0,i),g=!0;break}g||e.splice(0,0,i);var c=[e[0]];for(r=1;r<e.length;r++)c[c.length-1].end+a<e[r].start?c.push(e[r]):c[c.length-1].end<e[r].end&&(c[c.length-1].end=e[r].end);return t.cloneObject(c)},t.stateToString=function(e){var t=R.InternalStates;for(var n in t)if(t.hasOwnProperty(n)&&t[n]==e)return n};var g=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),c=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),u={STREAMINGANALYTICS_VERSION:"6.1.0.170130",MODEL_VERSION:"5.8",LOG_NAMESPACE:"STA",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL:1e3,SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL:500,DEFAULT_ASSET_PLAYBACK_RATE:100,STANDARD_METADATA_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_ami","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]},S=function(){function e(){var e,n,s,a,i,r,g,c,l,S,_,P,f,b,p,y,d,k,A,m,E,T,v,L,I,N,C,D,B,h,R,U,O,F,G,w,K,M,Y,x,V,H,q,W,j,J,z,$,Q,X,Z=this,ee=u.INTERVAL_MERGE_TOLERANCE;t.extend(this,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){ee=e},getPlaybackIntervalMergeTolerance:function(){return ee},setInternalLabel:function(e,t){a[e]=t},getInternalLabel:function(e){return a[e]},hasInternalLabel:function(e){return null!=a[e]},setLabels:function(e){e&&t.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){i[e]=t},getLabel:function(e){return i[e]},hasLabel:function(e){return e in i},getClipNumber:function(){return parseInt(Z.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){Z.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return Z.hasLabel("ns_st_pn")?parseInt(Z.getLabel("ns_st_pn")):parseInt(Z.getInternalLabel("ns_st_pn"))},createLabels:function(e,n){var r=e||{},o=t.isEmpty(r.ns_st_pt)?Z.getPlaybackTime():parseInt(r.ns_st_pt);r.ns_st_pt=o+(isNaN(c)?0:n-c)+"",r.ns_st_dpt=o+(isNaN(c)?0:n-c)-S+"",r.ns_st_ipt=o+(isNaN(c)?0:n-c)-_+"";var g=t.isEmpty(r.ns_st_et)?Z.getElapsedTime():parseInt(r.ns_st_et);r.ns_st_et=g+(isNaN(b)?0:n-b)+"",r.ns_st_det=g+(isNaN(b)?0:n-b)-p+"";var l=t.isEmpty(r.ns_st_bt)?Z.getBufferingTime():parseInt(r.ns_st_bt);r.ns_st_bt=l+"",r.ns_st_dbt=l+(isNaN(C)?0:n-C)-D+"";for(var u,P=parseInt(r.ns_st_po),f=t.addNewPlaybackInterval(t.cloneObject(Z.getSegmentPlaybackIntervals()),X<0?P:A,X<0?A:P,ee),y=t.addNewPlaybackInterval(t.cloneObject(Z.getAssetPlaybackIntervals()),X<0?P:A,X<0?A:P,ee),d=0,k=0,N=0;N<f.length;N++)u=Math.abs(f[N].end-f[N].start),d+=u,u>k&&(k=u);var B=0,R=0;for(N=0,u;N<y.length;N++)u=Math.abs(y[N].end-y[N].start),B+=u,u>R&&(R=u);r.ns_st_upc=d+"",r.ns_st_dupc=d-m+"",r.ns_st_iupc=d-E+"",r.ns_st_iupc=d>E?d-E+"":"0",r.ns_st_lpc=k+"",r.ns_st_dlpc=k-T+"",r.ns_st_upa=B+"",r.ns_st_dupa=B-v+"",r.ns_st_iupa=B>L?B-L+"":"0",r.ns_st_lpa=R+"",r.ns_st_dlpa=R-I+"";var U=t.isEmpty(r.ns_st_pc)?Z.getPauses():parseInt(r.ns_st_pc);r.ns_st_pc=U+"",r.ns_st_dpc=U-V+"";var O=t.isEmpty(r.ns_st_skc)?Z.getSeeks():parseInt(r.ns_st_skc);r.ns_st_skc=O+"",r.ns_st_dskc=O-q+"";var G=t.isEmpty(r.ns_st_bc)?Z.getBuffers():parseInt(r.ns_st_bc);r.ns_st_bc=G+"",r.ns_st_dbc=G-h+"";var w=t.isEmpty(r.ns_st_skt)?Z.getSeekingTime():parseInt(r.ns_st_skt);r.ns_st_skt=w+"",r.ns_st_dskt=w-F+"";var K=t.isEmpty(r.ns_st_ska)?Z.getSeekingAmount():parseInt(r.ns_st_ska);return r.ns_st_ska=K+"",r.ns_st_dska=K-M+"",s&&(r.ns_st_spc=W+"",r.ns_st_apc=j+"",r.ns_st_sq=J+"",r.ns_st_asq=z+""),r.ns_st_sc=s||0!=$?$+"":"1",r.ns_st_rt=X+"",t.extend(r,a,i),r},updateDeltaLabels:function(e){S=parseInt(e.ns_st_pt),p=parseInt(e.ns_st_et),D=parseInt(e.ns_st_bt),m=parseInt(e.ns_st_upc),T=parseInt(e.ns_st_lpc),v=parseInt(e.ns_st_upa),I=parseInt(e.ns_st_lpa),V=parseInt(e.ns_st_pc),q=parseInt(e.ns_st_skc),h=parseInt(e.ns_st_bc),F=parseInt(e.ns_st_skt),M=parseInt(e.ns_st_ska),Z.setSeekingDirection(0)},updateIndependentLabels:function(e){_=parseInt(e.ns_st_pt),E=parseInt(e.ns_st_upc),L=parseInt(e.ns_st_upa)},getVideoTrack:function(){return Z.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){Z.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return Z.getInternalLabel("ns_st_at")},setAudioTrack:function(e){Z.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return Z.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){Z.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return Z.getInternalLabel("ns_st_cdn")},setCDN:function(e){Z.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return d},setAssetPlaybackIntervals:function(e){d=e},getAssetPlaybackIntervals:function(){return k},incrementPauses:function(){x++},incrementSeeks:function(){H++},incrementPlayCounter:function(){J++},getPlayCounter:function(){return J},getBufferingTime:function(){return N},setBufferingTime:function(e){N=e},addBufferingTime:function(e){if(!isNaN(C)){var t=Z.getBufferingTime();t+=e-C,Z.setBufferingTime(t),C=NaN}},setPlaybackStartPosition:function(e){A=parseInt(e)},getPlaybackStartPosition:function(){return A},addInterval:function(e){isNaN(A)||isNaN(e)||(d=t.addNewPlaybackInterval(d,X<0?e:A,X<0?A:e,ee),k=t.addNewPlaybackInterval(k,X<0?e:A,X<0?A:e,ee),A=NaN)},getElapsedTime:function(){return f},setElapsedTime:function(e){f=e},addElapsedTime:function(e){if(!isNaN(b)){var t=Z.getElapsedTime();t+=e-b,Z.setElapsedTime(t),b=NaN}},getElapsedTimestamp:function(){return b},setElapsedTimestamp:function(e){b=e},addPlaybackTime:function(e){if(!isNaN(c)){var t=Z.getPlaybackTime();t+=e-c,Z.setPlaybackTime(t),c=NaN}},getPlaybackTime:function(){return g},getExpectedPlaybackPosition:function(e){return isNaN(c)?P:P+Math.floor((e-c)*X/100)},setPlaybackTimeOffset:function(e){P=e},getPlaybackTimeOffset:function(){return P},setPlaybackTime:function(e){g=e},getPlaybackTimestamp:function(){return c},setPlaybackTimestamp:function(e){c=e},setPreviousPlaybackTime:function(e){S=e},setPreviousPlaybackTimestamp:function(e){l=e},getBufferingTimestamp:function(){return C},setBufferingTimestamp:function(e){C=e},getPauses:function(){return x},setPauses:function(e){x=e},getSeeks:function(){return H},setSeeks:function(e){H=e},setSeeking:function(e){R=e},isSeeking:function(){return R},setCollectingSeekingTime:function(e){w=e},isCollectingSeekingTime:function(){return w},setAssetStarted:function(e){n=e},isAssetStarted:function(){return n},setPlaybackStarted:function(e){s=e},isPlaybackStarted:function(){return s},setSeekingTimestamp:function(e){U=e},getSeekingTimestamp:function(){return U},addSeekingTime:function(e){if(!isNaN(U)){var t=Z.getSeekingTime();t+=e-U,Z.setSeekingTime(t),U=NaN}},getSeekingTime:function(){return O},setSeekingTime:function(e){O=e},setSeekingTimeBeforeEnd:function(e){Y=e},getSeekingTimeBeforeEnd:function(){return Y},setSeekStartPosition:function(e){G=e},getSeekStartPosition:function(){return G},setSeekingAmount:function(e){K=e},getSeekingAmount:function(){return K},addSeekingAmount:function(e){var t=Z.getSeekingAmount();t+=Math.abs(e-G),Z.setSeekingAmount(t);var n;G==e?n=0:G>e?n=-1:G<e&&(n=1),Z.setSeekingDirection(n),G=0},getSeekingDirection:function(){return parseInt(Z.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){Z.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){g=0,S=0,_=0,N=0,D=0,B=0,h=0,x=0,V=0,J=0,k=[],v=0,L=0,I=0,f=0,p=0,O=0,F=0,K=0,M=0,H=0,q=0},incrementSegmentPlaybackCounter:function(){W++},incrementAssetLoadCounter:function(){$++},incrementAssetPlaybackCounter:function(){j++},getPreviousUniquePlaybackInterval:function(){return m},setPreviousUniquePlaybackInterval:function(e){m=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return E},setPreviousEventIndependentUniquePlaybackInterval:function(e){E=e},setPreviousLongestPlaybackInterval:function(e){T=e},getPreviousLongestPlaybackInterval:function(){return T},resetAssetPlaybackIntervals:function(){k=[],v=0,L=0,I=0},setSegmentPlaybackCounter:function(e){W=e},setAssetLoadCounter:function(e){$=e},setAssetPlaybackCounter:function(e){j=e},setLowestPartNumberPlayed:function(e){y=e},getSegmentPlaybackCounter:function(){return W},getAssetLoadCounter:function(){return $},getAssetPlaybackCounter:function(){return j},getLowestPartNumberPlayed:function(){return y},getBuffers:function(){return B},incrementBufferCount:function(){B++},getPreviousBufferingTime:function(){return D},setPlaySequenceCounter:function(e){z=e},incrementPlaySequenceCounter:function(){z++},getPlaySequenceCounter:function(){return z},isPlaybackSessionLooping:function(){return Q},setPlaybackSessionLooping:function(e){Q=e},enableAutoCalculatePositions:function(e){r=!!e},isAutoCalculatePositionsEnabled:function(){return r},getPlaybackRate:function(){return X},setPlaybackRate:function(e){X=e}}),function(){a={},a.ns_st_cl="0",a.ns_st_pn="1",a.ns_st_tp="0",a.ns_st_cn="1",a.ns_st_skd="0",a.ns_st_ci="0",a.c3="*null",a.c4="*null",a.c6="*null",a.ns_st_st="*null",a.ns_st_pu="*null",a.ns_st_pr="*null",a.ns_st_ep="*null",a.ns_st_sn="*null",a.ns_st_en="*null",a.ns_st_ct="*null",i={},s=!1,n=!1,e=o.UNKNOWN_VALUE,r=!0,g=0,c=NaN,P=0,S=0,l=NaN,f=0,b=NaN,y=0,p=0,_=0,A=NaN,d=[],k=[],m=0,E=0,T=0,v=0,L=0,I=0,N=0,C=NaN,D=0,B=0,h=0,R=!1,U=NaN,w=!1,G=0,Y=0,O=0,F=0,K=0,M=0,x=0,V=0,H=0,q=0,W=0,j=0,J=0,z=0,$=0,Q=!1,X=u.DEFAULT_ASSET_PLAYBACK_RATE}()}return e.resetAsset=function(e,t,n){for(var s=e.getLabels(),a={},i=0;n&&i<n.length;++i)s.hasOwnProperty(n[i])&&(a[n[i]]=s[n[i]]);t.setLabels(a),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),_=function(){function e(e){var n,s,a,i,r,o,l,_,P,f,b,p,y,d,k,A,m=this;t.extend(this,{resetAsset:function(){var e=n;n=new S,S.resetAsset(e,n)},hashExists:function(e){return null!=_[e]},storeHash:function(e){_[e]={}},removeHash:function(e){delete _[e]},storeAssetPlaybackCounters:function(){for(var e in _)if(_.hasOwnProperty(e)&&_[e].clipNumber===n.getClipNumber()){t.extend(_[e],{segmentPlaybackCounter:n.getSegmentPlaybackCounter(),assetLoadCounter:n.getAssetLoadCounter(),assetPlaybackCounter:n.getAssetPlaybackCounter(),lowestPartNumberPlayed:n.getLowestPartNumberPlayed(),seeking:n.isSeeking(),seekingTimeBeforeEnd:n.getSeekingTimeBeforeEnd(),seekingStartPosition:n.getSeekStartPosition(),segmentPlaybackIntervals:n.getSegmentPlaybackIntervals(),videoTrack:n.getVideoTrack(),audioTrack:n.getAudioTrack(),subtitleTrack:n.getSubtitleTrack(),cdn:n.getCDN(),playSequenceCounter:n.getPlaySequenceCounter(),previousUniquePlaybackInterval:n.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:n.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:n.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return _[e]},getClipNumber:function(e){return _[e].clipNumber},getMaxClipNumber:function(){return P},storeClipNumber:function(e,t){_[e].clipNumber=t,t>P&&(P=t)},setLabels:function(e){null!=e&&t.extend(o,e)},getLabels:function(){return o},setLabel:function(e,t){var n={};n[e]=t,m.setLabels(n)},getLabel:function(e){return o[e]},getAsset:function(){return n},addInternalErrorFlag:function(e){for(var t=0;t<A.length;++t)if(A[t]==e)return;A.push(e)},createLabels:function(s,a){var g=s||{},c=t.isEmpty(g.ns_st_pa)?m.getPlaybackTime():parseInt(g.ns_st_pa);return g.ns_st_pa=c+(isNaN(i)?0:a-i)+"",g.ns_st_pp=y+"",g.ns_st_sp=d+"",g.ns_st_bp=k+"",f||(g.ns_st_pb=null!=g.ns_st_pb?g.ns_st_pb:"1"),n.isPlaybackStarted()&&(g.ns_st_ppc=b+"",g.ns_st_psq=p+""),A.length>0&&(g.ns_st_ie=(g.ns_st_ie?g.ns_st_ie+";":"")+A.join(";")),t.extend(g,r,o),e.getPlaybackSession().getAsset().createLabels(g,a),g},incrementPlayCounter:function(){d++},incrementPauses:function(){y++},addPlaybackTime:function(e){if(!isNaN(i)){var t=m.getPlaybackTime();t+=e-i,m.setPlaybackTime(t),i=NaN}},addBufferingTime:function(e){if(!isNaN(s)){var t=m.getBufferingTime();t+=e-s,m.setBufferingTime(t),s=NaN}},getBufferingTime:function(){return k},setBufferingTime:function(e){k=e},getPlaybackTime:function(){return a},setBufferingTimestamp:function(e){s=e},getBufferingTimestamp:function(){return s},setPlaybackTime:function(e){a=e},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return y},setPauses:function(e){y=e},isPlaybackSessionStarted:function(){return l},setPlaybackSessionStarted:function(e){l=e},getPlaybackCounter:function(){return b},incrementPlaybackCounter:function(){b++},setFirstEventSent:function(e){f=e},setPlaySequenceCounter:function(e){p=e},incrementPlaySequenceCounter:function(){p++},getPlaybackSessionID:function(){return r.ns_st_id},setAsset:function(n,s){e.getLogging().apiCall("setAsset",n,s),n=t.jsonObjectToStringDictionary(n);var a=e.getStateMachine().getCurrentState();if(a!=c.IDLE){e.getLogging().infoLog("Ending the current Clip. It was in state:",t.stateToString(a));var i={};e.getStaCore().newEvent(g.END,t.fixEventTime(i),i)}var r="",o=0;if(null!=n.ns_st_cn)r=n.ns_st_cn;else for(var l=0;l<u.STANDARD_METADATA_LABELS.length;l++)n[u.STANDARD_METADATA_LABELS[l]]&&(r+=u.STANDARD_METADATA_LABELS[l]+":"+n[u.STANDARD_METADATA_LABELS[l]]+";");var S=m,_=S.getAsset();_.isAssetStarted()?(S.hashExists(_.getHash())||(S.storeHash(_.getHash()),S.storeClipNumber(_.getHash(),_.getClipNumber())),S.storeAssetPlaybackCounters(),o=S.hashExists(r)?S.getClipNumber(r):t.exists(n.ns_st_cn)?parseInt(n.ns_st_cn):S.getMaxClipNumber()+1):o=S.hashExists(r)?S.getClipNumber(r):_.getClipNumber(),S.resetAsset(),_=S.getAsset(),_.setHash(r),_.setClipNumber(o),_.setLabels(n);var P=S.getStoredAssetRegisters(r);P&&(_.setAssetStarted(!0),_.setSegmentPlaybackCounter(P.segmentPlaybackCounter),_.setAssetLoadCounter(P.assetLoadCounter),_.setAssetPlaybackCounter(P.assetPlaybackCounter),_.setLowestPartNumberPlayed(P.lowestPartNumberPlayed),_.setSeeking(P.seeking),_.setSeekingTimeBeforeEnd(P.seekingTimeBeforeEnd),_.setSeekStartPosition(P.seekingStartPosition),_.setAssetPlaybackIntervals(P.segmentPlaybackIntervals),P.videoTrack&&_.setVideoTrack(P.videoTrack),P.audioTrack&&_.setAudioTrack(P.audioTrack),P.subtitleTrack&&_.setSubtitleTrack(P.subtitleTrack),P.cdn&&_.setCDN(P.cdn),_.setPlaySequenceCounter(P.playSequenceCounter),_.setPreviousUniquePlaybackInterval(P.previousUniquePlaybackInterval),
_.setPreviousEventIndependentUniquePlaybackInterval(P.previousEventIndependentUniquePlaybackInterval),_.setPreviousLongestPlaybackInterval(P.previousLongestPlaybackInterval)),_.incrementAssetLoadCounter(),_.isAssetStarted()&&s&&S.incrementPlayCounter(),s&&(S.setPlaySequenceCounter(0),_.setPlaybackSessionLooping(!0)),!t.exists(n.ns_st_tp)&&t.exists(n.ns_st_ad)&&t.isNotEmpty(n.ns_st_ad)&&"0"!==n.ns_st_ad&&_.setInternalLabel("ns_st_tp","1")}}),function(){n=new S,r={},r.ns_st_id=+new Date+"",o={},s=NaN,a=0,i=NaN,_={},P=0,l=!1,f=!1,b=0,y=0,p=0,d=1,k=0,A=[]}()}return e.resetPlaybackSession=function(e,t,n){for(var s=t.getAsset(),a=t.getLabels(),i={},r=0;n&&r<n.length;r++)a.hasOwnProperty(n[r])&&(i[n[r]]=a[n[r]]);e.getPlaybackSession().setLabels(i),S.resetAsset(s,e.getPlaybackSession().getAsset(),n)},e}(),P=function(){return function(e){function n(n){a=t.extend({},n);var s=e.getStaCore().getLiveEndpointURL();if(e.getAppCore()){if(e.getStaCore().isProperlyInitialized()){var i=e.getStaCore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var r=e.getAppCore().getMeasurementDispatcher();r.send(i.HIDDEN,n,s)}else{var o=e.getStaCore().getExports().am,g=o.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,n,s);e.getAppCore().getQueue().offer(g)}}}else s&&e.getStaCore().getPlatformAPI().httpGet(e.getStaCore().prepareUrl(s,n))}var s,a,i=this,r=[];t.extend(this,{newEvent:function(e){for(var t=0;t<r.length;++t)r[t](e.eventLabels);n(e.eventLabels),e.eventType!=g.HEARTBEAT&&i.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&r.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<r.length;++n)if(r[n]==e){t=n;break}isNaN(t)||r.splice(t,1)},getEventCounter:function(){return s},incrementEventCounter:function(){s++},setEventCounter:function(e){s=e},getMeasurementSnapshot:function(){return a}}),function(){s=1}()}}(),f=function(){return function(e){function n(){r++;var n={},s=t.fixEventTime(n);n.ns_st_hc=e.getHeartbeat().getCount()+"";var a=e.getStaCore().createLabels(g.HEARTBEAT,n,s);e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),i=0,o.resume()}function s(){null!=a&&(e.getStaCore().getPlatformAPI().clearTimeout(a),a=null)}var a,i,r,o=this,c=u.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return r},setIntervals:function(e){c=e},getInterval:function(e){var t=0;if(null!=c)for(var n=0;n<c.length;n++){var s=c[n],a=s.playingtime;if(!a||e<a){t=s.interval;break}}return t},getIntervals:function(){return c},resume:function(){s();var t=o.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(t>0){var r=i>0?i:t;a=e.getStaCore().getPlatformAPI().setTimeout(n,r)}i=0},pause:function(){s();var t=o.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));i=t-(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()))%t}}),function(){i=0,r=0}()}}(),b=function(){return function(e){function n(){var n={},s=t.fixEventTime(n);e.getStaCore().newPseudoEvent(g.KEEPALIVE,s,n),i.start()}function s(){null!=a&&(e.getStaCore().getPlatformAPI().clearTimeout(a),a=null)}var a,i=this,r=u.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(i,{start:function(){s(),a=e.getStaCore().getPlatformAPI().setTimeout(n,r)},stop:s,setInterval:function(e){r=e},getInterval:function(){return r}})}}(),p=function(){return function(e){var n,s,a,i=this;t.extend(i,{eventTypeToState:function(e){if(a==c.IDLE){if(e==g.PLAY)return c.PLAYING;if(e==g.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==g.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(a==c.PLAYBACK_NOT_STARTED){if(e==g.PLAY)return c.PLAYING;if(e==g.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==g.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK;if(e==g.END||e==g.AD_SKIP)return c.IDLE}else if(a==c.PLAYING){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.BUFFER)return c.BUFFERING_DURING_PLAYBACK;if(e==g.PAUSE)return c.PAUSED;if(e==g.SEEK_START)return c.SEEKING_DURING_PLAYBACK}else if(a==c.PAUSED){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.BUFFER)return c.BUFFERING_DURING_PAUSE;if(e==g.PLAY)return c.PLAYING;if(e==g.SEEK_START)return c.SEEKING_DURING_PAUSE}else if(a==c.BUFFERING_BEFORE_PLAYBACK){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PAUSE||e==g.BUFFER_STOP)return c.PLAYBACK_NOT_STARTED;if(e==g.PLAY)return c.PLAYING;if(e==g.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK}else if(a==c.BUFFERING_DURING_PLAYBACK){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY||e==g.BUFFER_STOP)return c.PLAYING;if(e==g.PAUSE_ON_BUFFERING)return c.PAUSED_DURING_BUFFERING;if(e==g.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==g.PAUSE)return c.PAUSED}else if(a==c.BUFFERING_DURING_SEEKING){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY)return c.PLAYING;if(e==g.BUFFER_STOP)return c.SEEKING_DURING_PLAYBACK;if(e==g.PAUSE)return c.PAUSED}else if(a==c.BUFFERING_DURING_PAUSE){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY)return c.PLAYING;if(e==g.SEEK_START)return c.SEEKING_DURING_PAUSE;if(e==g.BUFFER_STOP||e==g.PAUSE)return c.PAUSED}else if(a==c.SEEKING_BEFORE_PLAYBACK){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PAUSE)return c.PLAYBACK_NOT_STARTED;if(e==g.PLAY)return c.PLAYING;if(e==g.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(a==c.SEEKING_DURING_PLAYBACK){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY)return c.PLAYING;if(e==g.PAUSE)return c.PAUSED;if(e==g.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(a==c.SEEKING_DURING_BUFFERING){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY)return c.PLAYING;if(e==g.PAUSE||e==g.BUFFER_STOP)return c.PAUSED;if(e==g.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(a==c.SEEKING_DURING_PAUSE){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.PLAY)return c.PLAYING;if(e==g.PAUSE||e==g.BUFFER_STOP)return c.PAUSED;if(e==g.BUFFER)return c.BUFFERING_DURING_PAUSE}else if(a==c.PAUSED_DURING_BUFFERING){if(e==g.END||e==g.AD_SKIP)return c.IDLE;if(e==g.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==g.PAUSE)return c.PAUSED;if(e==g.PLAY||e==g.BUFFER_STOP)return c.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,t){var r=i.eventTypeToState(e);a!=r&&(s=a,a=r,n=t)},getPreviousState:function(){return s},getLastStateChangeTimestamp:function(){return n}}),function(){a=c.IDLE,s=null,n=NaN}()}}(),y=function(){return function(e){var n=this;t.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onBufferWhenSeekingOrPaused:function(t,n){e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(t,n){var s=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getHeartbeat().resume(),e.getKeepAlive().start()}})}}(),d=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),k=function(){return function(e){var n=this;t.extend(n,{onEndAndSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),A=function(){return function(e){var n=this;t.extend(n,{onPauseOnBuffering:function(t,n){parseInt(n.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var s=e.getStaCore().createLabels(g.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(s.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t)},onEndOrAdSkip:function(n,s){parseInt(s.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(g.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onPause:function(t,n){parseInt(n.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var s=e.getStaCore().createLabels(g.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(s.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}}(),m=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses(),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),E=function(){return function(e){var n=this;t.extend(n,{onBuffer:function(t,n){e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),T=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),v=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1));var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),
e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),L=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().setSeekingTimestamp(t):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().setPlaybackSessionStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onBuffer:function(){e.getPlaybackSession().setBufferingTimestamp(eventTimestamp),e.getPlaybackSession().getAsset().setBufferingTimestamp(eventTimestamp)}})}}(),I=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){var a=parseInt(s.ns_st_po);e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(n),e.getPlaybackSession().getAsset().addPlaybackTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n),e.getPlaybackSession().getAsset().addInterval(a);var i=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(i.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(i.eventLabels),e.getEventManager().newEvent(i),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBuffer:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getStaCore().isPauseOnBufferingEnabled()&&e.getStaCore().startPausedOnBufferingTimer(t,n),e.getPlaybackSession().getAsset().incrementBufferCount(),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(g.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onPause:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(g.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),N=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),C=function(){return function(e){var n=this;t.extend(n,{onPause:function(t,n){e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses(),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)}})}}(),D=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){parseInt(s.ns_st_po),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(g.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(g.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),B=function(){return function(e){function s(e){var t=S.getStateMachine().getCurrentState();if(t==c.IDLE||t==c.PLAYBACK_NOT_STARTED||t==c.BUFFERING_BEFORE_PLAYBACK||t==c.SEEKING_BEFORE_PLAYBACK){if(e==g.PLAY)return!0}else if(t==c.PLAYING){if(e==g.END||e==g.AD_SKIP||e==g.SEEK_START||e==g.PAUSE)return!0}else if(t==c.PAUSED||t==c.BUFFERING_DURING_PAUSE||t==c.SEEKING_DURING_PLAYBACK||t==c.SEEKING_DURING_BUFFERING||t==c.SEEKING_DURING_PAUSE){if(e==g.END||e==g.AD_SKIP||e==g.PLAY)return!0}else if(t==c.BUFFERING_DURING_PLAYBACK){if(e==g.PAUSE_ON_BUFFERING||e==g.END||e==g.AD_SKIP||e==g.SEEK_START||e==g.PAUSE||e==g.PLAY)return!0}else if(t==c.BUFFERING_DURING_SEEKING){if(e==g.END||e==g.AD_SKIP||e==g.PAUSE||e==g.PLAY)return!0}else if(t==c.PAUSED_DURING_BUFFERING&&(e==g.END||e==g.AD_SKIP||e==g.BUFFER_STOP||e==g.PLAY))return!0;return!1}function a(e,t,n){var a=S.getStateMachine().getCurrentState();e==g.AD_SKIP&&!n.hasOwnProperty("ns_st_ui")&&s(e)?n.ns_st_ui="skip":e==g.SEEK_START&&!n.hasOwnProperty("ns_st_ui")&&s(e)&&(n.ns_st_ui="seek"),a==c.IDLE?e==g.BUFFER?B.onBuffer(t,n):e==g.SEEK_START?B.onSeekStart(t,n):e==g.PLAY&&B.onPlay(t,n):a==c.PLAYBACK_NOT_STARTED?e==g.END||e==g.AD_SKIP?U.onEndOrAdSkip(t,n):e==g.SEEK_START?U.onSeekStart(t,n):e==g.PLAY?U.onPlay(t,n):e==g.BUFFER&&U.onBuffer(t,n):a==c.PLAYING?e==g.END||e==g.AD_SKIP?O.onEndOrAdSkip(t,n):e==g.BUFFER?O.onBuffer(t,n):e==g.SEEK_START?O.onSeekStart(t,n):e==g.PAUSE&&O.onPause(t,n):a==c.PAUSED?e==g.END||e==g.AD_SKIP?R.onEndOrAdSkip(t,n):e==g.PLAY?R.onPlay(t,n):e==g.BUFFER?H.onBufferWhenSeekingOrPaused(t,n):e==g.SEEK_START&&H.onSeekStartWhenPausedOrBufferingDuringPause(t,n):a==c.BUFFERING_BEFORE_PLAYBACK?e==g.END||e==g.AD_SKIP?F.onEndOrAdSkip(t,n):e==g.BUFFER_STOP?F.onBufferStop(t,n):e==g.SEEK_START?F.onSeekStart(t,n):e==g.PAUSE?F.onPause(t,n):e==g.PLAY&&F.onPlay(t,n):a==c.BUFFERING_DURING_PLAYBACK?e==g.PAUSE_ON_BUFFERING?G.onPauseOnBuffering(t,n):e==g.BUFFER_STOP?H.onBufferStopOrOnPlayWhenBufferingDuringPlayback(t,n):e==g.END||e==g.AD_SKIP?G.onEndOrAdSkip(t,n):e==g.SEEK_START?G.onSeekStart(t,n):e==g.PAUSE?G.onPause(t,n):e==g.PLAY&&H.onBufferStopOrOnPlayWhenBufferingDuringPlayback(t,n):a==c.BUFFERING_DURING_SEEKING?e==g.END||e==g.AD_SKIP?w.onEndOrAdSkip(t,n):e==g.PAUSE?w.onPause(t,n):e==g.PLAY?w.onPlay(t,n):e==g.BUFFER_STOP&&H.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,n):a==c.BUFFERING_DURING_PAUSE?e==g.END||e==g.AD_SKIP?K.onEndAndSkip(t,n):e==g.PAUSE?K.onPause(t,n):e==g.PLAY?K.onPlay(t,n):e==g.SEEK_START?H.onSeekStartWhenPausedOrBufferingDuringPause(t,n):e==g.BUFFER_STOP&&H.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,n):a==c.SEEKING_BEFORE_PLAYBACK?e==g.END||e==g.AD_SKIP?Y.onEndOrAdSkip(t,n):e==g.PAUSE?Y.onPause(t,n):e==g.PLAY?Y.onPlay(t,n):e==g.BUFFER&&H.onBufferWhenSeekingOrPaused(t,n):a==c.SEEKING_DURING_PLAYBACK?e==g.END||e==g.AD_SKIP?V.onEndOrAdSkip(t,n):e==g.PLAY?V.onPlay(t,n):e==g.BUFFER?H.onBufferWhenSeekingOrPaused(t,n):e==g.PAUSE&&H.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,n):a==c.SEEKING_DURING_BUFFERING?e==g.PAUSE?x.onPause(t,n):e==g.BUFFER?H.onBufferWhenSeekingOrPaused(t,n):e==g.PLAY?H.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==g.END||e==g.AD_SKIP?H.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==g.BUFFER_STOP&&H.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):a==c.PAUSED_DURING_BUFFERING?e==g.END||e==g.AD_SKIP?M.onEndOrAdSkip(t,n):e==g.BUFFER_STOP?M.onBufferStop(t,n):e==g.SEEK_START?M.onSeekStart(t,n):e==g.PAUSE?M.onPause(t,n):e==g.PLAY&&M.onPlay(t,n):a==c.SEEKING_DURING_PAUSE&&(e==g.BUFFER?H.onBufferWhenSeekingOrPaused(t,n):e==g.PLAY?H.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==g.PAUSE?H.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,n):e==g.END||e==g.AD_SKIP?H.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==g.BUFFER_STOP&&H.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,n)),s(e)&&S.getPlaybackSession().setFirstEventSent(!0)}function i(e,n){for(var s,a=ce.encodeURIComponent||escape,i=[],r=u.LABELS_ORDER,o=e.split("?"),g=o[0],c=o[1],l=c.split("&"),S=0,_=l.length;S<_;S++){var P=l[S].split("="),f=unescape(P[0]),b=unescape(P[1]);f&&(n[f]=b)}for(var p={},y=0,d=r.length;y<d;y++){var k=r[y];if(n.hasOwnProperty(k)){var A=n[k];void 0!==A&&null!=A&&(p[k]=!0,i.push(a(k)+"="+a(n[k])))}}for(var m in n)if(n.hasOwnProperty(m)){if(p[m])continue;var E=n[m];void 0!==E&&null!=E&&i.push(a(m)+"="+a(n[m]))}s=g+"?"+i.join("&"),s=s+(s.indexOf("&c8=")<0?"&c8="+a(le.title):"")+(s.indexOf("&c7=")<0?"&c7="+a(le.URL):"")+(s.indexOf("&c9=")<0?"&c9="+a(le.referrer):"");var T=t.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT;if(s.length>T&&s.indexOf("&")>0){var v=s.substr(0,T-8).lastIndexOf("&");s=(s.substring(0,v)+"&ns_cut="+a(s.substring(v+1))).substr(0,T)}return s}var S,B,R,U,O,F,G,w,K,M,Y,x,V,H,q,W,j,J,z,$,Q,X,Z,ee,te,ne,se=this,ae={},ie=u.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,re=u.THROTTLING_DELAY,oe={},ge=!1;t.extend(se,{getConfiguration:function(){return e||{}},enableSystemClockJumpsDetection:function(e){(e<u.SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL||!e)&&(e=u.SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL),t.onSystemClockJump(function(e){ne=e,ge=!0},e)},createLabels:function(e,n,s){var a=!1;if(e==g.HEARTBEAT){var i=isNaN(J)?j:J;J=s,(s<i||ge)&&(a=!0,ge=!1,s<i?(S.getPlaybackSession().addInternalErrorFlag("1"),S.getLogging().infoLog("System clock jump detected","to the far past")):ne?(S.getPlaybackSession().addInternalErrorFlag("3"),S.getLogging().infoLog("System clock jump detected","to the future")):(S.getPlaybackSession().addInternalErrorFlag("2"),S.getLogging().infoLog("System clock jump detected","to the near past")),s=i)}var r={};if("undefined"!=typeof document){var o=document;r.c7=o.URL,r.c8=o.title,r.c9=o.referrer}return r.ns_ts=+new Date+"",r.ns_st_ev=g.toString(e),r.ns_st_mp=u.DEFAULT_PLAYERNAME,r.ns_st_mv=u.STREAMINGANALYTICS_VERSION,r.ns_st_ub="0",r.ns_st_br="0",r.ns_st_pn="1",r.ns_st_tp="0",r.ns_st_it=l.toString(l.SINGLE_CLIP),r.ns_st_sv=u.STREAMINGANALYTICS_VERSION,r.ns_st_smv=u.MODEL_VERSION,r.ns_type="hidden",r.ns_st_ec=S.getEventManager().getEventCounter()+"",r.ns_st_ki=S.getKeepAlive().getInterval()+"",S.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?r.ns_st_po=S.getPlaybackSession().getAsset().getExpectedPlaybackPosition(s)+"":r.ns_st_po=te+"",te=parseInt(r.ns_st_po),t.extend(r,se.getLabels()),S.getPlaybackSession().createLabels(r,s),t.extend(r,n),a&&(S.getPlaybackSession().setPlaybackTimestamp(J-parseInt(r.ns_st_pt)),S.getPlaybackSession().getAsset().setPlaybackTimestamp(J-parseInt(r.ns_st_pt)),S.getPlaybackSession().getAsset().setElapsedTimestamp(J-parseInt(r.ns_st_et)),S.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&S.getPlaybackSession().getAsset().setBufferingTimestamp(J-parseInt(r.ns_st_bp))),{eventType:e,eventLabels:r}},newEvent:function(e,n,s,i){se.stopDelayedTransitionTimer();var r=S.getStateMachine().getCurrentState(),o=S.getStateMachine().eventTypeToState(e);if(null==o||o==r)return void S.getLogging().infoLog("Ignored event:",g.toString(e),"during state",t.stateToString(r),s);if(se.isThrottlingEnabled()&&(r==c.PLAYING||r==c.PAUSED)&&(o==c.PLAYING||o==c.PAUSED)&&!i){S.getLogging().infoLog("Throttled event:",g.toString(e),"during state",t.stateToString(r),s,se.getThrottlingDelay(),"ms");var l=function(e,t,s){return function(){se.newEvent(e,n,s,!0)}}(e,0,s);return void(X=S.getPlatformAPI().setTimeout(l,se.getThrottlingDelay()))}var u=isNaN(J)?j:J;J=n;var _=!1;(n<u||ge)&&(_=!0,ge=!1,n<u?(S.getPlaybackSession().addInternalErrorFlag("1"),S.getLogging().infoLog("System clock jump detected","to the far past")):ne?(S.getPlaybackSession().addInternalErrorFlag("3"),S.getLogging().infoLog("System clock jump detected","to the future")):(S.getPlaybackSession().addInternalErrorFlag("2"),S.getLogging().infoLog("System clock jump detected","to the near past")),n=u),s.ns_st_po||(S.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?S.getStateMachine().getCurrentState()==c.IDLE?s.ns_st_po="0":s.ns_st_po=S.getPlaybackSession().getAsset().getExpectedPlaybackPosition(n)+"":s.ns_st_po=te+""),te=parseInt(s.ns_st_po),S.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(s.ns_st_po)),a(e,n,s);var P=0;isNaN(S.getStateMachine().getLastStateChangeTimestamp())||(P=n-S.getStateMachine().getLastStateChangeTimestamp()),S.getStateMachine().newEvent(e,n),_&&(o!=c.IDLE&&o!=c.PLAYBACK_NOT_STARTED&&o!=c.SEEKING_BEFORE_PLAYBACK&&o!=c.BUFFERING_BEFORE_PLAYBACK&&S.getPlaybackSession().getAsset().setElapsedTimestamp(J),o!=c.BUFFERING_BEFORE_PLAYBACK&&o!=c.BUFFERING_DURING_PAUSE&&o!=c.BUFFERING_DURING_PLAYBACK&&o!=c.BUFFERING_DURING_SEEKING&&o!=c.PAUSED_DURING_BUFFERING||(S.getPlaybackSession().setBufferingTimestamp(J),S.getPlaybackSession().getAsset().setBufferingTimestamp(J)),o!=c.PLAYING&&o!=c.BUFFERING_DURING_PLAYBACK||(S.getPlaybackSession().setPlaybackTimestamp(J),S.getPlaybackSession().getAsset().setPlaybackTimestamp(J)),o!=c.SEEKING_BEFORE_PLAYBACK&&o!=c.SEEKING_DURING_BUFFERING&&o!=c.SEEKING_DURING_PAUSE&&o!=c.SEEKING_DURING_PLAYBACK&&o!=c.BUFFERING_DURING_SEEKING||S.getPlaybackSession().getAsset().setSeekingTimestamp(J)),S.getLogging().log("Transition from",t.stateToString(r),"to",t.stateToString(o),"due to event:",g.toString(e));for(var f=0,b=Z.length;f<b;f++)Z[f](r,o,s,P)},newPseudoEvent:function(e,n,s){if((e==g.LOAD||e==g.ENGAGE)&&S.getStateMachine().getCurrentState()!=c.IDLE)return void S.getLogging().infoLog("Ignored pseudo-event:",g.toString(e),"during state",t.stateToString(S.getStateMachine().getCurrentState()),s);e==g.ERROR&&null==s.ns_st_er&&(s.ns_st_er=o.UNKNOWN_VALUE),e==g.TRANSFER&&null==s.ns_st_rp&&(s.ns_st_rp=o.UNKNOWN_VALUE);var a,i,r,l,u=!0,_=!1;switch(e){case g.BIT_RATE:a="ns_st_br",i="ns_st_pbr";break;case g.PLAYBACK_RATE:a="ns_st_rt",i="ns_st_prt";break;case g.VOLUME:a="ns_st_vo",i="ns_st_pvo";break;case g.WINDOW_STATE:a="ns_st_ws",i="ns_st_pws";break;case g.AUDIO:a="ns_st_at",i="ns_st_pat";break;case g.VIDEO:a="ns_st_vt",i="ns_st_pvt";break;case g.SUBS:a="ns_st_tt",i="ns_st_ptt";break;case g.CDN:a="ns_st_cdn",i="ns_st_pcdn";break;default:u=!1}if(u&&a in s)switch(l=s[a],e){case g.BIT_RATE:case g.VOLUME:case g.WINDOW_STATE:a in oe&&(r=oe[a],s[i]=r,_=l==r+""),oe[a]=s[a];break;case g.AUDIO:case g.VIDEO:case g.SUBS:case g.CDN:S.getPlaybackSession().getAsset().hasInternalLabel(a)&&(r=S.getPlaybackSession().getAsset().getInternalLabel(a),s[i]=r,_=l==r+""),S.getPlaybackSession().getAsset().setInternalLabel(a,s[a]);break;case g.PLAYBACK_RATE:r=S.getPlaybackSession().getAsset().getPlaybackRate(),s[i]=r+""}if(u&&S.getStateMachine().getCurrentState()!=c.PLAYING&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||u&&_)return e==g.PLAYBACK_RATE&&S.getPlaybackSession().getAsset().setPlaybackRate(parseInt(s.ns_st_rt)),void S.getLogging().infoLog("No measurement send for the pseudo-event:",g.toString(e),"during state",t.stateToString(S.getStateMachine().getCurrentState()),s);var P=isNaN(J)?j:J;J=n;var f=!1;(n<P||ge)&&(f=!0,ge=!1,n<P?(S.getPlaybackSession().addInternalErrorFlag("1"),S.getLogging().infoLog("System clock jump detected","to the far past")):ne?(S.getPlaybackSession().addInternalErrorFlag("3"),S.getLogging().infoLog("System clock jump detected","to the future")):(S.getPlaybackSession().addInternalErrorFlag("2"),S.getLogging().infoLog("System clock jump detected","to the near past")),n=P),s.ns_st_po||(S.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?s.ns_st_po=S.getPlaybackSession().getAsset().getExpectedPlaybackPosition(n)+"":s.ns_st_po=te+""),te=parseInt(s.ns_st_po),S.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(s.ns_st_po)),S.getStateMachine().getCurrentState()!=c.IDLE&&S.getStateMachine().getCurrentState()!=c.PLAYBACK_NOT_STARTED&&S.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&(S.getPlaybackSession().getAsset().addElapsedTime(n),S.getPlaybackSession().getAsset().setElapsedTimestamp(n)),S.getStateMachine().getCurrentState()!=c.PLAYING&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||(S.getPlaybackSession().addPlaybackTime(n),S.getPlaybackSession().setPlaybackTimestamp(n),S.getPlaybackSession().getAsset().addPlaybackTime(n),S.getPlaybackSession().getAsset().setPlaybackTimestamp(n),S.getPlaybackSession().getAsset().addInterval(parseInt(s.ns_st_po)),S.getPlaybackSession().getAsset().setPlaybackStartPosition(parseInt(s.ns_st_po))),S.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PAUSE&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING||(S.getPlaybackSession().addBufferingTime(n),S.getPlaybackSession().setBufferingTimestamp(n),S.getPlaybackSession().getAsset().addBufferingTime(n),S.getPlaybackSession().getAsset().setBufferingTimestamp(n));var b=se.createLabels(e,s,n);S.getPlaybackSession().getAsset().updateDeltaLabels(b.eventLabels),S.getPlaybackSession().getAsset().updateIndependentLabels(b.eventLabels),S.getEventManager().newEvent(b),e==g.PLAYBACK_RATE&&S.getPlaybackSession().getAsset().setPlaybackRate(parseInt(s.ns_st_rt)),f&&(S.getStateMachine().getCurrentState()!=c.PLAYING&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||(S.getPlaybackSession().setPlaybackTimestamp(J),S.getPlaybackSession().getAsset().setPlaybackTimestamp(J)),S.getStateMachine().getCurrentState()!=c.IDLE&&S.getStateMachine().getCurrentState()!=c.PLAYBACK_NOT_STARTED&&S.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&S.getPlaybackSession().getAsset().setElapsedTimestamp(J),S.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PAUSE&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING&&S.getStateMachine().getCurrentState()!=c.PAUSED_DURING_BUFFERING||(S.getPlaybackSession().setBufferingTimestamp(J),S.getPlaybackSession().getAsset().setBufferingTimestamp(J)),S.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.SEEKING_DURING_BUFFERING&&S.getStateMachine().getCurrentState()!=c.SEEKING_DURING_PAUSE&&S.getStateMachine().getCurrentState()!=c.SEEKING_DURING_PLAYBACK&&S.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING||S.getPlaybackSession().getAsset().setSeekingTimestamp(J))},getState:function(){return S.getStateMachine().getCurrentState()},addListener:function(e){Z.push(e)},removeListener:function(e){Z.splice(t.indexOf(e,Z),1)},getLabel:function(e){return oe[e]},getLabels:function(){return oe},setLabel:function(e,t){null==t?delete oe[e]:oe[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&se.setLabel(t,e[t])},getPlatformAPI:function(){return S.getAppCore()?S.getAppCore().getPlatformAPI():r},getExports:function(){return ae},isProperlyInitialized:function(){var e=S.getAppCore().getAppContext(),t=S.getAppCore().getSalt(),n=S.getAppCore().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){re=e},getThrottlingDelay:function(){return re},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return q},setLoadingTimeSent:function(e){q=e},getLoadTimeOffset:function(){return W},setLoadTimeOffset:function(e){W=e},getInitTimestamp:function(){return j},setPauseOnBufferingInterval:function(e){ie=e},getPauseOnBufferingInterval:function(){return ie},isPauseOnBufferingEnabled:function(){return z},setPauseOnBufferingEnabled:function(e){z=e},startPausedOnBufferingTimer:function(e,n){se.stopPausedOnBufferingTimer(),$=se.getPlatformAPI().setTimeout(function(){var e={},s=t.fixEventTime(e),a=parseInt(n.ns_st_po);e.ns_st_po=a+"",se.newEvent(g.PAUSE_ON_BUFFERING,s,e)},ie)},stopPausedOnBufferingTimer:function(){null!=$&&(se.getPlatformAPI().clearTimeout($),$=null)},stopDelayedTransitionTimer:function(){X&&(se.getPlatformAPI().clearTimeout(X),X=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var s=e.substring(n+1).split("&"),a=0,i=s.length;a<i;a++){var r=s[a],o=r.split("=");2==o.length?se.setLabel(o[0],t(o[1])):1==o.length&&se.setLabel(u.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return ee=e},getLiveEndpointURL:function(){return ee||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?ee=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ee=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return S},resetPlaybackSession:function(e){var t=S.getPlaybackSession();S.setPlaybackSession(new _(S)),_.resetPlaybackSession(S,t,e)},resetHeartbeat:function(){S.getHeartbeat().pause();var e=S.getHeartbeat().getIntervals();S.setHeartbeat(new f(S)),S.getHeartbeat().setIntervals(e)}});var ce,le;t.isBrowser()?(ce=window,le=document):(ce={},le={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(se,{prepareUrl:i}),function(){if(S=new h(se),t.getNamespace().comScore?(ae=t.getNamespace().comScore.exports,S.setAppCore(ae.c())):S.setAppCore(null),e.publisherId){se.setLabel("c2",e.publisherId);var s=e.secure;!s&&S.getAppCore()?s=S.getAppCore().isSecure():!s&&t.isBrowser()&&(s=t.isWebSecure());var a=(s?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";se.setLiveEndpointURL(a)}e.liveEndpointURL&&se.setLiveEndpointURL(e.liveEndpointURL),S.setKeepAlive(new b(S)),S.setHeartbeat(new f(S)),S.setEventManager(new P(S)),S.setStateMachine(new p),S.setLogging(new n(u.LOG_NAMESPACE,e.debug)),S.setPlaybackSession(new _(S)),B=new E(S),R=new T(S),U=new L(S),O=new I(S),F=new d(S),G=new A(S),w=new m(S),K=new k(S),M=new v(S),Y=new N(S),x=new C(S),V=new D(S),H=new y(S),q=!1,W=0,j=+new Date,z=!0,Q=!1,Z=[],e.systemClockJumpDetection&&se.enableSystemClockJumpsDetection(parseInt(e.systemClockJumpDetectionInterval))}()}}(),h=function(){return function(e){var n,s,a,i,r,o,g,c=this;t.extend(c,{getAppCore:function(){return n},getStaCore:function(){return e},getEventManager:function(){return s},getStateMachine:function(){return a},getHeartbeat:function(){return i},getKeepAlive:function(){return r},getPlaybackSession:function(){return o},getLogging:function(){return g},setAppCore:function(e){n=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){i=e},setEventManager:function(e){s=e},setStateMachine:function(e){a=e},setPlaybackSession:function(e){o=e},setLogging:function(e){g=e}})}}(),R=function(){return function(e){function n(e){var n,s;if(n="object"==_typeof(arguments[1])?arguments[1]:"object"==_typeof(arguments[2])?arguments[2]:{},
s="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,g.toString(e)){n=t.jsonObjectToStringDictionary(n);var i=t.fixEventTime(n);n.ns_st_po||isNaN(s)||(n.ns_st_po=t.parseInteger(s,0)+""),e==g.PLAY||e==g.PAUSE||e==g.BUFFER||e==g.END||e==g.SEEK_START||e==g.AD_SKIP||e==g.BUFFER_STOP?a.newEvent(e,i,n):a.newPseudoEvent(e,i,n)}}function s(){r&&a.getStaSM().getStateMachine().getCurrentState()!=c.IDLE&&i.notifyEnd()}var a,i=this,r=!0;t.extend(this,{isProperlyInitialized:function(){return a.isProperlyInitialized()},reset:function(e){n(g.END);var t=a;t.getStaSM().getKeepAlive().stop(),t.getStaSM().getHeartbeat().pause(),a=new B(t.getConfiguration()),_.resetPlaybackSession(a.getStaSM(),t.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){a.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return a.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){a.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return a.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){a.getStaSM().getHeartbeat().setIntervals(e)},notifyPlay:function(e,t){a.getStaSM().getLogging().apiCall("notifyPlay",e,t),n(g.PLAY,e,t)},notifyPause:function(e,t){a.getStaSM().getLogging().apiCall("notifyPause",e,t),n(g.PAUSE,e,t)},notifyEnd:function(e,t){a.getStaSM().getLogging().apiCall("notifyEnd",e,t),n(g.END,e,t)},notifyBufferStart:function(e,t){a.getStaSM().getLogging().apiCall("notifyBufferStart",e,t),n(g.BUFFER,e,t)},notifyBufferStop:function(e,t){a.getStaSM().getLogging().apiCall("notifyBufferStop",e,t),n(g.BUFFER_STOP,e,t)},notifyLoad:function(e,t){a.getStaSM().getLogging().apiCall("notifyLoad",e,t),n(g.LOAD,e,t)},notifyEngage:function(e,t){a.getStaSM().getLogging().apiCall("notifyEngage",e,t),n(g.ENGAGE,e,t)},notifySeekStart:function(e,t){a.getStaSM().getLogging().apiCall("notifySeekStart",e,t),n(g.SEEK_START,e,t)},notifySkipAd:function(e,t){a.getStaSM().getLogging().apiCall("notifySkipAd",e,t),n(g.AD_SKIP,e,t)},notifyCallToAction:function(e,t){a.getStaSM().getLogging().apiCall("notifyCallToAction",e,t),n(g.CTA,e,t)},notifyError:function(e,t){a.getStaSM().getLogging().apiCall("notifyError",e,t),n(g.ERROR,e,t)},notifyTransferPlayback:function(e,t){a.getStaSM().getLogging().apiCall("notifyTransferPlayback",e,t),n(g.TRANSFER,e,t)},notifyDrmFail:function(e,t){a.getStaSM().getLogging().apiCall("notifyDrmFail",e,t),n(g.DRM_FAILED,e,t)},notifyDrmApprove:function(e,t){a.getStaSM().getLogging().apiCall("notifyDrmApprove",e,t),n(g.DRM_APPROVED,e,t)},notifyDrmDeny:function(e,t){a.getStaSM().getLogging().apiCall("notifyDrmDeny",e,t),n(g.DRM_DENIED,e,t)},notifyChangeBitrate:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeBitrate",e,t,s),null!=e){var i=s||{};i.ns_st_br=e+"",n(g.BIT_RATE,i,t)}},notifyChangePlaybackRate:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangePlaybackRate",e,t,s),null!=e){var i=s||{};i.ns_st_rt=e+"",n(g.PLAYBACK_RATE,i,t)}},notifyChangeVolume:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeVolume",e,t,s),null!=e){var i=s||{};i.ns_st_vo=e+"",n(g.VOLUME,i,t)}},notifyChangeWindowState:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeWindowState",e,t,s),null!=e){var i=s||{};i.ns_st_ws=e+"",n(g.WINDOW_STATE,i,t)}},notifyChangeAudioTrack:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeAudioTrack",e,t,s),null!=e){var i=s||{};i.ns_st_at=e+"",n(g.AUDIO,i,t)}},notifyChangeVideoTrack:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeVideoTrack",e,t,s),null!=e){var i=s||{};i.ns_st_vt=e+"",n(g.VIDEO,i,t)}},notifyChangeSubtitleTrack:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeSubtitleTrack",e,t,s),null!=e){var i=s||{};i.ns_st_tt=e+"",n(g.SUBS,i,t)}},notifyChangeCdn:function(e,t,s){if(a.getStaSM().getLogging().apiCall("notifyChangeCdn",e,t,s),null!=e){var i=s||{};i.ns_st_cdn=e+"",n(g.CDN,i,t)}},notifyCustomEvent:function(e,t){a.getStaSM().getLogging().apiCall("notifyCustomEvent",e,t),n(g.CUSTOM,e,t)},getLabels:function(){return a.getLabels()},getState:function(){return a.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){a.setLabels(e)},getLabel:function(e){return a.getLabel(e)},setLabel:function(e,t){a.setLabel(e,t)},getLoadTimeOffset:function(){return a.getLoadTimeOffset()},setLoadTimeOffset:function(e){a.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return a.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return a.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return a.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){a.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return a.isThrottlingEnabled()},setThrottlingEnabled:function(e){a.setThrottlingEnabled(e)},setThrottlingDelay:function(e){a.setThrottlingDelay(e)},getThrottlingDelay:function(){return a.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){a.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return a.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){a.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=t.jsonObjectToStringDictionary(e);var n=a.getStaSM().getStateMachine().getCurrentState();n!=c.IDLE&&(a.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",t.stateToString(n)),i.notifyEnd()),a.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&a.resetPlaybackSession(),a.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return u.STREAMINGANALYTICS_VERSION},addListener:function(e){a.addListener(e)},removeListener:function(e){a.removeListener(e)},addMeasurementListener:function(e){a.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){a.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return a.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){r=e},isExitEndEventEnabled:function(){return r},getPlatformAPI:function(){return a.getPlatformAPI()},_getLogHistory:function(){return a.getStaSM().getLogging().getLogHistory()}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",s),window.addEventListener("unload",s)):window.attachEvent&&(window.attachEvent("onbeforeunload",s),window.attachEvent("onunload",s))),function(){e=t.extend({},e),a=new B(e),a.getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)}()}}();return R.PlayerEvents=g,R.InternalStates=c,R.ImplementationType=l,R.Constants=u,R}(),e.ReducedRequirementsStreamingAnalytics=e.ReducedRequirementsStreamingAnalytics||function(){var s={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},a={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},i=e.StreamingAnalytics,r=e.StreamingAnalytics.InternalStates||null,o=e.StreamingAnalytics.ImplementationType||null,g=null!=e.StreamingAnalytics.InternalStates&&null!=e.StreamingAnalytics.ImplementationType,c=e.StreamingAnalytics.Constants,l=function(e){function l(e){for(var t in c.STANDARD_METADATA_LABELS)if(c.STANDARD_METADATA_LABELS.hasOwnProperty(t)&&!u(c.STANDARD_METADATA_LABELS[t],f,e))return!1;return!0}function u(e,n,s){return!!(t.exists(e)&&t.exists(n)&&t.exists(s)&&(n.hasOwnProperty(e)&&s.hasOwnProperty(e)&&n[e]===s[e]||!n.hasOwnProperty(e)&&!s.hasOwnProperty(e)))}function S(e){y.getPlaybackSession().setAsset(e),f=e,y.notifyPlay()}function _(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++b+"",y.getPlaybackSession().setAsset(t),y.notifyPlay(),p=!1}function P(e,t){k==d.None&&(k=t),p&&k==t&&l(e)?(y.getPlaybackSession().getAsset().setLabels(e),y.getState()!=r.PLAYING&&y.notifyPlay()):S(e),p=!0,k=t}var f=null,b=0,p=!1,y=null,d={None:0,AudioContent:1,VideoContent:2},k=d.None,A=new n("TTSTA",(e||{}).debug);t.extend(this,{playVideoAdvertisement:function(e,n){if(y){A.apiCall("playVideoAdvertisement",e,n);var s={ns_st_ct:"va"};n?s.ns_st_ct="va"+n:A.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),n!=a.LinearLive&&n!=a.BrandedOnDemandLive||(s.ns_st_li="1"),e&&t.extend(s,e),_(s)}},playAudioAdvertisement:function(e,n){if(y){A.apiCall("playAudioAdvertisement",e,n);var s={ns_st_ct:"aa"};n?s.ns_st_ct="aa"+n:A.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),n!=a.LinearLive&&n!=a.BrandedOnDemandLive||(s.ns_st_li="1"),e&&t.extend(s,e),_(s)}},playVideoContentPart:function(e,n){if(y){A.apiCall("playVideoContentPart",e,n);var a={ns_st_ct:"vc"};n?a.ns_st_ct="vc"+n:A.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),n!=s.Live&&n!=s.UserGeneratedLive||(a.ns_st_li="1"),e&&t.extend(a,e),P(a,d.VideoContent)}},playAudioContentPart:function(e,n){if(y){A.apiCall("playAudioContentPart",e,n);var a={ns_st_ct:"ac"};n?a.ns_st_ct="ac"+n:A.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),n!=s.Live&&n!=s.UserGeneratedLive||(a.ns_st_li="1"),e&&t.extend(a,e),P(a,d.AudioContent)}},stop:function(){y&&(A.apiCall("stop"),y.notifyPause())}}),function(){g&&(t.exists(e)&&(e.customerC2||e.publisherId)||t.getNamespace().comScore?y=new i(e):A.error("Cannot instantiate StreamingAnalytics","The property publisherId was not provided (or incorrectly provided) in the StreamingAnalytics configuration."),y&&y.setLabel("ns_st_it",o.toString(o.REDUCED)))}()};return l.ContentType=s,l.AdType=a,l}(),e});
},{}],23:[function(require,module,exports){
(function (global){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module)))module.exports=t("undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null);else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var o=t("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?"undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null:e.jquery);for(var n in o)("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports:e)[n]=o[n]}}(void 0,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){(function(e){var t="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":void 0===e?"undefined":_typeof(e)},n=o(3),r=function(e){return e&&e.__esModule?e:{default:e}}(n);e.ajaxTransport("+*",function(o,n,i){if(o.crossDomain&&(document.addEventListener||document.querySelector)&&!window.atob&&window.XDomainRequest){var u=function(){var t=new XDomainRequest,u=o.type.toUpperCase(),f=o.contentType||n.contentType,d=o.url.substring(0,o.url.indexOf(":")).toUpperCase(),p=o.url,s=n.data||{},a=function(t,o){return{send:function(e,n){n(-1,r.default.get(t,o))},abort:e.noop}};return t?n.forceMethod||-1!==e.inArray(u,["GET","POST"])?-1===e.inArray(d,["HTTP","HTTPS"])?{v:a(3,d)}:d!==location.protocol.substring(0,location.protocol.indexOf(":")).toUpperCase()?{v:a(4)}:(n.forceMethod&&("HEAD"===u&&(u="GET",p+=(-1===o.url.indexOf("?")?"?":"&")+"__method="+u),-1!==e.inArray(u,["PUT","DELETE","PATCH"])&&(u="POST",e.isPlainObject(s)?s.__method=u:"string"==typeof s&&(s+=(s.length?"&":"")+"__method="+u))),n.forceContentType&&("GET"===u&&(p+=(-1===o.url.indexOf("?")?"?":"&")+"__contentType="+encodeURIComponent(f)),"POST"===u&&(e.isPlainObject(s)?s.__contentType=f:"string"==typeof s&&(s+=(s.length?"&":"")+e.param({__contentType:f})))),o.timeout&&(t.timeout=o.timeout),t.onprogress=e.noop,{v:{send:function(f,d){t.onload=function(){var n={},i=null;switch(o.dataType){case"json":try{n.json=e.parseJSON(t.responseText)}catch(e){i=e.message}break;case"xml":try{n.xml=e.parseXML(t.responseText)}catch(e){i=e.message}break;case"text":n.text=t.responseText;break;case"html":n.html=t.responseText}if(i)return d(500,r.default.get(6,i));var u=["Content-Type: "+t.contentType,"Content-Length: "+t.responseText.length];d(200,"OK",n,u.join("\r\n"))},t.onerror=function(){d(500,r.default.get(7))},t.ontimeout=function(){d(500,r.default.get(8))},!0===n.__test&&(i.__method=u,i.__uri=p),t.open(u,p),setTimeout(function(){t.send("POST"===u?"string"==typeof s?s:e.isPlainObject(s)?e.param(s):null:null)},0)},abort:function(){t.abort()}}}):{v:a(2,u)}:{v:a(1)}}();if("object"===(void 0===u?"undefined":t(u)))return u.v}})}).call(t,o(2))},function(t,o){t.exports=e},function(e,t){e.exports={get:function(e,t){var o={0:"Unknown Error",1:"No Transport",2:t+" Method Not Allowed",3:t+" Scheme Not Supported",4:"URI source and target scheme must be the same",5:"No Data",6:"Bad Data: "+t,7:"Network Error",8:"Timeout"};return o[e in o?e:0]}}}])});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],24:[function(require,module,exports){
module.exports=function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="/assets/",t(0)}([function(e,t,r){function a(){return!0}var o=r(1),n=r(2),i=r(6),p=r(10),c=r(11),s=r(12),l=r(13),u=r(14),g=r(15),f=r(16),d=r(17),k=r(18),v=r(19),m=r(20),h=r(21),V=r(22),w=r(23),y=r(24),S=r(25),x=r(26),b=r(27),T=r(28),L=r(29),N=r(8).trackNavigation,E=r(30),O=r(31).trackStart,C=r(31).trackComplete;e.exports={trackPageView:i,videoTracking:n,trackBacknavigation:c,trackEvent:p,trackExitLink:l,trackNavigation:N,trackMediabox:s,trackImageGallery:g,trackLocalNewsExposure:u.trackExposure,trackLocalNewsSelection:u.trackSelection,trackFollowSubjectAction:f,trackFollowSubjectActionWithParams:d,trackFollowSubjectSettings:k,trackFreeWallAction:v.trackFreeWallAction,trackFreeWall:v.track,trackNotificationAction:m,trackNotificationSettings:h,trackMediafileDownload:V,trackMediafileDownloadPlus:w,trackUserNotificationExposure:y,trackShootItLive:S,trackUserMenuClick:L,trackWordpressTeaserView:x,track404:b,track500:T,trackEventFilterToggle:E,trackToolStart:O,trackToolComplete:C,eventIsEnabled:a,getMainSectionUniqueName:function(){},Events:o}},function(e,t){e.exports={FacebookComment:"event38",FacebookUncomment:"event39",FacebookShareArticleMiddle:"event36",FacebookShareArticleBottom:"event37",ExitLink:"event40",TwitterShare:"event56",LocalnewsExposure:"event60",LocalnewsSelection:"event61",UserNotificationsExposure:"event63",UserMenuClick:"event33",NotificationAction:"event32",NotificationSettings:"event34",FollowSubjectAction:"event32",FollowSubjectSettings:"event34",EventFilterOn:"event117",EventFilterOff:"event118",VideoSegmentComplete:"event130",VideoAdSlotStart:"event150",VideoAdSlotComplete:"event151",VideoPlayerInitiated:"event152",VideoContentStarted:"event153",ToolStart:"event68",ToolComplete:"event69",FreeWall:"event79",LoginStarted:"event7"}},function(e,t,r){function a(e){var t=e.access||{};return t.plus?"plus":t.premium?"plusPremium":"free"}function o(e){if(!e)return{};var t=e.asset||{},r=e.sections||[],o={prop3:t.title,prop4:t.id,prop6:u.getCategoryString(r,1),prop7:u.getCategoryString(r,2),prop8:u.getCategoryString(r,3),prop9:u.getCategoryString(r,4),prop14:e.videoPosition||void 0,prop16:t.streamType,prop18:a(t),prop71:Math.floor(t.duration/1e3),prop72:t.originAssetId||void 0,prop74:e.startMode,eVar50:u.getUserSegment(e.userSegment)};return o.eVar3=o.prop3,o.eVar4=o.prop4,o.eVar6=o.prop6,o.eVar7=o.prop7,o.eVar8=o.prop8,o.eVar9=o.prop9,o.eVar16=o.prop16,o.eVar17=o.prop14,o.eVar20=o.prop18,o.eVar46=o.prop74,o.eVar83=o.prop71,o.eVar84=o.prop72,o}function n(e,t){var r=o(t);r.prop66=r.eVar81=e,l.trackLink(g.VideoAdSlotStart,r)}function i(e,t){var r=o(t);r.prop66=r.eVar81=e,l.trackLink(g.VideoAdSlotComplete,r)}function p(e){var t=o(e);l.trackLink(g.VideoPlayerInitiated,t)}function c(e){var t=o(e);l.trackLink(g.VideoContentStarted,t)}function s(e,t,r){var a=o(r),n="event"+(119+e)+","+g.VideoSegmentComplete;a.events=n+"="+t,l.trackLink(n,a)}var l=r(3),u=r(5),g=r(1);e.exports={createVideoProps:o,trackAdSlotStart:n,trackAdSlotComplete:i,trackPlayerInitiated:p,trackContentStarted:c,trackSegment:s}},function(e,r,a){function o(e){var r=new Date,a=r.getYear(),o="s"+Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),p="metrics.aftonbladet.se";window.location.protocol.toLowerCase().indexOf("https")>=0&&(p="s"+p),t=i.escape(r.getDate()+"/"+r.getMonth()+"/"+(a<1900?a+1900:a)+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" "+r.getDay()+" "+r.getTimezoneOffset());var c="//"+p+"/b/ss/aftonbladetnyatotal/1/JS-1.4.1/"+o+"?AQB=1&ndh=1&pf=1&t="+t+"&fid="+i.fid()+"&ce=utf-8&ns=aftonbladetnya";e.pageName&&(c+="&pageName="+i.escape(e.pageName)),c+="&g="+i.escape(document.location.href),document.referrer&&(c+="&r="+document.referrer),c+="&cc=SEK",e.pe&&(c+="&pe="+i.escape(e.pe)),e.pev1&&(c+="&pev1="+i.escape(e.pev1)),e.events&&(c+="&events="+i.escape(e.events)),e.pid&&(c+="&pid="+i.escape(e.pid)+"&pidt=1",c+="&oid="+i.escape(document.location.href)+"&ot=A"),e.hier1&&(c+="&h1="+i.escape(e.hier1)),e.list1&&(c+="&l1="+i.escape(e.list1)),e.campaign&&(c+="&v0="+i.escape(e.campaign)),e.purchaseID&&(c+="&purchaseID="+i.escape(e.purchaseID)),e.products&&(c+="&products="+i.escape(e.products));for(var s=1;s<100;s++){var l="prop"+s,u="eVar"+s;e[l]&&(c+="&c"+s+"="+i.escape(e[l])),e[u]&&(c+="&v"+s+"="+i.escape(e[u]))}c+="&s="+screen.width+"x"+screen.height+"&c="+(screen.pixelDepth?screen.pixelDepth:screen.colorDepth)+"&j=1.6&v=N&k="+(i.cookieWrite("s_cc","true",0)?"Y":"N")+"&bw="+(window.innerWidth?window.innerWidth:document.documentElement.offsetWidth)+"&bh="+(window.innerHeight?window.innerHeight:document.documentElement.offsetHeight)+"&AQE=1",n.hit(c)}var n=a(4),i=a(5);e.exports={track:function(e){o(e)},trackLink:function(e,t){var r=t||{};r.pe="lnk_o",r.events||(r.events=e),o(r)}}},function(e,t){e.exports={hit:function(e){var t=new Image;t.alt="",t.src=e}}},function(e,t){function r(e){return"string"!=typeof e&&"number"!=typeof e?"":e.toString().replace(/\r/g,"").replace(/\n/g," ").replace(/"/g,"&quot;")}function a(e){return r(e).replace(b,function(e){return"aaoAAO".charAt("åäöÅÄÖ".indexOf(e))})}function o(e){return r(e).replace(T,"\\$1")}function n(e){return L.exec(e||"")}function i(e,t){return e.slice(0,t).join(":")}function p(e){return e.setDate(e.getDate()-1),e.setDate(e.getDate()-e.getDay()),e}function c(e){return p(new Date(Date.UTC(e,3,1,2)))}function s(e){return p(new Date(Date.UTC(e,10,1,2)))}function l(e){var t=parseInt(e,10);return isNaN(t)||t<1||t>100?"unknown":t}function u(e){if(e){if(e.isLoggedIn&&e.hasPlusPremium)return"premium";if(e.isLoggedIn&&e.hasPlus)return"plus";if(e.isLoggedIn)return"logged in"}return"none"}function g(e,t,r){return!e||e.indexOf(t)<0?e:e.split(t).join(r)}function f(e){if(!e)return e;var t=e.indexOf("+")>=0?g(e,"+"," "):e;try{return decodeURIComponent(t)}catch(e){}return f(t)}function d(e){var t,r;if(!e)return e;var a=encodeURIComponent(e);for(t=0;t<7;t++)r="+~!*()'".substring(t,t+1),a.indexOf(r)>=0&&(a=g(a,r,"%"+r.charCodeAt(0).toString(16).toUpperCase()));return a}function v(e,t){var r=(new Date).getFullYear(),a=c(r),o=s(r);if(dc=new Date("1/1/2000"),6!==dc.getDay()||0!==dc.getMonth())return"Data Not Available";var n=parseFloat(t),i=new Date(a),p=new Date(o);fl=p,cd=new Date,cd>i&&cd<fl?n+=1:n=n,utc=cd.getTime()+6e4*cd.getTimezoneOffset(),tz=new Date(utc+36e5*n),thisy=tz.getFullYear();var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(thisy!==r)return"Data Not Available";thish=tz.getHours(),thismin=tz.getMinutes(),thisd=tz.getDay();var u=l[thisd],g="AM",f="Weekday",d="00";thismin>30&&(d="30"),thish>=12&&(g="PM",thish-=12),0===thish&&(thish=12),6!==thisd&&0!==thisd||(f="Weekend");var k=thish+":"+d+g;return"h"===e?k:"d"===e?u:"w"===e?f:void 0}function m(){var e=(new Date).getTime(),t=window.performance?performance.timing:0,r=t?t.requestStart:0;return r?Math.round((e-r)/100):""}function h(e){var t=d(e),r=" "+document.cookie,a=r.indexOf(" "+t+"="),o=a<0?a:r.indexOf(";",a);return t=a<0?"":f(r.substring(a+2+t.length,o<0?r.length:o)),"[[B]]"!==t?t:""}function V(e,t,r){var a,o=".aftonbladet.se",n=void 0;return t=""+t,n=n?(""+n).toUpperCase():"",r&&"SESSION"!==n&&"NONE"!==n&&((a=""!==t?parseInt(n||0):-60)?(r=new Date,r.setTime(r.getTime()+1e3*a)):1===r&&(r=new Date,a=r.getYear(),r.setYear(a+5+(a<1900?1900:0)))),e&&"NONE"!==n?(document.cookie=e+"="+d(""!==t?t:"[[B]]")+"; path=/;"+(r&&"SESSION"!==n?" expires="+r.toGMTString()+";":"")+" domain="+o+";",h(e)===t):0}function w(e,t,r,a){var o=new Date,e=e||"",t=t||"s_gvo",r=r||0,n="m"===a?6e4:864e5;return k=h(t),e&&(o.setTime(o.getTime()+r*n),V(t,e,0===r?0:o)),e===k?"":e}function y(e,t,r){var a;return t||(t=window.location),r||(r="&"),e&&t&&(t=""+t,(a=t.indexOf("?"))>=0&&(t=r+t.substring(a+1)+r,(a=t.indexOf(r+e+"="))>=0&&(t=t.substring(a+r.length+e.length+1),a=t.indexOf(r),a>=0&&(t=t.substring(0,a)),t.length>0)))?f(t):""}function S(){var e=new Date,t=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),6,1),a=Math.max(t.getTimezoneOffset(),r.getTimezoneOffset());return e.getTimezoneOffset()<a?2:1}function x(){var e,t=h("s_fid"),r="",a="";e=8;var o=4;if(!t||t.indexOf("-")<0){for(t=0;t<16;t++)e=Math.floor(Math.random()*e),r+="0123456789ABCDEF".substring(e,e+1),e=Math.floor(Math.random()*o),a+="0123456789ABCDEF".substring(e,e+1),e=o=16;t=r+"-"+a}return V("s_fid",t,1)||(t=0),t}var b=/[åäöÅÄÖ]/g,T=/(\$|\\)/g,L=/.*\:\/\/[^\/]+\/(.*)\/article(\d+)\.ab.*/i;e.exports={getSafeTitle:a,stringEscape:r,superEscape:o,getUrlParts:n,getCategoryString:i,getUserSegment:l,getMembershipType:u,getTimeParting:v,getLoadTime:m,getDaylightSavingTimeStart:c,getDaylightSavingTimeEnd:s,getValOnce:w,cookieRead:h,cookieWrite:V,getQueryParam:y,getUtcOffset:S,replace:g,unescape:f,escape:d,fid:x}},function(e,t,r){function a(e){return e&&e.length>0}function o(e){var t={},r=[];if(e.page&&(t.pageName=i.stringEscape(e.page.name),t.prop3=i.stringEscape(e.page.title),t.prop4=e.page.id,t.prop5=e.page.type&&e.page.type.toLowerCase(),t.eVar26=i.superEscape(e.page.title)),e.page&&e.page.type&&e.page.id&&e.page.title&&e.categories){var o,s=e.page.type.toLowerCase();switch(s){case"article":t.pageName=i.getCategoryString(e.categories,2)+":"+s,t.prop4="article:"+e.page.id,t.eVar26=i.superEscape(e.page.title);break;case"taggsida":case"authorpage":case"listing":t.pageName=t.prop3=t.eVar26=s+":"+i.superEscape(e.page.title),t.prop4=e.page.id;break;case"etta":o=e.categories.slice(-1)[0]+" ",t.pageName=i.getCategoryString(e.categories,2)+":"+s,t.prop3=t.prop4=t.eVar26=o+s}}if(e.categories&&(t.hier1=e.categories.join(","),t.prop6=i.getCategoryString(e.categories,1),t.prop7=i.getCategoryString(e.categories,2),t.prop8=i.getCategoryString(e.categories,3),t.prop9=i.getCategoryString(e.categories,4),t.eVar27=i.superEscape(t.prop6),t.eVar28=i.superEscape(t.prop7)),e.dominantSection&&(t.prop25=e.dominantSection.join(":"),t.eVar36=t.prop25),e.isLatestNews&&(t.prop6="nyheter",t.prop7="nyheter:senastenytt"),e.isLocalNews&&(t.prop6="lokala-nyheter",t.prop7="lokala-nyheter:"+e.localNewsPlace),t.eVar62=e.localNewsPlace?e.localNewsPlace:"no location chosen",e.optimizelyTestInfo&&(t.eVar48=e.optimizelyTestInfo.test1,t.eVar49=e.optimizelyTestInfo.test2),t.prop18="free",t.products="",t.eVar33="",e.access){var l=e.access.premiumMainServiceName;a(l)&&(t.prop18=l,"premiumTeaser"===e.access.premiumType&&(t.prop18+="_saljsida",t.eVar33=i.superEscape(t.prop3),r.push("event15")))}t.eVar20=t.prop18,t.prop20=t.prop18+":"+t.prop5,t.prop28=t.eVar31=e.testSegment,t.prop42=t.eVar42=e.siteBetaName,t.campaign=i.getQueryParam("refpartner"),t.campaign=i.getValOnce(t.campaign,"s_campaign",0),e.searchQuery&&(t.prop1=t.eVar1=i.stringEscape(e.searchQuery.toLowerCase()),r.push("event1")),e.searchResults&&(t.prop2=e.searchResults);var u="+"+i.getUtcOffset();t.prop11=i.getTimeParting("h",u),t.prop12=i.getTimeParting("d",u),t.prop13=i.getTimeParting("w",u),t.eVar11=i.getTimeParting("h",u),t.eVar12=i.getTimeParting("d",u),t.eVar13=i.getTimeParting("w",u),t.prop3&&(t.eVar3=t.prop3),t.prop4&&(t.eVar4=t.prop4),t.prop5&&(t.eVar5=t.prop5),t.prop6&&(t.eVar6=t.prop6),t.prop7&&(t.eVar7=t.prop7),t.prop8&&(t.eVar8=t.prop8),t.prop9&&(t.eVar9=t.prop9),e.authors&&(t.eVar19=t.prop17=e.authors.join("|")||"no author"),t.eVar2=t.pageName,t.prop19=t.eVar21=e.windowLocation,t.prop38=e.scrollTopInPixels+"",e.userWasLoggedInOnPremiumPage&&r.push("event41"),e.lastClickedPremiumTeaser&&(t.eVar41=e.lastClickedPremiumTeaser),e.scrollyData&&(t.prop29=e.scrollyData[0],t.prop30=e.scrollyData[1]),t.prop53="adBlocker|"+e.adBlocker,e.page&&e.page.type&&"article"===e.page.type.toLowerCase()&&e.tags&&e.tags.length>0?t.prop60=e.tags.join("|"):t.prop60="no tags",t.list1=t.prop60;var g=c.getNavigationProperties();Object.keys(g).forEach(function(e){t[e]=g[e]}),e.isPremiumTeaser&&(t.products=";plus_samtliga",t.prop70=t.eVar70=e.premiumTeaserMode),e.articlePublishedDate&&(t.prop32=e.articlePublishedDate),e.timestamp&&(t.prop39=e.timestamp,t.eVar39=e.timestamp),t.prop37=e.trackingStatus&&!0===e.trackingStatus?"yes":"no",t.eVar63=t.prop37,t.prop10=e.geoLocation&&!0===e.geoLocation?"yes":"no",t.eVar10=t.prop10,t.prop41=t.eVar64=i.getLoadTime(),t.prop51=t.eVar51=e.siteVersion,e.fuse&&(e.fuse.headline&&(t.eVar26=i.superEscape(e.fuse.headline)),t.eVar27=e.fuse.section,t.eVar28=e.fuse.subsection,t.eVar38=e.fuse.tag,t.purchaseID=e.fuse.orderId,t.products=e.fuse.product,r.push(e.fuse.events)),t.eVar50=i.getUserSegment(e.userSegment),e.eventFilter&&(t.prop73=t.eVar73=e.eventFilter.active?e.eventFilter.section:"no filter"),e.personaSegments&&e.personaSegments[0]&&(t.prop45=t.eVar88=e.personaSegments[0]),e.user?(t.prop22=t.eVar24=e.user.isLoggedIn&&e.user.hasPlus&&"yes"||"no",t.prop34=e.user.uniqueId,t.prop36=e.user.userId,t.prop57=t.eVar57=i.getMembershipType(e.user)):(t.prop22=t.eVar24=e.loggedIn,t.prop34=e.fuseUniqueId,t.prop36=e.fuseUserId),t.events=r.join(","),n.track(t),c.setPreviousPage(t),p.init()}var n=r(3),i=r(5),p=r(7),c=r(8);e.exports=o},function(e,t,r){var a=r(3),o=r(5),n=r(8),i=!1,p={d:document};p.trackDownloadLinks=!0,p.trackExternalLinks=!0,p.trackInlineStats=!0,p.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls,ics,vcs",p.linkInternalFilters="javascript:,aftonbladet.se",p.linkLeaveQueryString=!0,p.pa=function(){var e=0;return p.e&&(e=p.e.length),p.v&&e++,e},p.oa=function(e){var t,r,a,o=e.href?e.href:"";return t=o.indexOf(":"),r=o.indexOf("?"),a=o.indexOf("/"),o&&(t<0||r>=0&&t>r||a>=0&&t>a)&&(r=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),o=(r?r+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,t<0?0:t)+"/":"")+o),o},p.D=function(e){var t,r,a=p.u(e),o="",n=0;return a&&(t=e.protocol,r=e.onclick,!e.href||"A"!=a&&"AREA"!=a||r&&t&&!(t.toLowerCase().indexOf("javascript")<0)?r?(o=p.replace(p.replace(p.replace(p.replace(""+r,"\r",""),"\n",""),"\t","")," ",""),n=2):"INPUT"==a||"SUBMIT"==a?(e.value?o=e.value:e.innerText?o=e.innerText:e.textContent&&(o=e.textContent),n=3):e.src&&"IMAGE"==a&&(o=e.src):o=p.oa(e),o)?{id:o.substring(0,100),type:n}:0},p.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},p.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},p.hb=function(){var e,t,r,a,i=p.linkObject,c=p.linkType,s=p.linkURL;if(p.ca=1,i||(p.ca=0,i=p.clickObject),i){for(e=p.u(i),t=p.D(i);i&&!t&&"BODY"!=e;)(i=i.parentElement?i.parentElement:i.parentNode)&&(e=p.u(i),t=p.D(i));if(t&&"BODY"!=e||(i=0),i){var l=i.onclick?""+i.onclick:"";(l.indexOf(".tl(")>=0||l.indexOf(".trackLink(")>=0)&&(i=0)}}else p.ca=1;if(!s&&i&&(s=p.oa(i)),s&&!p.linkLeaveQueryString&&(r=s.indexOf("?"))>=0&&(s=s.substring(0,r)),!c&&s){var u,g=0,f=0;if(p.trackDownloadLinks&&p.linkDownloadFileTypes)for(l=s.toLowerCase(),r=l.indexOf("?"),a=l.indexOf("#"),r>=0?a>=0&&a<r&&(r=a):r=a,r>=0&&(l=l.substring(0,r)),r=p.linkDownloadFileTypes.toLowerCase().split(","),a=0;a<r.length;a++)(u=r[a])&&l.substring(l.length-(u.length+1))=="."+u&&(c="d");if(p.trackExternalLinks&&!c&&(l=s.toLowerCase(),p.ra(l))&&(p.linkInternalFilters||(p.linkInternalFilters=w.location.hostname),r=0,p.linkExternalFilters?(r=p.linkExternalFilters.toLowerCase().split(","),g=1):p.linkInternalFilters&&(r=p.linkInternalFilters.toLowerCase().split(",")),r)){for(a=0;a<r.length;a++)u=r[a],l.indexOf(u)>=0&&(f=1);f?g&&(c="e"):g||(c="e")}}if(p.linkObject=i,p.linkURL=s,p.linkType=c,c){var d=n.getPreviousPage(),k={pe:"lnk_"+c,pev1:s,prop3:d.prop3,eVar3:d.prop3,prop6:d.prop6,eVar6:d.prop6,prop7:d.prop7,eVar7:d.prop7,prop8:d.prop8,eVar8:d.prop8,prop9:d.prop9,eVar9:d.prop9,prop19:d.prop19,prop20:d.prop20,eVar21:d.eVar21};return i&&(c=p.pageName,s=1,i=i.sourceIndex,c||(c=p.pageURL,s=0),c&&t&&t.id&&e&&(k.pid=o.escape(c.substring(0,255)),s&&(k.pidt=s),k.oid=o.escape(t.id.substring(0,100)),t.type&&(k.oidt=t.type),k.ot=e,i&&(k.oi=i))),p.linkObject=p.clickObject=p.linkType=p.linkURL=void 0,k}},p.ya=function(){p.b=p.d.body,p.b?(p.o=function(e){var t,r,o,n,i;if(!(p.d&&p.d.getElementById("cppXYctnr")||e&&e["s_fe_"+p._in])){if(p.ka){if(!p.useForcedLinkTracking)return p.b.removeEventListener("click",p.o,!0),void(p.ka=p.useForcedLinkTracking=0);p.b.removeEventListener("click",p.o,!1)}else p.useForcedLinkTracking=0;p.clickObject=e.srcElement?e.srcElement:e.target;try{if(!p.clickObject||p.F&&p.F==p.clickObject||!(p.clickObject.tagName||p.clickObject.parentElement||p.clickObject.parentNode))p.clickObject=0;else{var c=p.F=p.clickObject;p.Z&&(clearTimeout(p.Z),p.Z=0),p.Z=setTimeout(function(){p.F==c&&(p.F=0)},1e4),o=p.pa();var s=p.hb();if(s&&a.track(s),o<p.pa()&&p.useForcedLinkTracking&&e.target){for(n=e.target;n&&n!=p.b&&"A"!=n.tagName.toUpperCase()&&"AREA"!=n.tagName.toUpperCase();)n=n.parentNode;if(n&&(i=n.href,p.ra(i)||(i=0),r=n.target,e.target.dispatchEvent&&i&&(!r||"_self"==r||"_top"==r||"_parent"==r||w.name&&r==w.name))){try{t=p.d.createEvent("MouseEvents")}catch(e){t=new w.MouseEvent}if(t){try{t.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){t=0}t&&(t["s_fe_"+p._in]=t.s_fe=1,e.stopPropagation(),e.kb&&e.kb(),e.preventDefault(),p.i=e.target,p.A=t)}}}}}catch(e){p.clickObject=0}}},p.b&&p.b.attachEvent?p.b.attachEvent("onclick",p.o):p.b&&p.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&p.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&w.MouseEvent)&&(p.ka=1,p.useForcedLinkTracking=1,p.b.addEventListener("click",p.o,!0)),p.b.addEventListener("click",p.o,!1))):setTimeout(p.ya,30)},e.exports={init:function(){i||(i=!0,p.ya())}}},function(e,t,r){function a(e){for(var t=e.lineage||[],r=e.properties||c;t.length<4;)t.push(c);return t.concat(r).join("|")}function o(e){var t=/^https?:\/\/([^\/:]+)[:0-9]*/.exec(e);return t?t[1]:""}function n(e){return/aftonbladet\.se$/.test(e)}function i(e){var t=o(e);return n(t)?t.split(".").slice(0,-2).join(""):"startofvisit"}var p=r(9),c="na",s={},l=function(){return document.referrer};e.exports={trackNavigation:function(e){var t=e.target,r={};r.prop21=r.eVar23=a(e),r.prop23=r.eVar25=s.prop6||c,r.prop24=s.prop7||c,r.prop47=s.prop19||c,r.prop48=s.pageName||c,r.prop49=s.prop3||c,r.prop64=s.prop5||c,s.pageName&&(r.pid=s.pageName),p.push(t,r)},setPreviousPage:function(e){s=e},getPreviousPage:function(){return s},getNavigationProperties:function(){var e=p.pop();if(e)return e;var t=i(l()),r={};return performance&&2===performance.navigation.type?t="backforward":performance&&1===performance.navigation.type&&(t="refresh"),r.prop21=r.eVar23=[t,t,t,t,t].join("|"),r.prop23=r.eVar25=t,r.prop24=t,r.prop47=t,r.prop48=t,r.prop49=t,r.prop64=t,r}}},function(e,t){function r(e){return!p.test(e)}function a(e){return e&&(r(e)||0===e.toLowerCase().indexOf(c()))}var o=window.sessionStorage,n="ab_sc_nav",i=function(){return window.location},p=/^https?:\/\//i,c=function(){var e=i();return e.protocol+"//"+e.host};e.exports={push:function(e,t){if(a(e))try{var r={data:t,target:e,ts:(new Date).getTime()};o.setItem(n,JSON.stringify(r))}catch(e){}},pop:function(){try{var e=o.getItem(n);return o.removeItem(n),JSON.parse(e).data}catch(e){}}}},function(e,t,r){var a=r(3);e.exports=function(e,t){a.trackLink(e,t)}},function(e,t,r){function a(){var e=n.getPreviousPage()||{};e.events=e.prop52=e.eVar52="BackNavigation",o.track(e)}var o=r(3),n=r(8);e.exports=a},function(e,t,r){function a(e,t,r,a){return{prop6:p.getCategoryString(t,1),prop7:p.getCategoryString(t,2),prop8:p.getCategoryString(t,3),prop9:p.getCategoryString(t,4),hier1:t.join(","),prop3:r.title,prop5:r.contentType,prop18:r.membership,prop20:r.membership+":"+r.contentType,pageName:t.join(":")+":mediaBox",prop4:"article: "+a,events:"Media box start"}}function o(e){var t,r=p.getUrlParts(e.articleUrl);r&&3===r.length&&(t=r[1].split("/"),c.track(a(s,t,e,r[2])))}function n(e,t){o({articleUrl:e||i.location.href||"",title:p.getSafeTitle(t),membership:"free",contentType:"mediaBox"})}var i=window,p=r(5),c=r(3);e.exports=n},function(e,t,r){function a(e){return{eVar40:e}}function o(e){n.trackLink(i.ExitLink,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){return{prop37:e.trackingStatus?"yes":"no",eVar62:e.locality||"Alla Orter"}}function o(e){i.trackLink(p.LocalnewsExposure,a(e))}function n(e){i.trackLink(p.LocalnewsSelection,a(e))}var i=r(3),p=r(1);e.exports={trackExposure:o,trackSelection:n}},function(e,t,r){function a(e){var t={pageName:e.pageName,prop1:"",prop2:"",prop3:e.statisticsTitle,prop4:e.articleId,prop5:"imageGallery",prop6:e.path1,prop7:e.path2,prop8:e.path3,prop9:e.path4,prop18:"free",prop20:"free:imageGallery",prop21:"",prop23:"",prop24:"",prop25:"",eVar23:"",eVar25:"",hier1:e.path0,events:e.events};o.track(t)}var o=r(3);e.exports=a},function(e,t,r){function a(e){return{prop21:e,eVar23:e}}function o(e){n.trackLink(i.FollowSubjectAction,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){return{prop4:e.trackId,eVar4:e.trackId,prop3:e.trackTitle,eVar3:e.trackTitle,eVar26:e.trackTitle,prop21:e.trackType,eVar23:e.trackType,prop33:e.unread,eVar42:e.unread}}function o(e){n.trackLink(i.FollowSubjectAction,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){return{prop4:e.trackId,eVar4:e.trackId,prop3:e.trackTitle,eVar3:e.trackTitle,eVar26:e.trackTitle,prop21:e.trackType,eVar23:e.trackType}}function o(e){n.trackLink(i.FollowSubjectSettings,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){var t={eVar47:"freewall: "+e},r=i.FreeWall;switch(e){case"logga in":t.eVar38="freewall",r+=","+i.LoginStarted;break;case"kop plus":t.eVar38="freewall"}n.trackLink(r,t)}function o(e){var t=e+":freewall",r={pageName:t,prop3:"freewall",eVar3:"freewall",prop4:"freewall",eVar4:"freewall",prop5:"freewall",eVar5:"freewall",prop6:e,eVar6:e,prop7:t,eVar7:t,prop8:t,eVar8:t,prop9:t,eVar9:t};n.track(r)}var n=r(3),i=r(1);e.exports={trackFreeWallAction:a,track:o}},function(e,t,r){function a(e){return{prop4:e.trackId,eVar4:e.trackId,prop3:e.trackTitle,eVar3:e.trackTitle,eVar26:e.trackTitle,prop21:e.trackType,eVar23:e.trackType,prop33:e.interactionDelay,eVar42:e.interactionDelay}}function o(e){n.trackLink(i.NotificationAction,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){return{prop21:e,eVar23:e}}function o(e){n.trackLink(i.NotificationSettings,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e){var t={pageName:"Mediafile",prop3:"Nedladdas:"+e.mediaDescription,prop4:"MediaId:"+e.mediaId,prop5:"Mediafile",prop6:e.path1,prop7:e.path2,prop8:e.path3,prop9:e.path4,prop18:"plus",prop20:"plus:Mediafile",hier1:e.path0};o.track(t)}var o=r(3);e.exports=a},function(e,t,r){function a(e){var t={pageName:"Mediafile",prop3:"Nedladdas: "+e.mediaName,prop4:"MediaId: "+e.mediaId,prop5:"Mediafile",prop6:e.mediaSection,prop7:"",prop8:"",prop9:"",prop18:"free",prop20:"plus:article",hier1:""};o.track(t)}var o=r(3);e.exports=a},function(e,t,r){function a(e){return{eVar38:e.tag,eVar50:e.userSegment}}function o(e){n.trackLink(i.UserNotificationsExposure,a(e))}var n=r(3),i=r(1);e.exports=o},function(e,t){e.exports=function(){}},function(e,t,r){function a(e){return{prop3:e.title,eVar3:e.title,eVar26:e.title,prop6:e.sectionname,eVar6:e.sectionname,eVar27:e.sectionname,eVar7:e.sitename,eVar28:e.sitename,prop18:e.hasPlus?"plus":"plus_säljsida"}}function o(e){n.trackLink("",a(e))}var n=r(3);e.exports=o},function(e,t,r){var a=r(3);e.exports=function(){var e={pageName:"error:notfoundpage",prop3:"notfound errorpage",prop4:"wwwc notfound errorpage",prop5:"notfoundpage",prop6:"error",prop7:"error",prop8:"error",prop9:"error",prop18:"free",prop20:"free:notfoundpage",hier1:"error"};a.track(e)}},function(e,t,r){var a=r(3);e.exports=function(){var e={pageName:"error:notfoundpage",prop3:"notfound errorpage",prop4:"wwwc notfound errorpage",prop5:"notfoundpage",prop6:"error",prop7:"error",prop8:"error",prop9:"error",prop18:"free",prop20:"free:notfoundpage",hier1:"error"};a.track(e)}},function(e,t,r){function a(e,t){var r={prop21:e,eVar23:e};return t&&(r.eVar3=e,r.prop3=e,r.eVar26=e),r}function o(e,t){n.trackLink(i.UserMenuClick,a(e,t))}var n=r(3),i=r(1);e.exports=o},function(e,t,r){function a(e,t){var r={eVar73:t,prop73:t};e?o.trackLink(n.EventFilterOn,r):o.trackLink(n.EventFilterOff,r)}var o=r(3),n=r(1);e.exports=a},function(e,t,r){function a(e){return{eVar58:e}}function o(e){i.trackLink(p.ToolStart,a(e))}function n(e){i.trackLink(p.ToolComplete,a(e))}var i=r(3),p=r(1);e.exports={trackStart:o,trackComplete:n}}]);
},{}],25:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("lib",[],e):"object"==typeof exports?exports.lib=e():t.lib=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return function(){try{t.apply(void 0,arguments)}catch(t){p("Suppressing exception",t)}}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=r(a),u=n(6),c=r(u),p=(0,s.default)("svp-web-player-mms:info"),l=(0,s.default)("svp-web-player-mms:reporter"),f=(0,s.default)("svp-web-player-mms:player"),d=function(t,e,n){p("Setting up mms with config: ",t);var r=void 0,a=function(t,e){var n=[].concat(i(t),i(e));return r?(n.forEach(function(t){t.global?(l("Setting global labels: "+JSON.stringify(t.global)),r.setLabels(t.global)):t.session?(l("Setting playback session labels: "+JSON.stringify(t.session)),r.createPlaybackSession(t.session)):t.asset?(l("Setting asset: "+JSON.stringify(t.asset)),r.getPlaybackSession().setAsset(t.asset)):t.play?(l("Notifying play: "+JSON.stringify(t.play)),r.notifyPlay(t.play.position)):t.pause?(l("Notifying pause: "+JSON.stringify(t.pause)),r.notifyPause(t.pause.position)):t.end?(l("Notifying end: "+JSON.stringify(t.end)),r.notifyEnd(t.end.position)):t.seek?(l("Notifying seek: "+JSON.stringify(t.seek)),r.notifySeekStart(t.seek.position)):l("Unsupported event type: "+JSON.stringify(t))}),[]):(e.length>0&&l("Warning: buffering events while waiting for SDK to be set:",e),n)},s=(0,c.default)(a,t,n),u=function(t){e.on(t,o(function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=[].concat(r).map(function(t){return JSON.stringify(t)}).join();f(t+" ("+o+")"),s=(e=s)[t].apply(e,r)}))},d=function(t){void 0===r&&(r=new t.StreamingAnalytics({liveEndpointURL:"https://sb.scorecardresearch.com/p?c1=2&c2=21892541"}))};return u("displayClick"),u("initialPlay"),u("adSlotStart"),u("adStarted"),u("adProgress"),u("adPlay"),u("adPause"),u("adFinished"),u("adSlotComplete"),u("assetPlay"),u("play"),u("pause"),u("seek"),u("seeked"),u("complete"),u("time"),{setNs:d}};e.default=d},function(t,e,n){(function(r){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function u(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}e=t.exports=n(4),e.log=a,e.formatArgs=o,e.save=s,e.load=u,e.useColors=i,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(u())}).call(e,n(3))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?m=d.concat(m):v=-1,m.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=m.length;e;){for(d=m,m=[];++v<e;)d&&d[v].run();v=-1,e=m.length}d=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var p,l,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,m=[],y=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function i(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(t,o),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a);(n.log||e.log||console.log.bind(console)).apply(t,a)}}var i;return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),n.destroy=o,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function a(t){e.save(t),e.names=[],e.skips=[];var n,r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function s(){e.enable("")}function u(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i.default=i,e.coerce=c,e.disable=s,e.enable=a,e.enabled=u,e.humanize=n(5),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function i(t){return o(t,c,"day")||o(t,u,"hour")||o(t,s,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,c=24*u,p=365.25*c;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return n(t);if("number"===o&&!1===isNaN(t))return e.long?i(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(7),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(t){return Math.floor(1e3*t)},s=function(t){var e=t.config,n=t.displayClick;return{global:{mms_clnr:e.mmsClientNumber,mms_subsite:e.mmsSubsite,ns_site:e.mmsSite,ns_st_mp:e.playerName,mms_auto:n?"no":"yes",ns_st_mv:e.playerVersion}}},u=function(t){return{session:{ns_st_pl:t.videoData.videoTitle}}},c=function(t){var e=t.adSlotData,n=t.adData,i=t.adDuration,o=t.videoData,s=t.clipNumber;return{asset:r({mms_adid:n.id,mms_campaignid:n.campaignId},n.customId&&{mms_customadid:n.customId},{mms_tid:""+o.videoId,ns_st_ad:e.position,ns_st_ci:""+o.videoId,ns_st_cl:a(i),ns_st_cn:""+s,ns_st_ep:o.videoTitle,ns_st_pr:o.videoSectionName,ns_st_ty:"advertisement"})}},p=function(t){var e=t.adPosition;return{play:{position:a(e)}}},l=function(t){var e=t.config,n=t.contentClipNumber,i=t.contentPartNumber,o=t.duration,s=t.videoData;return{asset:r({ns_st_cn:""+n,ns_st_pn:i,ns_st_tp:0,ns_st_cl:s.videoIsLive?0:a(o),mms_tid:""+s.videoId,ns_st_ci:""+s.videoId,ns_st_ep:s.videoTitle,ns_st_pr:s.videoSectionName,ns_st_ty:s.videoIsLive?"live":"vod"},s.videoIsLive&&{ns_st_li:1},{ns_st_pu:""+e.publisherName,ns_st_ge:"News",ns_st_st:""+e.publisherName})}},f=function(t){var e=t.position;return{play:{position:a(e)}}},d=function(t){var e=t.position;return{seek:{position:a(e)}}},m=function(t){var e=t.seeked;return{play:{position:a(e)}}},y=function(t){var e=t.position;return{pause:{position:a(e)}}},v=function(t){var e=t.position;return{end:{position:a(e)}}},C=function(t){var e=t.adPosition;return{pause:{position:a(e)}}},g=function(t){var e=t.adPosition;return{end:{position:a(e)}}},h=function(t,e){return Object.assign({},t,e)},w=function(t){return h(t,{videoData:t.vdp(t.sessionNumber)})},b=function(t){return h(t,{clipNumber:t.clipNumber+1})},F=function(t){return h(t,{sessionNumber:t.sessionNumber+1})},S=function(t){return h(t,{mmsState:"adPlaying"})},_=function(t){return h(t,{mmsState:"adPaused"})},N=function(t){return h(t,{mmsState:"adSlot"})},P=function(t){return h(t,{mmsState:"noAsset"})},k=function(t){return h(t,{mmsState:"noSession"})},A=function(t){return h(t,{mmsState:"contentPlaying"})},O=function(t){return h(t,{mmsState:"contentSeeking"})},x=function(t){return h(t,{mmsState:"contentSeeked"})},D=function(t){return h(t,{mmsState:"contentPaused"})},T=function(t){return h(t,{adData:void 0,adPosition:void 0,adDuration:void 0})},E=function(t){return h(t,{clipNumber:0,contentClipNumber:void 0,contentPartNumber:void 0,complete:!1})},M=function(t){return h(E(t),{duration:void 0,position:void 0})},j=function(t){return h(T(t),{adSlotData:void 0})},L=function(t){return h(t,{contentClipNumber:t.clipNumber,contentPartNumber:1})},I=function(t){return h(t,{contentPartNumber:t.contentPartNumber+1})},J=function(t){return void 0===t.contentClipNumber?L(b(t)):I(t)},z=function(t){return"initial"===t.mmsState},R=function(t){return"adPlaying"===t.mmsState},U=function(t){return"adPaused"===t.mmsState},$=function(t){return"adSlot"===t.mmsState},W=function(t){return"noAsset"===t.mmsState},Z=function(t){return"noSession"===t.mmsState},B=function(t){return"contentSeeking"===t.mmsState},G=function(t){return"contentSeeked"===t.mmsState},K=function(t){return"contentPlaying"===t.mmsState},V=function(t){return"contentPaused"===t.mmsState},q=function(t){return!0===t.complete},H=function(t){var e=t.adSlotData;return e&&"postroll"===e.position},Q=function(t){var e=t.adSlotData,n=t.adData,r=t.adPosition,i=t.adDuration;return e&&n&&void 0!==r&&void 0!==i},X=function(t){if(t.apply(Q)){if(t.apply(z))return t.map(F).map(w).map(b).write(s).write(u).write(c).write(p).map(S);if(t.apply(W))return t.apply(q)&&!t.apply(H)?t.map(E).map(b).write(u).write(c).write(p).map(S):t.map(b).write(c).write(p).map(S);if(t.apply($))return t.map(b).write(c).write(p).map(S);if(t.apply(U))return t.write(p).map(S);if(t.apply(K)||t.apply(V))return t.write(v).map(b).write(c).write(p).map(S);if(t.apply(Z))return t.map(F).map(w).map(b).write(u).write(c).write(p).map(S)}return t},Y=function(t){var e=t.duration,n=t.position,r=t.assetPlay;return void 0!==e&&void 0!==n&&r},tt=function(t){return t.apply(W)?t.map(M).map(k):t},et=function(t){return t.apply(R)?t.write(C).map(_):t},nt=function(t){return t.apply(R)||t.apply(U)?t.write(g).map(T).map(N):t},rt=function(t){return t.apply($)?t.map(j).map(P):t.apply(K)||t.apply(V)?t.write(v).map(P):t.apply(R)||t.apply(U)?t.write(g).map(T).map(P):t},it=function(t){if(t.apply(Y)){if(t.apply(z))return t.map(F).map(w).map(J).write(s).write(u).write(l).write(f).map(A);if(t.apply(W))return t.apply(q)?t.map(E).map(J).write(u).write(l).write(f).map(A):t.map(J).write(l).write(f).map(A);if(t.apply(Z))return t.map(F).map(w).map(J).write(u).write(l).write(f).map(A);if(t.apply(V))return t.write(f).map(A);if(t.apply(G))return t.write(m).map(A)}return t},ot=function(t){return t.apply(K)||t.apply(V)?t.write(d).map(O):t.apply(G)?t.map(O):t},at=function(t){return t.apply(B)?t.map(x):t},st=function(t){return t.apply(K)?t.write(y).map(D):t},ut=function t(e){return{output:e.output,initialPlay:function(){return t(tt(e.map(function(t){return r({},t,{assetPlay:!1})})))},adSlotStart:function(n){return t(X(e.map(function(t){return r({},t,{adSlotData:n})})))},adStarted:function(n){return t(X(e.map(function(t){return r({},t,{adData:n})})))},adPlay:function(){return t(e)},adProgress:function(n,i){return t(X(e.map(function(t){return r({},t,{adPosition:n,adDuration:i})})))},adPause:function(){return t(et(e))},adFinished:function(){return t(nt(e))},adSlotComplete:function(){return t(rt(e))},assetPlay:function(n){return t(it(e.map(function(t){return r({},t,{position:n,assetPlay:!0})})))},complete:function(){return t(rt(e.map(function(t){return r({},t,{complete:!0})})))},displayClick:function(){return t(e.map(function(t){return r({},t,{displayClick:!0})}))},play:function(){return t(e)},pause:function(){return t(st(e))},seek:function(n){var i=n.position;return t(ot(e.map(function(t){return r({},t,{position:i})})))},seeked:function(n){return t(at(e.map(function(t){return r({},t,{position:n,seeked:n})})))},time:function(n,i){return t(it(e.map(function(t){return r({},t,{position:n,duration:i})})))}}},ct=function(t,e){return{config:t,vdp:e,sessionNumber:0,clipNumber:0,displayClick:!1,mmsState:"initial"}},pt=function(t,e,n){return ut((0,o.default)(t)(ct(e,n)))};e.default=pt},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{output:function(){return[].concat(r(i))},bind:function(r){for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var u=r.apply(void 0,[n].concat(a)),c=u.value,p=u.output;return e(c,t(i,p))},map:function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e(t.apply(void 0,[n].concat(o)),i)},write:function(r){for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return e(n,t(i,[r.apply(void 0,[n].concat(a))]))},apply:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return t.apply(void 0,[n].concat(r))}}}};e.default=i}])});
},{}],26:[function(require,module,exports){

},{}],27:[function(require,module,exports){
var exports=module.exports=function(e){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie="");var o={};return o.get=function(o){for(var t=e.cookie.split(/;\s*/),i=0;i<t.length;i++){var r=t[i].split("=");if(unescape(r[0])===o)return unescape(r[1])}},o.set=function(o,t,i){i||(i={});var r=escape(o)+"="+escape(t);return i.expires&&(r+="; expires="+i.expires),i.path&&(r+="; path="+escape(i.path)),i.domain&&(r+="; domain="+escape(i.domain)),i.secure&&(r+="; secure"),e.cookie=r,r},o};if("undefined"!=typeof document){var cookie=exports(document);exports.get=cookie.get,exports.set=cookie.set}
},{}],28:[function(require,module,exports){
require("../../modules/es7.array.includes"),module.exports=require("../../modules/_core").Array.includes;
},{"../../modules/_core":35,"../../modules/es7.array.includes":63}],29:[function(require,module,exports){
require("../../modules/es6.string.includes"),module.exports=require("../../modules/_core").String.includes;
},{"../../modules/_core":35,"../../modules/es6.string.includes":62}],30:[function(require,module,exports){
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],31:[function(require,module,exports){
var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(r){ArrayProto[UNSCOPABLES][r]=!0};
},{"./_hide":45,"./_wks":61}],32:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":48}],33:[function(require,module,exports){
var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(e){return function(t,o,r){var n,u=toIObject(t),i=toLength(u.length),f=toAbsoluteIndex(r,i);if(e&&o!=o){for(;i>f;)if((n=u[f++])!=n)return!0}else for(;i>f;f++)if((e||f in u)&&u[f]===o)return e||f||0;return!e&&-1}};
},{"./_to-absolute-index":55,"./_to-iobject":57,"./_to-length":58}],34:[function(require,module,exports){
var toString={}.toString;module.exports=function(t){return toString.call(t).slice(8,-1)};
},{}],35:[function(require,module,exports){
var core=module.exports={version:"2.5.1"};"number"==typeof __e&&(__e=core);
},{}],36:[function(require,module,exports){
var aFunction=require("./_a-function");module.exports=function(n,r,t){if(aFunction(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}};
},{"./_a-function":30}],37:[function(require,module,exports){
module.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o};
},{}],38:[function(require,module,exports){
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":42}],39:[function(require,module,exports){
var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(e){return is?document.createElement(e):{}};
},{"./_global":43,"./_is-object":48}],40:[function(require,module,exports){
var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),PROTOTYPE="prototype",$export=function(e,o,r){var t,x,p,l,i=e&$export.F,$=e&$export.G,c=e&$export.S,a=e&$export.P,n=e&$export.B,P=$?global:c?global[o]||(global[o]={}):(global[o]||{})[PROTOTYPE],u=$?core:core[o]||(core[o]={}),b=u[PROTOTYPE]||(u[PROTOTYPE]={});$&&(r=o);for(t in r)x=!i&&P&&void 0!==P[t],p=(x?P:r)[t],l=n&&x?ctx(p,global):a&&"function"==typeof p?ctx(Function.call,p):p,P&&redefine(P,t,p,e&$export.U),u[t]!=p&&hide(u,t,l),a&&b[t]!=p&&(b[t]=p)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export;
},{"./_core":35,"./_ctx":36,"./_global":43,"./_hide":45,"./_redefine":52}],41:[function(require,module,exports){
var MATCH=require("./_wks")("match");module.exports=function(r){var t=/./;try{"/./"[r](t)}catch(c){try{return t[MATCH]=!1,!"/./"[r](t)}catch(r){}}return!0};
},{"./_wks":61}],42:[function(require,module,exports){
module.exports=function(r){try{return!!r()}catch(r){return!0}};
},{}],43:[function(require,module,exports){
var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global);
},{}],44:[function(require,module,exports){
var hasOwnProperty={}.hasOwnProperty;module.exports=function(r,e){return hasOwnProperty.call(r,e)};
},{}],45:[function(require,module,exports){
var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(e,r,t){return dP.f(e,r,createDesc(1,t))}:function(e,r,t){return e[r]=t,e};
},{"./_descriptors":38,"./_object-dp":50,"./_property-desc":51}],46:[function(require,module,exports){
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":38,"./_dom-create":39,"./_fails":42}],47:[function(require,module,exports){
var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)};
},{"./_cof":34}],48:[function(require,module,exports){
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],49:[function(require,module,exports){
var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(e){var r;return isObject(e)&&(void 0!==(r=e[MATCH])?!!r:"RegExp"==cof(e))};
},{"./_cof":34,"./_is-object":48,"./_wks":61}],50:[function(require,module,exports){
var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(e,r,t){if(anObject(e),r=toPrimitive(r,!0),anObject(t),IE8_DOM_DEFINE)try{return dP(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e};
},{"./_an-object":32,"./_descriptors":38,"./_ie8-dom-define":46,"./_to-primitive":59}],51:[function(require,module,exports){
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],52:[function(require,module,exports){
var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(e){return $toString.call(e)},(module.exports=function(e,i,t,r){var n="function"==typeof t;n&&(has(t,"name")||hide(t,"name",i)),e[i]!==t&&(n&&(has(t,SRC)||hide(t,SRC,e[i]?""+e[i]:TPL.join(String(i)))),e===global?e[i]=t:r?e[i]?e[i]=t:hide(e,i,t):(delete e[i],hide(e,i,t)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)});
},{"./_core":35,"./_global":43,"./_has":44,"./_hide":45,"./_uid":60}],53:[function(require,module,exports){
var global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(o){return store[o]||(store[o]={})};
},{"./_global":43}],54:[function(require,module,exports){
var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(e,r,i){if(isRegExp(r))throw TypeError("String#"+i+" doesn't accept regex!");return String(defined(e))};
},{"./_defined":37,"./_is-regexp":49}],55:[function(require,module,exports){
var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(e,t){return e=toInteger(e),e<0?max(e+t,0):min(e,t)};
},{"./_to-integer":56}],56:[function(require,module,exports){
var ceil=Math.ceil,floor=Math.floor;module.exports=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)};
},{}],57:[function(require,module,exports){
var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(e){return IObject(defined(e))};
},{"./_defined":37,"./_iobject":47}],58:[function(require,module,exports){
var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(e){return e>0?min(toInteger(e),9007199254740991):0};
},{"./_to-integer":56}],59:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(t,e){if(!isObject(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!isObject(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":48}],60:[function(require,module,exports){
var id=0,px=Math.random();module.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++id+px).toString(36))};
},{}],61:[function(require,module,exports){
var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(o){return store[o]||(store[o]=USE_SYMBOL&&Symbol[o]||(USE_SYMBOL?Symbol:uid)("Symbol."+o))};$exports.store=store;
},{"./_global":43,"./_shared":53,"./_uid":60}],62:[function(require,module,exports){
"use strict";var $export=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function(e){return!!~context(this,e,INCLUDES).indexOf(e,arguments.length>1?arguments[1]:void 0)}});
},{"./_export":40,"./_fails-is-regexp":41,"./_string-context":54}],63:[function(require,module,exports){
"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes");
},{"./_add-to-unscopables":31,"./_array-includes":33,"./_export":40}],64:[function(require,module,exports){
function ErrorMaker(r,t){function e(t){if(!(this instanceof e))return new e(t);try{throw new Error(t)}catch(t){t.name=r,this.stack=t.stack}v8StyleErrors&&this.stack&&(this.stack=reformat(this.stack,r,t)),this.message=t||"",this.name=r}return e.prototype=new(t||Error),e.prototype.constructor=e,e.prototype.inspect=function(){return this.message?"["+r+": "+this.message+"]":"["+r+"]"},e.prototype.name=r,e}var v8StyleErrors=require("./lib/v8-style")(),reformat=require("./lib/reformat");module.exports=ErrorMaker;
},{"./lib/reformat":65,"./lib/v8-style":66}],65:[function(require,module,exports){
"use strict";module.exports=function(e,n,r){var t=n;return r&&(t+=": "+r),e=t+e.slice(e.indexOf("\n"))};
},{}],66:[function(require,module,exports){
"use strict";module.exports=function(){var r=new Error("yep");return!!r.stack&&"Error: yep\n"===r.stack.substr(0,11)};
},{}],67:[function(require,module,exports){
(function (process){
function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+exports.humanize(this.diff),o){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,r)}}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?exports.storage.removeItem("debug"):exports.storage.debug=e}catch(e){}}function load(){var e;try{e=exports.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},exports.enable(load());
}).call(this,require('_process'))

},{"./debug":68,"_process":74}],68:[function(require,module,exports){
function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){function r(){if(r.enabled){var e=r,t=+new Date,o=t-(prevTime||t);e.diff=o,e.prev=prevTime,e.curr=t,prevTime=t;for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];s[0]=exports.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var p=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,t){if("%%"===r)return r;p++;var o=exports.formatters[t];if("function"==typeof o){var n=s[p];r=o.call(e,n),s.splice(p,1),p--}return r}),exports.formatArgs.call(e,s);(r.log||exports.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=exports.enabled(e),r.useColors=exports.useColors(),r.color=selectColor(e),"function"==typeof exports.init&&exports.init(r),r}function enable(e){exports.save(e),exports.names=[],exports.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),t=r.length,o=0;o<t;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime;
},{"ms":72}],69:[function(require,module,exports){
(function (process,global){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function n(t){z=t}function r(t){B=t}function o(){return void 0!==W?function(){W(s)}:i()}function i(){var t=setTimeout;return function(){return t(s,1)}}function s(){for(var t=0;t<U;t+=2){(0,R[t])(R[t+1]),R[t]=void 0,R[t+1]=void 0}U=0}function u(t,e){var n=arguments,r=this,o=new this.constructor(a);void 0===o[X]&&P(o);var i=r._state;return i?function(){var t=n[i-1];B(function(){return E(i,o,t,r._result)})}():g(r,o,t,e),o}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(a);return y(n,t),n}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(t){return et.error=t,et}}function p(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){B(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?y(t,n):b(t,n))},function(e){r||(r=!0,w(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,w(t,o))},t)}function d(t,e){e._state===$?b(t,e._result):e._state===tt?w(t,e._result):g(e,void 0,function(e){return y(t,e)},function(e){return w(t,e)})}function _(t,n,r){n.constructor===t.constructor&&r===u&&n.constructor.resolve===c?d(t,n):r===et?(w(t,et.error),et.error=null):void 0===r?b(t,n):e(r)?v(t,n,r):b(t,n)}function y(e,n){e===n?w(e,f()):t(n)?_(e,n,h(n)):b(e,n)}function m(t){t._onerror&&t._onerror(t._result),A(t)}function b(t,e){t._state===Z&&(t._result=e,t._state=$,0!==t._subscribers.length&&B(A,t))}function w(t,e){t._state===Z&&(t._state=tt,t._result=e,B(m,t))}function g(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+$]=n,o[i+tt]=r,0===i&&t._state&&B(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?E(n,r,o,i):o(i);t._subscribers.length=0}}function S(){this.error=null}function j(t,e){try{return t(e)}catch(t){return nt.error=t,nt}}function E(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=j(r,o),s===nt?(a=!0,u=s.error,s.error=null):c=!0,n===s)return void w(n,l())}else s=o,c=!0;n._state!==Z||(i&&c?y(n,s):a?w(n,u):t===$?b(n,s):t===tt&&w(n,s))}function T(t,e){try{e(function(e){y(t,e)},function(e){w(t,e)})}catch(e){w(t,e)}}function M(){return rt++}function P(t){t[X]=rt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function x(t,e){this._instanceConstructor=t,this.promise=new t(a),this.promise[X]||P(this.promise),N(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&b(this.promise,this._result))):w(this.promise,C())}function C(){return new Error("Array Methods must be provided an Array")}function O(t){return new x(this,t).promise}function k(t){var e=this;return new e(N(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function Y(t){var e=this,n=new e(a);return w(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this[X]=M(),this._result=this._state=void 0,this._subscribers=[],a!==t&&("function"!=typeof t&&q(),this instanceof D?T(this,t):F())}function K(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D}var L=void 0;L=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N=L,U=0,W=void 0,z=void 0,B=function(t,e){R[U]=t,R[U+1]=e,2===(U+=2)&&(z?z(s):V())},G="undefined"!=typeof window?window:void 0,H=G||{},I=H.MutationObserver||H.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,R=new Array(1e3),V=void 0;V=J?function(){return function(){return process.nextTick(s)}}():I?function(){var t=0,e=new I(s),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Q?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){return t.port2.postMessage(0)}}():void 0===G&&"function"==typeof require?function(){try{var t=require,e=t("vertx");return W=e.runOnLoop||e.runOnContext,o()}catch(t){return i()}}():i();var X=Math.random().toString(36).substring(16),Z=void 0,$=1,tt=2,et=new S,nt=new S,rt=0;return x.prototype._enumerate=function(t){for(var e=0;this._state===Z&&e<t.length;e++)this._eachEntry(t[e],e)},x.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=h(t);if(o===u&&t._state!==Z)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===D){var i=new n(a);_(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},x.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===Z&&(this._remaining--,t===tt?w(r,n):this._result[e]=n),0===this._remaining&&b(r,this._result)},x.prototype._willSettleAt=function(t,e){var n=this;g(t,void 0,function(t){return n._settledAt($,e,t)},function(t){return n._settledAt(tt,e,t)})},D.all=O,D.race=k,D.resolve=c,D.reject=Y,D._setScheduler=n,D._setAsap=r,D._asap=B,D.prototype={constructor:D,then:u,catch:function(t){return this.then(null,t)}},D.polyfill=K,D.Promise=D,D});
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":74}],70:[function(require,module,exports){
(function (global){
(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function o(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function f(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function c(n,t){return!!(null==n?0:n.length)&&b(n,t,0)>-1}function a(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function l(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function s(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function h(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function p(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function _(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function v(n){return n.split("")}function g(n){return n.match(Bt)||[]}function y(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function d(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function b(n,t,r){return t===t?K(n,t,r):d(n,m,r)}function w(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function m(n){return n!==n}function x(n,t){var r=null==n?0:n.length;return r?I(n,t)/r:Sn}function j(n){return function(t){return null==t?X:t[n]}}function A(n){return function(t){return null==n?X:n[t]}}function k(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function O(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function I(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i)}return r}function R(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function z(n,t){return l(t,function(t){return[t,n[t]]})}function E(n){return function(t){return n(t)}}function S(n,t){return l(t,function(t){return n[t]})}function L(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&b(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length;r--&&b(t,n[r],0)>-1;);return r}function U(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function B(n){return"\\"+jr[n]}function T(n,t){return null==n?X:n[t]}function $(n){return _r.test(n)}function D(n){return vr.test(n)}function M(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function F(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function N(n,t){return function(r){return n(t(r))}}function P(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==on||(n[r]=on,i[u++]=r)}return i}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function Z(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function K(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function V(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function G(n){return $(n)?J(n):Mr(n)}function H(n){return $(n)?Y(n):v(n)}function J(n){for(var t=hr.lastIndex=0;hr.test(n);)++t;return t}function Y(n){return n.match(hr)||[]}function Q(n){return n.match(pr)||[]}var X,nn=200,tn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rn="Expected a function",en="__lodash_hash_undefined__",un=500,on="__lodash_placeholder__",fn=1,cn=2,an=4,ln=1,sn=2,hn=1,pn=2,_n=4,vn=8,gn=16,yn=32,dn=64,bn=128,wn=256,mn=512,xn=30,jn="...",An=800,kn=16,On=1,In=2,Rn=1/0,zn=9007199254740991,En=1.7976931348623157e308,Sn=NaN,Ln=4294967295,Wn=Ln-1,Cn=Ln>>>1,Un=[["ary",bn],["bind",hn],["bindKey",pn],["curry",vn],["curryRight",gn],["flip",mn],["partial",yn],["partialRight",dn],["rearg",wn]],Bn="[object Arguments]",Tn="[object Array]",$n="[object AsyncFunction]",Dn="[object Boolean]",Mn="[object Date]",Fn="[object DOMException]",Nn="[object Error]",Pn="[object Function]",qn="[object GeneratorFunction]",Zn="[object Map]",Kn="[object Number]",Vn="[object Null]",Gn="[object Object]",Hn="[object Proxy]",Jn="[object RegExp]",Yn="[object Set]",Qn="[object String]",Xn="[object Symbol]",nt="[object Undefined]",tt="[object WeakMap]",rt="[object WeakSet]",et="[object ArrayBuffer]",ut="[object DataView]",it="[object Float32Array]",ot="[object Float64Array]",ft="[object Int8Array]",ct="[object Int16Array]",at="[object Int32Array]",lt="[object Uint8Array]",st="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",_t=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,bt=RegExp(yt.source),wt=RegExp(dt.source),mt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,jt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Ot=/^\./,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Rt.source),Et=/^\s+|\s+$/g,St=/^\s+/,Lt=/\s+$/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ct=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tt=/\\(\\)?/g,$t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="["+Ht+"]",Yt="["+Gt+"]",Qt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Xt="[^\\ud800-\\udfff"+Ht+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nr="\\ud83c[\\udffb-\\udfff]",tr="(?:\\ud83c[\\udde6-\\uddff]){2}",rr="[\\ud800-\\udbff][\\udc00-\\udfff]",er="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ur="(?:"+Qt+"|"+Xt+")",ir="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",or="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tr,rr].join("|")+")[\\ufe0e\\ufe0f]?"+ir+")*",fr="[\\ufe0e\\ufe0f]?"+ir+or,cr="(?:"+["[\\u2700-\\u27bf]",tr,rr].join("|")+")"+fr,ar="(?:"+["[^\\ud800-\\udfff]"+Yt+"?",Yt,tr,rr,"[\\ud800-\\udfff]"].join("|")+")",lr=RegExp("['’]","g"),sr=RegExp(Yt,"g"),hr=RegExp(nr+"(?="+nr+")|"+ar+fr,"g"),pr=RegExp([er+"?"+Qt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Jt,er,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Jt,er+ur,"$"].join("|")+")",er+"?"+ur+"+(?:['’](?:d|ll|m|re|s|t|ve))?",er+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",cr].join("|"),"g"),_r=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),vr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yr=-1,dr={};dr[it]=dr[ot]=dr[ft]=dr[ct]=dr[at]=dr[lt]=dr[st]=dr[ht]=dr[pt]=!0,dr[Bn]=dr[Tn]=dr[et]=dr[Dn]=dr[ut]=dr[Mn]=dr[Nn]=dr[Pn]=dr[Zn]=dr[Kn]=dr[Gn]=dr[Jn]=dr[Yn]=dr[Qn]=dr[tt]=!1;var br={};br[Bn]=br[Tn]=br[et]=br[ut]=br[Dn]=br[Mn]=br[it]=br[ot]=br[ft]=br[ct]=br[at]=br[Zn]=br[Kn]=br[Gn]=br[Jn]=br[Yn]=br[Qn]=br[Xn]=br[lt]=br[st]=br[ht]=br[pt]=!0,br[Nn]=br[Pn]=br[tt]=!1;var wr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ar=parseFloat,kr=parseInt,Or="object"==typeof global&&global&&global.Object===Object&&global,Ir="object"==typeof self&&self&&self.Object===Object&&self,Rr=Or||Ir||Function("return this")(),zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Er=zr&&"object"==typeof module&&module&&!module.nodeType&&module,Sr=Er&&Er.exports===zr,Lr=Sr&&Or.process,Wr=function(){try{return Lr&&Lr.binding&&Lr.binding("util")}catch(n){}}(),Cr=Wr&&Wr.isArrayBuffer,Ur=Wr&&Wr.isDate,Br=Wr&&Wr.isMap,Tr=Wr&&Wr.isRegExp,$r=Wr&&Wr.isSet,Dr=Wr&&Wr.isTypedArray,Mr=j("length"),Fr=A(wr),Nr=A(mr),Pr=A(xr),qr=function v(A){function K(n){if(oc(n)&&!yh(n)&&!(n instanceof Bt)){if(n instanceof Y)return n;if(yl.call(n,"__wrapped__"))return to(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=X}function Bt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ln,this.__views__=[]}function Gt(){var n=new Bt(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Ht(){if(this.__filtered__){var n=new Bt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Jt(){var n=this.__wrapped__.value(),t=this.__dir__,r=yh(n),e=t<0,u=r?n.length:0,i=Oi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Vl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return du(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==In)g=w;else if(!w){if(b==On)continue n;break n}}_[h++]=g}return _}function Yt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Qt(){this.__data__=es?es(null):{},this.size=0}function Xt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function nr(n){var t=this.__data__;if(es){var r=t[n];return r===en?X:r}return yl.call(t,n)?t[n]:X}function tr(n){var t=this.__data__;return es?t[n]!==X:yl.call(t,n)}function rr(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=es&&t===X?en:t,this}function er(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ur(){this.__data__=[],this.size=0}function ir(n){var t=this.__data__,r=Jr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Sl.call(t,r,1),--this.size,!0)}function or(n){var t=this.__data__,r=Jr(t,n);return r<0?X:t[r][1]}function fr(n){return Jr(this.__data__,n)>-1}function cr(n,t){var r=this.__data__,e=Jr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function ar(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function hr(){this.size=0,this.__data__={hash:new Yt,map:new(Xl||er),string:new Yt}}function pr(n){var t=xi(this,n).delete(n);return this.size-=t?1:0,t}function _r(n){return xi(this,n).get(n)}function vr(n){return xi(this,n).has(n)}function wr(n,t){var r=xi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function mr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new ar;++t<r;)this.add(n[t])}function xr(n){return this.__data__.set(n,en),this}function jr(n){return this.__data__.has(n)}function Or(n){var t=this.__data__=new er(n);this.size=t.size}function Ir(){this.__data__=new er,this.size=0}function zr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Er(n){return this.__data__.get(n)}function Lr(n){return this.__data__.has(n)}function Wr(n,t){var r=this.__data__;if(r instanceof er){var e=r.__data__;if(!Xl||e.length<nn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new ar(e)}return r.set(n,t),this.size=r.size,this}function Mr(n,t){var r=yh(n),e=!r&&gh(n),u=!r&&!e&&bh(n),i=!r&&!e&&!u&&Ah(n),o=r||e||u||i,f=o?R(n.length,ll):[],c=f.length;for(var a in n)!t&&!yl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Ci(a,c))||f.push(a);return f}function Zr(n){var t=n.length;return t?n[Xe(0,t-1)]:X}function Kr(n,t){return Yi(Tu(n),re(t,0,n.length))}function Vr(n){return Yi(Tu(n))}function Gr(n,t,r){(r===X||Kf(n[t],r))&&(r!==X||t in n)||ne(n,t,r)}function Hr(n,t,r){var e=n[t];yl.call(n,t)&&Kf(e,r)&&(r!==X||t in n)||ne(n,t,r)}function Jr(n,t){for(var r=n.length;r--;)if(Kf(n[r][0],t))return r;return-1}function Yr(n,t,r,e){return vs(n,function(n,u,i){t(e,n,r(n),i)}),e}function Qr(n,t){return n&&$u(t,Fc(t),n)}function Xr(n,t){return n&&$u(t,Nc(t),n)}function ne(n,t,r){"__proto__"==t&&Ul?Ul(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function te(n,t){for(var r=-1,e=t.length,u=el(e),i=null==n;++r<e;)u[r]=i?X:$c(n,t[r]);return u}function re(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),t!==X&&(n=n>=t?n:t)),n}function ee(n,t,r,e,i,o){var f,c=t&fn,a=t&cn,l=t&an;if(r&&(f=i?r(n,e,i,o):r(n)),f!==X)return f;if(!ic(n))return n;var s=yh(n);if(s){if(f=zi(n),!c)return Tu(n,f)}else{var h=Is(n),p=h==Pn||h==qn;if(bh(n))return ku(n,c);if(h==Gn||h==Bn||p&&!i){if(f=a||p?{}:Ei(n),!c)return a?Mu(n,Xr(f,n)):Du(n,Qr(f,n))}else{if(!br[h])return i?n:{};f=Si(n,h,ee,c)}}o||(o=new Or);var _=o.get(n);if(_)return _;o.set(n,f);var v=l?a?di:yi:a?Nc:Fc,g=s?X:v(n);return u(g||n,function(e,u){g&&(u=e,e=n[u]),Hr(f,u,ee(e,t,r,u,n,o))}),f}function ue(n){var t=Fc(n);return function(r){return ie(r,n,t)}}function ie(n,t,r){var e=r.length;if(null==n)return!e;for(n=cl(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function oe(n,t,r){if("function"!=typeof n)throw new sl(rn);return Es(function(){n.apply(X,r)},t)}function fe(n,t,r,e){var u=-1,i=c,o=!0,f=n.length,s=[],h=t.length;if(!f)return s;r&&(t=l(t,E(r))),e?(i=a,o=!1):t.length>=nn&&(i=L,o=!1,t=new mr(t));n:for(;++u<f;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,o&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ce(n,t){var r=!0;return vs(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ae(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!yc(o):r(o,f)))var f=o,c=i}return c}function le(n,t,r,e){var u=n.length;for(r=jc(r),r<0&&(r=-r>u?0:u+r),e=e===X||e>u?u:jc(e),e<0&&(e+=u),e=r>e?0:Ac(e);r<e;)n[r++]=t;return n}function se(n,t){var r=[];return vs(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function he(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Wi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?he(f,t-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function pe(n,t){return n&&ys(n,t,Fc)}function _e(n,t){return n&&ds(n,t,Fc)}function ve(n,t){return f(t,function(t){return rc(n[t])})}function ge(n,t){t=ju(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Qi(t[r++])];return r&&r==e?n:X}function ye(n,t,r){var e=t(n);return yh(n)?e:s(e,r(n))}function de(n){return null==n?n===X?nt:Vn:Cl&&Cl in cl(n)?ki(n):Zi(n)}function be(n,t){return n>t}function we(n,t){return null!=n&&yl.call(n,t)}function me(n,t){return null!=n&&t in cl(n)}function xe(n,t,r){return n>=Vl(t,r)&&n<Kl(t,r)}function je(n,t,r){for(var e=r?a:c,u=n[0].length,i=n.length,o=i,f=el(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=l(p,E(t))),s=Vl(p.length,s),f[o]=!r&&(t||u>=120&&p.length>=120)?new mr(o&&p):X}p=n[0];var _=-1,v=f[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?L(v,y):e(h,y,r))){for(o=i;--o;){var d=f[o];if(!(d?L(d,y):e(n[o],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Ae(n,t,r,e){return pe(n,function(n,u,i){t(e,r(n),u,i)}),e}function ke(n,t,e){t=ju(t,n),n=Vi(n,t);var u=null==n?n:n[Qi(mo(t))];return null==u?X:r(u,n,e)}function Oe(n){return oc(n)&&de(n)==Bn}function Ie(n){return oc(n)&&de(n)==et}function Re(n){return oc(n)&&de(n)==Mn}function ze(n,t,r,e,u){return n===t||(null==n||null==t||!oc(n)&&!oc(t)?n!==n&&t!==t:Ee(n,t,r,e,ze,u))}function Ee(n,t,r,e,u,i){var o=yh(n),f=yh(t),c=o?Tn:Is(n),a=f?Tn:Is(t);c=c==Bn?Gn:c,a=a==Bn?Gn:a;var l=c==Gn,s=a==Gn,h=c==a;if(h&&bh(n)){if(!bh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new Or),o||Ah(n)?pi(n,t,r,e,u,i):_i(n,t,c,r,e,u,i);if(!(r&ln)){var p=l&&yl.call(n,"__wrapped__"),_=s&&yl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new Or),u(v,g,r,e,i)}}return!!h&&(i||(i=new Or),vi(n,t,r,e,u,i))}function Se(n){return oc(n)&&Is(n)==Zn}function Le(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=cl(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new Or;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?ze(l,a,ln|sn,e,s):h))return!1}}return!0}function We(n){return!(!ic(n)||Di(n))&&(rc(n)?jl:Nt).test(Xi(n))}function Ce(n){return oc(n)&&de(n)==Jn}function Ue(n){return oc(n)&&Is(n)==Yn}function Be(n){return oc(n)&&uc(n.length)&&!!dr[de(n)]}function Te(n){return"function"==typeof n?n:null==n?Sa:"object"==typeof n?yh(n)?Pe(n[0],n[1]):Ne(n):Da(n)}function $e(n){if(!Mi(n))return Zl(n);var t=[];for(var r in cl(n))yl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function De(n){if(!ic(n))return qi(n);var t=Mi(n),r=[];for(var e in n)("constructor"!=e||!t&&yl.call(n,e))&&r.push(e);return r}function Me(n,t){return n<t}function Fe(n,t){var r=-1,e=Vf(n)?el(n.length):[];return vs(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Ne(n){var t=ji(n);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===n||Le(r,n,t)}}function Pe(n,t){return Bi(n)&&Fi(t)?Ni(Qi(n),t):function(r){var e=$c(r,n);return e===X&&e===t?Mc(r,n):ze(t,e,ln|sn)}}function qe(n,t,r,e,u){n!==t&&ys(t,function(i,o){if(ic(i))u||(u=new Or),Ze(n,t,o,r,qe,e,u);else{var f=e?e(n[o],i,o+"",n,t,u):X;f===X&&(f=i),Gr(n,o,f)}},Nc)}function Ze(n,t,r,e,u,i,o){var f=n[r],c=t[r],a=o.get(c);if(a)return void Gr(n,r,a);var l=i?i(f,c,r+"",n,t,o):X,s=l===X;if(s){var h=yh(c),p=!h&&bh(c),_=!h&&!p&&Ah(c);l=c,h||p||_?yh(f)?l=f:Gf(f)?l=Tu(f):p?(s=!1,l=ku(c,!0)):_?(s=!1,l=Lu(c,!0)):l=[]:_c(c)||gh(c)?(l=f,gh(f)?l=Oc(f):(!ic(f)||e&&rc(f))&&(l=Ei(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Gr(n,r,l)}function Ke(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ci(t,r)?n[t]:X}function Ve(n,t,r){var e=-1;return t=l(t.length?t:[Sa],E(mi())),O(Fe(n,function(n,r,u){return{criteria:l(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return Cu(n,t,r)})}function Ge(n,t){return He(n,t,function(t,r){return Mc(n,r)})}function He(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=ge(n,o);r(f,o)&&iu(i,ju(o,n),f)}return i}function Je(n){return function(t){return ge(t,n)}}function Ye(n,t,r,e){var u=e?w:b,i=-1,o=t.length,f=n;for(n===t&&(t=Tu(t)),r&&(f=l(n,E(r)));++i<o;)for(var c=0,a=t[i],s=r?r(a):a;(c=u(f,s,c,e))>-1;)f!==n&&Sl.call(f,c,1),Sl.call(n,c,1);return n}function Qe(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Ci(u)?Sl.call(n,u,1):vu(n,u)}}return n}function Xe(n,t){return n+Ml(Jl()*(t-n+1))}function nu(n,t,r,e){for(var u=-1,i=Kl(Dl((t-n)/(r||1)),0),o=el(i);i--;)o[e?i:++u]=n,n+=r;return o}function tu(n,t){var r="";if(!n||t<1||t>zn)return r;do{t%2&&(r+=n),(t=Ml(t/2))&&(n+=n)}while(t);return r}function ru(n,t){return Ss(Ki(n,t,Sa),n+"")}function eu(n){return Zr(na(n))}function uu(n,t){var r=na(n);return Yi(r,re(t,0,r.length))}function iu(n,t,r,e){if(!ic(n))return n;t=ju(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Qi(t[u]),a=r;if(u!=o){var l=f[c];a=e?e(l,c,f):X,a===X&&(a=ic(l)?l:Ci(t[u+1])?[]:{})}Hr(f,c,a),f=f[c]}return n}function ou(n){return Yi(na(n))}function fu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=el(u);++e<u;)i[e]=n[e+t];return i}function cu(n,t){var r;return vs(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function au(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Cn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!yc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return lu(n,t,Sa,r)}function lu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=yc(t),a=t===X;u<i;){var l=Ml((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=yc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Vl(i,Wn)}function su(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Kf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function hu(n){return"number"==typeof n?n:yc(n)?Sn:+n}function pu(n){if("string"==typeof n)return n;if(yh(n))return l(n,pu)+"";if(yc(n))return ps?ps.call(n):"";var t=n+"";return"0"==t&&1/n==-Rn?"-0":t}function _u(n,t,r){var e=-1,u=c,i=n.length,o=!0,f=[],l=f;if(r)o=!1,u=a;else if(i>=nn){var s=t?null:js(n);if(s)return q(s);o=!1,u=L,l=new mr}else l=t?[]:f;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),f.push(h)}else u(l,p,r)||(l!==f&&l.push(p),f.push(h))}return f}function vu(n,t){return t=ju(t,n),null==(n=Vi(n,t))||delete n[Qi(mo(t))]}function gu(n,t,r,e){return iu(n,t,r(ge(n,t)),e)}function yu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?fu(n,e?0:i,e?i+1:u):fu(n,e?i+1:0,e?u:i)}function du(n,t){var r=n;return r instanceof Bt&&(r=r.value()),h(t,function(n,t){return t.func.apply(t.thisArg,s([n],t.args))},r)}function bu(n,t,r){var e=n.length;if(e<2)return e?_u(n[0]):[];for(var u=-1,i=el(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=fe(i[u]||o,n[f],t,r));return _u(he(i,1),t,r)}function wu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:X;r(o,n[e],f)}return o}function mu(n){return Gf(n)?n:[]}function xu(n){return"function"==typeof n?n:Sa}function ju(n,t){return yh(n)?n:Bi(n,t)?[n]:Ls(Rc(n))}function Au(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:fu(n,t,r)}function ku(n,t){if(t)return n.slice();var r=n.length,e=Il?Il(r):new n.constructor(r);return n.copy(e),e}function Ou(n){var t=new n.constructor(n.byteLength);return new Ol(t).set(new Ol(n)),t}function Iu(n,t){var r=t?Ou(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Ru(t,r,e){return h(r?e(F(t),fn):F(t),n,new t.constructor)}function zu(n){var t=new n.constructor(n.source,Dt.exec(n));return t.lastIndex=n.lastIndex,t}function Eu(n,r,e){return h(r?e(q(n),fn):q(n),t,new n.constructor)}function Su(n){return hs?cl(hs.call(n)):{}}function Lu(n,t){var r=t?Ou(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Wu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=yc(n),o=t!==X,f=null===t,c=t===t,a=yc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Wu(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Uu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Kl(i-o,0),l=el(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Bu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Kl(i-f,0),s=el(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Tu(n,t){var r=-1,e=n.length;for(t||(t=el(e));++r<e;)t[r]=n[r];return t}function $u(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?ne(r,f,c):Hr(r,f,c)}return r}function Du(n,t){return $u(n,ks(n),t)}function Mu(n,t){return $u(n,Os(n),t)}function Fu(n,t){return function(r,u){var i=yh(r)?e:Yr,o=t?t():{};return i(r,n,mi(u,2),o)}}function Nu(n){return ru(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&"function"==typeof i?(u--,i):X,o&&Ui(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=cl(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Pu(n,t){return function(r,e){if(null==r)return r;if(!Vf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=cl(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function qu(n){return function(t,r,e){for(var u=-1,i=cl(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Zu(n,t,r){function e(){return(this&&this!==Rr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&hn,i=Gu(n);return e}function Ku(n){return function(t){t=Rc(t);var r=$(t)?H(t):X,e=r?r[0]:t.charAt(0),u=r?Au(r,1).join(""):t.slice(1);return e[n]()+u}}function Vu(n){return function(t){return h(Oa(oa(t).replace(lr,"")),n,"")}}function Gu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=_s(n.prototype),e=n.apply(r,t);return ic(e)?e:r}}function Hu(n,t,e){function u(){for(var o=arguments.length,f=el(o),c=o,a=wi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:P(f,a);return(o-=l.length)<e?oi(n,t,Qu,u.placeholder,X,f,l,X,X,e-o):r(this&&this!==Rr&&this instanceof u?i:n,this,f)}var i=Gu(n);return u}function Ju(n){return function(t,r,e){var u=cl(t);if(!Vf(t)){var i=mi(r,3);t=Fc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Yu(n){return gi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new sl(rn);if(u&&!o&&"wrapper"==bi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=bi(i),c="wrapper"==f?As(i):X;o=c&&$i(c[0])&&c[1]==(bn|vn|yn|wn)&&!c[4].length&&1==c[9]?o[bi(c[0])].apply(o,c[3]):1==i.length&&$i(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&yh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Qu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=el(y),b=y;b--;)d[b]=arguments[b];if(_)var w=wi(l),m=U(d,w);if(e&&(d=Uu(d,e,u,_)),i&&(d=Bu(d,i,o,_)),y-=m,_&&y<a){var x=P(d,w);return oi(n,t,Qu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Gi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==Rr&&this instanceof l&&(A=g||Gu(A)),A.apply(j,d)}var s=t&bn,h=t&hn,p=t&pn,_=t&(vn|gn),v=t&mn,g=p?X:Gu(n);return l}function Xu(n,t){return function(r,e){return Ae(r,n,t(e),{})}}function ni(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;"string"==typeof r||"string"==typeof e?(r=pu(r),e=pu(e)):(r=hu(r),e=hu(e)),u=n(r,e)}return u}}function ti(n){return gi(function(t){return t=l(t,E(mi())),ru(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function ri(n,t){t=t===X?" ":pu(t);var r=t.length;if(r<2)return r?tu(t,n):t;var e=tu(t,Dl(n/G(t)));return $(t)?Au(H(e),0,n).join(""):e.slice(0,n)}function ei(n,t,e,u){function i(){for(var t=-1,c=arguments.length,a=-1,l=u.length,s=el(l+c),h=this&&this!==Rr&&this instanceof i?f:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++t];return r(h,o?e:this,s)}var o=t&hn,f=Gu(n);return i}function ui(n){return function(t,r,e){return e&&"number"!=typeof e&&Ui(t,r,e)&&(r=e=X),t=xc(t),r===X?(r=t,t=0):r=xc(r),e=e===X?t<r?1:-1:xc(e),nu(t,r,e,n)}}function ii(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=kc(t),r=kc(r)),n(t,r)}}function oi(n,t,r,e,u,i,o,f,c,a){var l=t&vn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?yn:dn,(t&=~(l?dn:yn))&_n||(t&=~(hn|pn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return $i(n)&&zs(g,v),g.placeholder=e,Hi(g,n,t)}function fi(n){var t=fl[n];return function(n,r){if(n=kc(n),r=null==r?0:Vl(jc(r),292)){var e=(Rc(n)+"e").split("e");return e=(Rc(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ci(n){return function(t){var r=Is(t);return r==Zn?F(t):r==Yn?Z(t):z(t,n(t))}}function ai(n,t,r,e,u,i,o,f){var c=t&pn;if(!c&&"function"!=typeof n)throw new sl(rn);var a=e?e.length:0;if(a||(t&=~(yn|dn),e=u=X),o=o===X?o:Kl(jc(o),0),f=f===X?f:jc(f),a-=u?u.length:0,t&dn){var l=e,s=u;e=u=X}var h=c?X:As(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&Pi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:Kl(p[9]-a,0),!f&&t&(vn|gn)&&(t&=~(vn|gn)),t&&t!=hn)_=t==vn||t==gn?Hu(n,t,f):t!=yn&&t!=(hn|yn)||u.length?Qu.apply(X,p):ei(n,t,r,e);else var _=Zu(n,t,r);return Hi((h?bs:zs)(_,p),n,t)}function li(n,t,r,e){return n===X||Kf(n,_l[r])&&!yl.call(e,r)?t:n}function si(n,t,r,e,u,i){return ic(n)&&ic(t)&&(i.set(t,n),qe(n,t,X,si,i),i.delete(t)),n}function hi(n){return _c(n)?X:n}function pi(n,t,r,e,u,i){var o=r&ln,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,h=r&sn?new mr:X;for(i.set(n,t),i.set(t,n);++l<f;){var p=n[l],v=t[l];if(e)var g=o?e(v,p,l,t,n,i):e(p,v,l,n,t,i);if(g!==X){if(g)continue;s=!1;break}if(h){if(!_(t,function(n,t){if(!L(h,t)&&(p===n||u(p,n,r,e,i)))return h.push(t)})){s=!1;break}}else if(p!==v&&!u(p,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function _i(n,t,r,e,u,i,o){switch(r){case ut:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case et:return!(n.byteLength!=t.byteLength||!i(new Ol(n),new Ol(t)));case Dn:case Mn:case Kn:return Kf(+n,+t);case Nn:return n.name==t.name&&n.message==t.message;case Jn:case Qn:return n==t+"";case Zn:var f=F;case Yn:var c=e&ln;if(f||(f=q),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=sn,o.set(n,t);var l=pi(f(n),f(t),e,u,i,o);return o.delete(n),l;case Xn:if(hs)return hs.call(n)==hs.call(t)}return!1}function vi(n,t,r,e,u,i){var o=r&ln,f=yi(n),c=f.length;if(c!=yi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:yl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0;i.set(n,t),i.set(t,n)
;for(var p=o;++a<c;){l=f[a];var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===X?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function gi(n){return Ss(Ki(n,X,ho),n+"")}function yi(n){return ye(n,Fc,ks)}function di(n){return ye(n,Nc,Os)}function bi(n){for(var t=n.name+"",r=is[t],e=yl.call(is,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function wi(n){return(yl.call(K,"placeholder")?K:n).placeholder}function mi(){var n=K.iteratee||La;return n=n===La?Te:n,arguments.length?n(arguments[0],arguments[1]):n}function xi(n,t){var r=n.__data__;return Ti(t)?r["string"==typeof t?"string":"hash"]:r.map}function ji(n){for(var t=Fc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Fi(u)]}return t}function Ai(n,t){var r=T(n,t);return We(r)?r:X}function ki(n){var t=yl.call(n,Cl),r=n[Cl];try{n[Cl]=X;var e=!0}catch(n){}var u=wl.call(n);return e&&(t?n[Cl]=r:delete n[Cl]),u}function Oi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Vl(t,n+o);break;case"takeRight":n=Kl(n,t-o)}}return{start:n,end:t}}function Ii(n){var t=n.match(Ct);return t?t[1].split(Ut):[]}function Ri(n,t,r){t=ju(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Qi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&uc(u)&&Ci(o,u)&&(yh(n)||gh(n))}function zi(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&yl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ei(n){return"function"!=typeof n.constructor||Mi(n)?{}:_s(Rl(n))}function Si(n,t,r,e){var u=n.constructor;switch(t){case et:return Ou(n);case Dn:case Mn:return new u(+n);case ut:return Iu(n,e);case it:case ot:case ft:case ct:case at:case lt:case st:case ht:case pt:return Lu(n,e);case Zn:return Ru(n,e,r);case Kn:case Qn:return new u(n);case Jn:return zu(n);case Yn:return Eu(n,e,r);case Xn:return Su(n)}}function Li(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Wt,"{\n/* [wrapped with "+t+"] */\n")}function Wi(n){return yh(n)||gh(n)||!!(Ll&&n&&n[Ll])}function Ci(n,t){return!!(t=null==t?zn:t)&&("number"==typeof n||qt.test(n))&&n>-1&&n%1==0&&n<t}function Ui(n,t,r){if(!ic(r))return!1;var e=typeof t;return!!("number"==e?Vf(r)&&Ci(t,r.length):"string"==e&&t in r)&&Kf(r[t],n)}function Bi(n,t){if(yh(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!yc(n))||(kt.test(n)||!At.test(n)||null!=t&&n in cl(t))}function Ti(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function $i(n){var t=bi(n),r=K[t];if("function"!=typeof r||!(t in Bt.prototype))return!1;if(n===r)return!0;var e=As(r);return!!e&&n===e[0]}function Di(n){return!!bl&&bl in n}function Mi(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||_l)}function Fi(n){return n===n&&!ic(n)}function Ni(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==X||n in cl(r)))}}function Pi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(hn|pn|bn),o=e==bn&&r==vn||e==bn&&r==wn&&n[7].length<=t[8]||e==(bn|wn)&&t[7].length<=t[8]&&r==vn;if(!i&&!o)return n;e&hn&&(n[2]=t[2],u|=r&hn?0:_n);var f=t[3];if(f){var c=n[3];n[3]=c?Uu(c,f,t[4]):f,n[4]=c?P(n[3],on):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Bu(c,f,t[6]):f,n[6]=c?P(n[5],on):t[6]),f=t[7],f&&(n[7]=f),e&bn&&(n[8]=null==n[8]?t[8]:Vl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function qi(n){var t=[];if(null!=n)for(var r in cl(n))t.push(r);return t}function Zi(n){return wl.call(n)}function Ki(n,t,e){return t=Kl(t===X?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=Kl(u.length-t,0),f=el(o);++i<o;)f[i]=u[t+i];i=-1;for(var c=el(t+1);++i<t;)c[i]=u[i];return c[t]=e(f),r(n,this,c)}}function Vi(n,t){return t.length<2?n:ge(n,fu(t,0,-1))}function Gi(n,t){for(var r=n.length,e=Vl(t.length,r),u=Tu(n);e--;){var i=t[e];n[e]=Ci(i,r)?u[i]:X}return n}function Hi(n,t,r){var e=t+"";return Ss(n,Li(e,no(Ii(e),r)))}function Ji(n){var t=0,r=0;return function(){var e=Gl(),u=kn-(e-r);if(r=e,u>0){if(++t>=An)return arguments[0]}else t=0;return n.apply(X,arguments)}}function Yi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=Xe(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Qi(n){if("string"==typeof n||yc(n))return n;var t=n+"";return"0"==t&&1/n==-Rn?"-0":t}function Xi(n){if(null!=n){try{return gl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function no(n,t){return u(Un,function(r){var e="_."+r[0];t&r[1]&&!c(n,e)&&n.push(e)}),n.sort()}function to(n){if(n instanceof Bt)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);return t.__actions__=Tu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function ro(n,t,r){t=(r?Ui(n,t,r):t===X)?1:Kl(jc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=el(Dl(e/t));u<e;)o[i++]=fu(n,u,u+=t);return o}function eo(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function uo(){var n=arguments.length;if(!n)return[];for(var t=el(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return s(yh(r)?Tu(r):[r],he(t,1))}function io(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),fu(n,t<0?0:t,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),t=e-t,fu(n,0,t<0?0:t)):[]}function fo(n,t){return n&&n.length?yu(n,mi(t,3),!0,!0):[]}function co(n,t){return n&&n.length?yu(n,mi(t,3),!0):[]}function ao(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ui(n,t,r)&&(r=0,e=u),le(n,t,r,e)):[]}function lo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:jc(r);return u<0&&(u=Kl(e+u,0)),d(n,mi(t,3),u)}function so(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=jc(r),u=r<0?Kl(e+u,0):Vl(u,e-1)),d(n,mi(t,3),u,!0)}function ho(n){return(null==n?0:n.length)?he(n,1):[]}function po(n){return(null==n?0:n.length)?he(n,Rn):[]}function _o(n,t){return(null==n?0:n.length)?(t=t===X?1:jc(t),he(n,t)):[]}function vo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function go(n){return n&&n.length?n[0]:X}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:jc(r);return u<0&&(u=Kl(e+u,0)),b(n,t,u)}function bo(n){return(null==n?0:n.length)?fu(n,0,-1):[]}function wo(n,t){return null==n?"":ql.call(n,t)}function mo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function xo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=jc(r),u=u<0?Kl(e+u,0):Vl(u,e-1)),t===t?V(n,t,u):d(n,m,u,!0)}function jo(n,t){return n&&n.length?Ke(n,jc(t)):X}function Ao(n,t){return n&&n.length&&t&&t.length?Ye(n,t):n}function ko(n,t,r){return n&&n.length&&t&&t.length?Ye(n,t,mi(r,2)):n}function Oo(n,t,r){return n&&n.length&&t&&t.length?Ye(n,t,X,r):n}function Io(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=mi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Qe(n,u),r}function Ro(n){return null==n?n:Yl.call(n)}function zo(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ui(n,t,r)?(t=0,r=e):(t=null==t?0:jc(t),r=r===X?e:jc(r)),fu(n,t,r)):[]}function Eo(n,t){return au(n,t)}function So(n,t,r){return lu(n,t,mi(r,2))}function Lo(n,t){var r=null==n?0:n.length;if(r){var e=au(n,t);if(e<r&&Kf(n[e],t))return e}return-1}function Wo(n,t){return au(n,t,!0)}function Co(n,t,r){return lu(n,t,mi(r,2),!0)}function Uo(n,t){if(null==n?0:n.length){var r=au(n,t,!0)-1;if(Kf(n[r],t))return r}return-1}function Bo(n){return n&&n.length?su(n):[]}function To(n,t){return n&&n.length?su(n,mi(t,2)):[]}function $o(n){var t=null==n?0:n.length;return t?fu(n,1,t):[]}function Do(n,t,r){return n&&n.length?(t=r||t===X?1:jc(t),fu(n,0,t<0?0:t)):[]}function Mo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),t=e-t,fu(n,t<0?0:t,e)):[]}function Fo(n,t){return n&&n.length?yu(n,mi(t,3),!1,!0):[]}function No(n,t){return n&&n.length?yu(n,mi(t,3)):[]}function Po(n){return n&&n.length?_u(n):[]}function qo(n,t){return n&&n.length?_u(n,mi(t,2)):[]}function Zo(n,t){return t="function"==typeof t?t:X,n&&n.length?_u(n,X,t):[]}function Ko(n){if(!n||!n.length)return[];var t=0;return n=f(n,function(n){if(Gf(n))return t=Kl(n.length,t),!0}),R(t,function(t){return l(n,j(t))})}function Vo(n,t){if(!n||!n.length)return[];var e=Ko(n);return null==t?e:l(e,function(n){return r(t,X,n)})}function Go(n,t){return wu(n||[],t||[],Hr)}function Ho(n,t){return wu(n||[],t||[],iu)}function Jo(n){var t=K(n);return t.__chain__=!0,t}function Yo(n,t){return t(n),n}function Qo(n,t){return t(n)}function Xo(){return Jo(this)}function nf(){return new Y(this.value(),this.__chain__)}function tf(){this.__values__===X&&(this.__values__=mc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function rf(){return this}function ef(n){for(var t,r=this;r instanceof J;){var e=to(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function uf(){var n=this.__wrapped__;if(n instanceof Bt){var t=n;return this.__actions__.length&&(t=new Bt(this)),t=t.reverse(),t.__actions__.push({func:Qo,args:[Ro],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Ro)}function of(){return du(this.__wrapped__,this.__actions__)}function ff(n,t,r){var e=yh(n)?o:ce;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function cf(n,t){return(yh(n)?f:se)(n,mi(t,3))}function af(n,t){return he(vf(n,t),1)}function lf(n,t){return he(vf(n,t),Rn)}function sf(n,t,r){return r=r===X?1:jc(r),he(vf(n,t),r)}function hf(n,t){return(yh(n)?u:vs)(n,mi(t,3))}function pf(n,t){return(yh(n)?i:gs)(n,mi(t,3))}function _f(n,t,r,e){n=Vf(n)?n:na(n),r=r&&!e?jc(r):0;var u=n.length;return r<0&&(r=Kl(u+r,0)),gc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&b(n,t,r)>-1}function vf(n,t){return(yh(n)?l:Fe)(n,mi(t,3))}function gf(n,t,r,e){return null==n?[]:(yh(t)||(t=null==t?[]:[t]),r=e?X:r,yh(r)||(r=null==r?[]:[r]),Ve(n,t,r))}function yf(n,t,r){var e=yh(n)?h:k,u=arguments.length<3;return e(n,mi(t,4),r,u,vs)}function df(n,t,r){var e=yh(n)?p:k,u=arguments.length<3;return e(n,mi(t,4),r,u,gs)}function bf(n,t){return(yh(n)?f:se)(n,Wf(mi(t,3)))}function wf(n){return(yh(n)?Zr:eu)(n)}function mf(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:jc(t),(yh(n)?Kr:uu)(n,t)}function xf(n){return(yh(n)?Vr:ou)(n)}function jf(n){if(null==n)return 0;if(Vf(n))return gc(n)?G(n):n.length;var t=Is(n);return t==Zn||t==Yn?n.size:$e(n).length}function Af(n,t,r){var e=yh(n)?_:cu;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function kf(n,t){if("function"!=typeof t)throw new sl(rn);return n=jc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Of(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,ai(n,bn,X,X,X,X,t)}function If(n,t){var r;if("function"!=typeof t)throw new sl(rn);return n=jc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Rf(n,t,r){t=r?X:t;var e=ai(n,vn,X,X,X,X,X,t);return e.placeholder=Rf.placeholder,e}function zf(n,t,r){t=r?X:t;var e=ai(n,gn,X,X,X,X,X,t);return e.placeholder=zf.placeholder,e}function Ef(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Es(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Vl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_}function f(){var n=ih();if(o(n))return c(n);g=Es(f,i(n))}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&xs(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(ih())}function s(){var n=ih(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return g=Es(f,t),e(y)}return g===X&&(g=Es(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new sl(rn);return t=kc(t)||0,ic(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Kl(kc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function Sf(n){return ai(n,mn)}function Lf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new sl(rn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Lf.Cache||ar),r}function Wf(n){if("function"!=typeof n)throw new sl(rn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Cf(n){return If(2,n)}function Uf(n,t){if("function"!=typeof n)throw new sl(rn);return t=t===X?t:jc(t),ru(n,t)}function Bf(n,t){if("function"!=typeof n)throw new sl(rn);return t=null==t?0:Kl(jc(t),0),ru(function(e){var u=e[t],i=Au(e,0,t);return u&&s(i,u),r(n,this,i)})}function Tf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new sl(rn);return ic(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Ef(n,t,{leading:e,maxWait:t,trailing:u})}function $f(n){return Of(n,1)}function Df(n,t){return sh(xu(t),n)}function Mf(){if(!arguments.length)return[];var n=arguments[0];return yh(n)?n:[n]}function Ff(n){return ee(n,an)}function Nf(n,t){return t="function"==typeof t?t:X,ee(n,an,t)}function Pf(n){return ee(n,fn|an)}function qf(n,t){return t="function"==typeof t?t:X,ee(n,fn|an,t)}function Zf(n,t){return null==t||ie(n,t,Fc(t))}function Kf(n,t){return n===t||n!==n&&t!==t}function Vf(n){return null!=n&&uc(n.length)&&!rc(n)}function Gf(n){return oc(n)&&Vf(n)}function Hf(n){return!0===n||!1===n||oc(n)&&de(n)==Dn}function Jf(n){return oc(n)&&1===n.nodeType&&!_c(n)}function Yf(n){if(null==n)return!0;if(Vf(n)&&(yh(n)||"string"==typeof n||"function"==typeof n.splice||bh(n)||Ah(n)||gh(n)))return!n.length;var t=Is(n);if(t==Zn||t==Yn)return!n.size;if(Mi(n))return!$e(n).length;for(var r in n)if(yl.call(n,r))return!1;return!0}function Qf(n,t){return ze(n,t)}function Xf(n,t,r){r="function"==typeof r?r:X;var e=r?r(n,t):X;return e===X?ze(n,t,X,r):!!e}function nc(n){if(!oc(n))return!1;var t=de(n);return t==Nn||t==Fn||"string"==typeof n.message&&"string"==typeof n.name&&!_c(n)}function tc(n){return"number"==typeof n&&Pl(n)}function rc(n){if(!ic(n))return!1;var t=de(n);return t==Pn||t==qn||t==$n||t==Hn}function ec(n){return"number"==typeof n&&n==jc(n)}function uc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=zn}function ic(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function oc(n){return null!=n&&"object"==typeof n}function fc(n,t){return n===t||Le(n,t,ji(t))}function cc(n,t,r){return r="function"==typeof r?r:X,Le(n,t,ji(t),r)}function ac(n){return pc(n)&&n!=+n}function lc(n){if(Rs(n))throw new il(tn);return We(n)}function sc(n){return null===n}function hc(n){return null==n}function pc(n){return"number"==typeof n||oc(n)&&de(n)==Kn}function _c(n){if(!oc(n)||de(n)!=Gn)return!1;var t=Rl(n);if(null===t)return!0;var r=yl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&gl.call(r)==ml}function vc(n){return ec(n)&&n>=-zn&&n<=zn}function gc(n){return"string"==typeof n||!yh(n)&&oc(n)&&de(n)==Qn}function yc(n){return"symbol"==typeof n||oc(n)&&de(n)==Xn}function dc(n){return n===X}function bc(n){return oc(n)&&Is(n)==tt}function wc(n){return oc(n)&&de(n)==rt}function mc(n){if(!n)return[];if(Vf(n))return gc(n)?H(n):Tu(n);if(Wl&&n[Wl])return M(n[Wl]());var t=Is(n);return(t==Zn?F:t==Yn?q:na)(n)}function xc(n){if(!n)return 0===n?n:0;if((n=kc(n))===Rn||n===-Rn){return(n<0?-1:1)*En}return n===n?n:0}function jc(n){var t=xc(n),r=t%1;return t===t?r?t-r:t:0}function Ac(n){return n?re(jc(n),0,Ln):0}function kc(n){if("number"==typeof n)return n;if(yc(n))return Sn;if(ic(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=ic(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Et,"");var r=Ft.test(n);return r||Pt.test(n)?kr(n.slice(2),r?2:8):Mt.test(n)?Sn:+n}function Oc(n){return $u(n,Nc(n))}function Ic(n){return n?re(jc(n),-zn,zn):0===n?n:0}function Rc(n){return null==n?"":pu(n)}function zc(n,t){var r=_s(n);return null==t?r:Qr(r,t)}function Ec(n,t){return y(n,mi(t,3),pe)}function Sc(n,t){return y(n,mi(t,3),_e)}function Lc(n,t){return null==n?n:ys(n,mi(t,3),Nc)}function Wc(n,t){return null==n?n:ds(n,mi(t,3),Nc)}function Cc(n,t){return n&&pe(n,mi(t,3))}function Uc(n,t){return n&&_e(n,mi(t,3))}function Bc(n){return null==n?[]:ve(n,Fc(n))}function Tc(n){return null==n?[]:ve(n,Nc(n))}function $c(n,t,r){var e=null==n?X:ge(n,t);return e===X?r:e}function Dc(n,t){return null!=n&&Ri(n,t,we)}function Mc(n,t){return null!=n&&Ri(n,t,me)}function Fc(n){return Vf(n)?Mr(n):$e(n)}function Nc(n){return Vf(n)?Mr(n,!0):De(n)}function Pc(n,t){var r={};return t=mi(t,3),pe(n,function(n,e,u){ne(r,t(n,e,u),n)}),r}function qc(n,t){var r={};return t=mi(t,3),pe(n,function(n,e,u){ne(r,e,t(n,e,u))}),r}function Zc(n,t){return Kc(n,Wf(mi(t)))}function Kc(n,t){if(null==n)return{};var r=l(di(n),function(n){return[n]});return t=mi(t),He(n,r,function(n,r){return t(n,r[0])})}function Vc(n,t,r){t=ju(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[Qi(t[e])];i===X&&(e=u,i=r),n=rc(i)?i.call(n):i}return n}function Gc(n,t,r){return null==n?n:iu(n,t,r)}function Hc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:iu(n,t,r,e)}function Jc(n,t,r){var e=yh(n),i=e||bh(n)||Ah(n);if(t=mi(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:ic(n)&&rc(o)?_s(Rl(n)):{}}return(i?u:pe)(n,function(n,e,u){return t(r,n,e,u)}),r}function Yc(n,t){return null==n||vu(n,t)}function Qc(n,t,r){return null==n?n:gu(n,t,xu(r))}function Xc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:gu(n,t,xu(r),e)}function na(n){return null==n?[]:S(n,Fc(n))}function ta(n){return null==n?[]:S(n,Nc(n))}function ra(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=kc(r),r=r===r?r:0),t!==X&&(t=kc(t),t=t===t?t:0),re(kc(n),t,r)}function ea(n,t,r){return t=xc(t),r===X?(r=t,t=0):r=xc(r),n=kc(n),xe(n,t,r)}function ua(n,t,r){if(r&&"boolean"!=typeof r&&Ui(n,t,r)&&(t=r=X),r===X&&("boolean"==typeof t?(r=t,t=X):"boolean"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=xc(n),t===X?(t=n,n=0):t=xc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Jl();return Vl(n+u*(t-n+Ar("1e-"+((u+"").length-1))),t)}return Xe(n,t)}function ia(n){return Jh(Rc(n).toLowerCase())}function oa(n){return(n=Rc(n))&&n.replace(Zt,Fr).replace(sr,"")}function fa(n,t,r){n=Rc(n),t=pu(t);var e=n.length;r=r===X?e:re(jc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ca(n){return n=Rc(n),n&&wt.test(n)?n.replace(dt,Nr):n}function aa(n){return n=Rc(n),n&&zt.test(n)?n.replace(Rt,"\\$&"):n}function la(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Ml(u),r)+n+ri(Dl(u),r)}function sa(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;return t&&e<t?n+ri(t-e,r):n}function ha(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;return t&&e<t?ri(t-e,r)+n:n}function pa(n,t,r){return r||null==t?t=0:t&&(t=+t),Hl(Rc(n).replace(St,""),t||0)}function _a(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:jc(t),tu(Rc(n),t)}function va(){var n=arguments,t=Rc(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ga(n,t,r){return r&&"number"!=typeof r&&Ui(n,t,r)&&(t=r=X),(r=r===X?Ln:r>>>0)?(n=Rc(n),n&&("string"==typeof t||null!=t&&!xh(t))&&!(t=pu(t))&&$(n)?Au(H(n),0,r):n.split(t,r)):[]}function ya(n,t,r){return n=Rc(n),r=null==r?0:re(jc(r),0,n.length),t=pu(t),n.slice(r,r+t.length)==t}function da(n,t,r){var e=K.templateSettings;r&&Ui(n,t,r)&&(t=X),n=Rc(n),t=zh({},t,e,li);var u,i,o=zh({},t.imports,e.imports,li),f=Fc(o),c=S(o,f),a=0,l=t.interpolate||Kt,s="__p += '",h=al((t.escape||Kt).source+"|"+l.source+"|"+(l===jt?$t:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++yr+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Vt,B),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(_t,""):s).replace(vt,"$1").replace(gt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Yh(function(){return ol(f,p+"return "+s).apply(X,c)});if(v.source=s,nc(v))throw v;return v}function ba(n){return Rc(n).toLowerCase()}function wa(n){return Rc(n).toUpperCase()}function ma(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(Et,"");if(!n||!(t=pu(t)))return n;var e=H(n),u=H(t);return Au(e,W(e,u),C(e,u)+1).join("")}function xa(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(Lt,"");if(!n||!(t=pu(t)))return n;var e=H(n);return Au(e,0,C(e,H(t))+1).join("")}function ja(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(St,"");if(!n||!(t=pu(t)))return n;var e=H(n);return Au(e,W(e,H(t))).join("")}function Aa(n,t){var r=xn,e=jn;if(ic(t)){var u="separator"in t?t.separator:u;r="length"in t?jc(t.length):r,e="omission"in t?pu(t.omission):e}n=Rc(n);var i=n.length;if($(n)){var o=H(n);i=o.length}if(r>=i)return n;var f=r-G(e);if(f<1)return e;var c=o?Au(o,0,f).join(""):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),xh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=al(u.source,Rc(Dt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===X?f:s)}}else if(n.indexOf(pu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ka(n){return n=Rc(n),n&&bt.test(n)?n.replace(yt,Pr):n}function Oa(n,t,r){return n=Rc(n),t=r?X:t,t===X?D(n)?Q(n):g(n):n.match(t)||[]}function Ia(n){var t=null==n?0:n.length,e=mi();return n=t?l(n,function(n){if("function"!=typeof n[1])throw new sl(rn);return[e(n[0]),n[1]]}):[],ru(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})}function Ra(n){return ue(ee(n,fn))}function za(n){return function(){return n}}function Ea(n,t){return null==n||n!==n?t:n}function Sa(n){return n}function La(n){return Te("function"==typeof n?n:ee(n,fn))}function Wa(n){return Ne(ee(n,fn))}function Ca(n,t){return Pe(n,ee(t,fn))}function Ua(n,t,r){var e=Fc(t),i=ve(t,e);null!=r||ic(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=ve(t,Fc(t)));var o=!(ic(r)&&"chain"in r&&!r.chain),f=rc(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Tu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,s([this.value()],arguments))})}),n}function Ba(){return Rr._===this&&(Rr._=xl),this}function Ta(){}function $a(n){return n=jc(n),ru(function(t){return Ke(t,n)})}function Da(n){return Bi(n)?j(Qi(n)):Je(n)}function Ma(n){return function(t){return null==n?X:ge(n,t)}}function Fa(){return[]}function Na(){return!1}function Pa(){return{}}function qa(){return""}function Za(){return!0}function Ka(n,t){if((n=jc(n))<1||n>zn)return[];var r=Ln,e=Vl(n,Ln);t=mi(t),n-=Ln;for(var u=R(e,t);++r<n;)t(r);return u}function Va(n){return yh(n)?l(n,Qi):yc(n)?[n]:Tu(Ls(Rc(n)))}function Ga(n){var t=++dl;return Rc(n)+t}function Ha(n){return n&&n.length?ae(n,Sa,be):X}function Ja(n,t){return n&&n.length?ae(n,mi(t,2),be):X}function Ya(n){return x(n,Sa)}function Qa(n,t){return x(n,mi(t,2))}function Xa(n){return n&&n.length?ae(n,Sa,Me):X}function nl(n,t){return n&&n.length?ae(n,mi(t,2),Me):X}function tl(n){return n&&n.length?I(n,Sa):0}function rl(n,t){return n&&n.length?I(n,mi(t,2)):0}A=null==A?Rr:qr.defaults(Rr.Object(),A,qr.pick(Rr,gr));var el=A.Array,ul=A.Date,il=A.Error,ol=A.Function,fl=A.Math,cl=A.Object,al=A.RegExp,ll=A.String,sl=A.TypeError,hl=el.prototype,pl=ol.prototype,_l=cl.prototype,vl=A["__core-js_shared__"],gl=pl.toString,yl=_l.hasOwnProperty,dl=0,bl=function(){var n=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),wl=_l.toString,ml=gl.call(cl),xl=Rr._,jl=al("^"+gl.call(yl).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Al=Sr?A.Buffer:X,kl=A.Symbol,Ol=A.Uint8Array,Il=Al?Al.allocUnsafe:X,Rl=N(cl.getPrototypeOf,cl),zl=cl.create,El=_l.propertyIsEnumerable,Sl=hl.splice,Ll=kl?kl.isConcatSpreadable:X,Wl=kl?kl.iterator:X,Cl=kl?kl.toStringTag:X,Ul=function(){try{var n=Ai(cl,"defineProperty");return n({},"",{}),n}catch(n){}}(),Bl=A.clearTimeout!==Rr.clearTimeout&&A.clearTimeout,Tl=ul&&ul.now!==Rr.Date.now&&ul.now,$l=A.setTimeout!==Rr.setTimeout&&A.setTimeout,Dl=fl.ceil,Ml=fl.floor,Fl=cl.getOwnPropertySymbols,Nl=Al?Al.isBuffer:X,Pl=A.isFinite,ql=hl.join,Zl=N(cl.keys,cl),Kl=fl.max,Vl=fl.min,Gl=ul.now,Hl=A.parseInt,Jl=fl.random,Yl=hl.reverse,Ql=Ai(A,"DataView"),Xl=Ai(A,"Map"),ns=Ai(A,"Promise"),ts=Ai(A,"Set"),rs=Ai(A,"WeakMap"),es=Ai(cl,"create"),us=rs&&new rs,is={},os=Xi(Ql),fs=Xi(Xl),cs=Xi(ns),as=Xi(ts),ls=Xi(rs),ss=kl?kl.prototype:X,hs=ss?ss.valueOf:X,ps=ss?ss.toString:X,_s=function(){function n(){}return function(t){if(!ic(t))return{};if(zl)return zl(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();K.templateSettings={escape:mt,evaluate:xt,interpolate:jt,variable:"",imports:{_:K}},K.prototype=J.prototype,K.prototype.constructor=K,Y.prototype=_s(J.prototype),Y.prototype.constructor=Y,Bt.prototype=_s(J.prototype),Bt.prototype.constructor=Bt,Yt.prototype.clear=Qt,Yt.prototype.delete=Xt,Yt.prototype.get=nr,Yt.prototype.has=tr,Yt.prototype.set=rr,er.prototype.clear=ur,er.prototype.delete=ir,er.prototype.get=or,er.prototype.has=fr,er.prototype.set=cr,ar.prototype.clear=hr,ar.prototype.delete=pr,ar.prototype.get=_r,ar.prototype.has=vr,ar.prototype.set=wr,mr.prototype.add=mr.prototype.push=xr,mr.prototype.has=jr,Or.prototype.clear=Ir,Or.prototype.delete=zr,Or.prototype.get=Er,Or.prototype.has=Lr,Or.prototype.set=Wr;var vs=Pu(pe),gs=Pu(_e,!0),ys=qu(),ds=qu(!0),bs=us?function(n,t){return us.set(n,t),n}:Sa,ws=Ul?function(n,t){return Ul(n,"toString",{configurable:!0,enumerable:!1,value:za(t),writable:!0})}:Sa,ms=ru,xs=Bl||function(n){return Rr.clearTimeout(n)},js=ts&&1/q(new ts([,-0]))[1]==Rn?function(n){return new ts(n)}:Ta,As=us?function(n){return us.get(n)}:Ta,ks=Fl?function(n){return null==n?[]:(n=cl(n),f(Fl(n),function(t){return El.call(n,t)}))}:Fa,Os=Fl?function(n){for(var t=[];n;)s(t,ks(n)),n=Rl(n);return t}:Fa,Is=de;(Ql&&Is(new Ql(new ArrayBuffer(1)))!=ut||Xl&&Is(new Xl)!=Zn||ns&&"[object Promise]"!=Is(ns.resolve())||ts&&Is(new ts)!=Yn||rs&&Is(new rs)!=tt)&&(Is=function(n){var t=de(n),r=t==Gn?n.constructor:X,e=r?Xi(r):"";if(e)switch(e){case os:return ut;case fs:return Zn;case cs:return"[object Promise]";case as:return Yn;case ls:return tt}return t});var Rs=vl?rc:Na,zs=Ji(bs),Es=$l||function(n,t){return Rr.setTimeout(n,t)},Ss=Ji(ws),Ls=function(n){var t=Lf(n,function(n){return r.size===un&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return Ot.test(n)&&t.push(""),n.replace(It,function(n,r,e,u){t.push(e?u.replace(Tt,"$1"):r||n)}),t}),Ws=ru(function(n,t){return Gf(n)?fe(n,he(t,1,Gf,!0)):[]}),Cs=ru(function(n,t){var r=mo(t);return Gf(r)&&(r=X),Gf(n)?fe(n,he(t,1,Gf,!0),mi(r,2)):[]}),Us=ru(function(n,t){var r=mo(t);return Gf(r)&&(r=X),Gf(n)?fe(n,he(t,1,Gf,!0),X,r):[]}),Bs=ru(function(n){var t=l(n,mu);return t.length&&t[0]===n[0]?je(t):[]}),Ts=ru(function(n){var t=mo(n),r=l(n,mu);return t===mo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?je(r,mi(t,2)):[]}),$s=ru(function(n){var t=mo(n),r=l(n,mu);return t="function"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?je(r,X,t):[]}),Ds=ru(Ao),Ms=gi(function(n,t){var r=null==n?0:n.length,e=te(n,t);return Qe(n,l(t,function(n){return Ci(n,r)?+n:n}).sort(Wu)),e}),Fs=ru(function(n){return _u(he(n,1,Gf,!0))}),Ns=ru(function(n){var t=mo(n);return Gf(t)&&(t=X),_u(he(n,1,Gf,!0),mi(t,2))}),Ps=ru(function(n){var t=mo(n);return t="function"==typeof t?t:X,_u(he(n,1,Gf,!0),X,t)}),qs=ru(function(n,t){return Gf(n)?fe(n,t):[]}),Zs=ru(function(n){return bu(f(n,Gf))}),Ks=ru(function(n){var t=mo(n);return Gf(t)&&(t=X),bu(f(n,Gf),mi(t,2))}),Vs=ru(function(n){var t=mo(n);return t="function"==typeof t?t:X,bu(f(n,Gf),X,t)}),Gs=ru(Ko),Hs=ru(function(n){var t=n.length,r=t>1?n[t-1]:X;return r="function"==typeof r?(n.pop(),r):X,Vo(n,r)}),Js=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return te(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Bt&&Ci(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Qo,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Ys=Fu(function(n,t,r){yl.call(n,r)?++n[r]:ne(n,r,1)}),Qs=Ju(lo),Xs=Ju(so),nh=Fu(function(n,t,r){yl.call(n,r)?n[r].push(t):ne(n,r,[t])}),th=ru(function(n,t,e){var u=-1,i="function"==typeof t,o=Vf(n)?el(n.length):[];return vs(n,function(n){o[++u]=i?r(t,n,e):ke(n,t,e)}),o}),rh=Fu(function(n,t,r){ne(n,r,t)}),eh=Fu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),uh=ru(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ui(n,t[0],t[1])?t=[]:r>2&&Ui(t[0],t[1],t[2])&&(t=[t[0]]),Ve(n,he(t,1),[])}),ih=Tl||function(){return Rr.Date.now()},oh=ru(function(n,t,r){var e=hn;if(r.length){var u=P(r,wi(oh));e|=yn}return ai(n,e,t,r,u)}),fh=ru(function(n,t,r){var e=hn|pn;if(r.length){var u=P(r,wi(fh));e|=yn}return ai(t,e,n,r,u)}),ch=ru(function(n,t){return oe(n,1,t)}),ah=ru(function(n,t,r){return oe(n,kc(t)||0,r)});Lf.Cache=ar;var lh=ms(function(n,t){t=1==t.length&&yh(t[0])?l(t[0],E(mi())):l(he(t,1),E(mi()));var e=t.length;return ru(function(u){for(var i=-1,o=Vl(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),sh=ru(function(n,t){var r=P(t,wi(sh));return ai(n,yn,X,t,r)}),hh=ru(function(n,t){var r=P(t,wi(hh));return ai(n,dn,X,t,r)}),ph=gi(function(n,t){return ai(n,wn,X,X,X,t)}),_h=ii(be),vh=ii(function(n,t){return n>=t}),gh=Oe(function(){return arguments}())?Oe:function(n){return oc(n)&&yl.call(n,"callee")&&!El.call(n,"callee")},yh=el.isArray,dh=Cr?E(Cr):Ie,bh=Nl||Na,wh=Ur?E(Ur):Re,mh=Br?E(Br):Se,xh=Tr?E(Tr):Ce,jh=$r?E($r):Ue,Ah=Dr?E(Dr):Be,kh=ii(Me),Oh=ii(function(n,t){return n<=t}),Ih=Nu(function(n,t){if(Mi(t)||Vf(t))return void $u(t,Fc(t),n);for(var r in t)yl.call(t,r)&&Hr(n,r,t[r])}),Rh=Nu(function(n,t){$u(t,Nc(t),n)}),zh=Nu(function(n,t,r,e){$u(t,Nc(t),n,e)}),Eh=Nu(function(n,t,r,e){$u(t,Fc(t),n,e)}),Sh=gi(te),Lh=ru(function(n){return n.push(X,li),r(zh,X,n)}),Wh=ru(function(n){return n.push(X,si),r($h,X,n)}),Ch=Xu(function(n,t,r){n[t]=r},za(Sa)),Uh=Xu(function(n,t,r){yl.call(n,t)?n[t].push(r):n[t]=[r]},mi),Bh=ru(ke),Th=Nu(function(n,t,r){qe(n,t,r)}),$h=Nu(function(n,t,r,e){qe(n,t,r,e)}),Dh=gi(function(n,t){var r={};if(null==n)return r;var e=!1;t=l(t,function(t){return t=ju(t,n),e||(e=t.length>1),t}),$u(n,di(n),r),e&&(r=ee(r,fn|cn|an,hi));for(var u=t.length;u--;)vu(r,t[u]);return r}),Mh=gi(function(n,t){return null==n?{}:Ge(n,t)}),Fh=ci(Fc),Nh=ci(Nc),Ph=Vu(function(n,t,r){return t=t.toLowerCase(),n+(r?ia(t):t)}),qh=Vu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Zh=Vu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Kh=Ku("toLowerCase"),Vh=Vu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Gh=Vu(function(n,t,r){return n+(r?" ":"")+Jh(t)}),Hh=Vu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Jh=Ku("toUpperCase"),Yh=ru(function(n,t){try{return r(n,X,t)}catch(n){return nc(n)?n:new il(n)}}),Qh=gi(function(n,t){return u(t,function(t){t=Qi(t),ne(n,t,oh(n[t],n))}),n}),Xh=Yu(),np=Yu(!0),tp=ru(function(n,t){return function(r){return ke(r,n,t)}}),rp=ru(function(n,t){return function(r){return ke(n,r,t)}}),ep=ti(l),up=ti(o),ip=ti(_),op=ui(),fp=ui(!0),cp=ni(function(n,t){return n+t},0),ap=fi("ceil"),lp=ni(function(n,t){return n/t},1),sp=fi("floor"),hp=ni(function(n,t){return n*t},1),pp=fi("round"),_p=ni(function(n,t){return n-t},0);return K.after=kf,K.ary=Of,K.assign=Ih,K.assignIn=Rh,K.assignInWith=zh,K.assignWith=Eh,K.at=Sh,K.before=If,K.bind=oh,K.bindAll=Qh,K.bindKey=fh,K.castArray=Mf,K.chain=Jo,K.chunk=ro,K.compact=eo,
K.concat=uo,K.cond=Ia,K.conforms=Ra,K.constant=za,K.countBy=Ys,K.create=zc,K.curry=Rf,K.curryRight=zf,K.debounce=Ef,K.defaults=Lh,K.defaultsDeep=Wh,K.defer=ch,K.delay=ah,K.difference=Ws,K.differenceBy=Cs,K.differenceWith=Us,K.drop=io,K.dropRight=oo,K.dropRightWhile=fo,K.dropWhile=co,K.fill=ao,K.filter=cf,K.flatMap=af,K.flatMapDeep=lf,K.flatMapDepth=sf,K.flatten=ho,K.flattenDeep=po,K.flattenDepth=_o,K.flip=Sf,K.flow=Xh,K.flowRight=np,K.fromPairs=vo,K.functions=Bc,K.functionsIn=Tc,K.groupBy=nh,K.initial=bo,K.intersection=Bs,K.intersectionBy=Ts,K.intersectionWith=$s,K.invert=Ch,K.invertBy=Uh,K.invokeMap=th,K.iteratee=La,K.keyBy=rh,K.keys=Fc,K.keysIn=Nc,K.map=vf,K.mapKeys=Pc,K.mapValues=qc,K.matches=Wa,K.matchesProperty=Ca,K.memoize=Lf,K.merge=Th,K.mergeWith=$h,K.method=tp,K.methodOf=rp,K.mixin=Ua,K.negate=Wf,K.nthArg=$a,K.omit=Dh,K.omitBy=Zc,K.once=Cf,K.orderBy=gf,K.over=ep,K.overArgs=lh,K.overEvery=up,K.overSome=ip,K.partial=sh,K.partialRight=hh,K.partition=eh,K.pick=Mh,K.pickBy=Kc,K.property=Da,K.propertyOf=Ma,K.pull=Ds,K.pullAll=Ao,K.pullAllBy=ko,K.pullAllWith=Oo,K.pullAt=Ms,K.range=op,K.rangeRight=fp,K.rearg=ph,K.reject=bf,K.remove=Io,K.rest=Uf,K.reverse=Ro,K.sampleSize=mf,K.set=Gc,K.setWith=Hc,K.shuffle=xf,K.slice=zo,K.sortBy=uh,K.sortedUniq=Bo,K.sortedUniqBy=To,K.split=ga,K.spread=Bf,K.tail=$o,K.take=Do,K.takeRight=Mo,K.takeRightWhile=Fo,K.takeWhile=No,K.tap=Yo,K.throttle=Tf,K.thru=Qo,K.toArray=mc,K.toPairs=Fh,K.toPairsIn=Nh,K.toPath=Va,K.toPlainObject=Oc,K.transform=Jc,K.unary=$f,K.union=Fs,K.unionBy=Ns,K.unionWith=Ps,K.uniq=Po,K.uniqBy=qo,K.uniqWith=Zo,K.unset=Yc,K.unzip=Ko,K.unzipWith=Vo,K.update=Qc,K.updateWith=Xc,K.values=na,K.valuesIn=ta,K.without=qs,K.words=Oa,K.wrap=Df,K.xor=Zs,K.xorBy=Ks,K.xorWith=Vs,K.zip=Gs,K.zipObject=Go,K.zipObjectDeep=Ho,K.zipWith=Hs,K.entries=Fh,K.entriesIn=Nh,K.extend=Rh,K.extendWith=zh,Ua(K,K),K.add=cp,K.attempt=Yh,K.camelCase=Ph,K.capitalize=ia,K.ceil=ap,K.clamp=ra,K.clone=Ff,K.cloneDeep=Pf,K.cloneDeepWith=qf,K.cloneWith=Nf,K.conformsTo=Zf,K.deburr=oa,K.defaultTo=Ea,K.divide=lp,K.endsWith=fa,K.eq=Kf,K.escape=ca,K.escapeRegExp=aa,K.every=ff,K.find=Qs,K.findIndex=lo,K.findKey=Ec,K.findLast=Xs,K.findLastIndex=so,K.findLastKey=Sc,K.floor=sp,K.forEach=hf,K.forEachRight=pf,K.forIn=Lc,K.forInRight=Wc,K.forOwn=Cc,K.forOwnRight=Uc,K.get=$c,K.gt=_h,K.gte=vh,K.has=Dc,K.hasIn=Mc,K.head=go,K.identity=Sa,K.includes=_f,K.indexOf=yo,K.inRange=ea,K.invoke=Bh,K.isArguments=gh,K.isArray=yh,K.isArrayBuffer=dh,K.isArrayLike=Vf,K.isArrayLikeObject=Gf,K.isBoolean=Hf,K.isBuffer=bh,K.isDate=wh,K.isElement=Jf,K.isEmpty=Yf,K.isEqual=Qf,K.isEqualWith=Xf,K.isError=nc,K.isFinite=tc,K.isFunction=rc,K.isInteger=ec,K.isLength=uc,K.isMap=mh,K.isMatch=fc,K.isMatchWith=cc,K.isNaN=ac,K.isNative=lc,K.isNil=hc,K.isNull=sc,K.isNumber=pc,K.isObject=ic,K.isObjectLike=oc,K.isPlainObject=_c,K.isRegExp=xh,K.isSafeInteger=vc,K.isSet=jh,K.isString=gc,K.isSymbol=yc,K.isTypedArray=Ah,K.isUndefined=dc,K.isWeakMap=bc,K.isWeakSet=wc,K.join=wo,K.kebabCase=qh,K.last=mo,K.lastIndexOf=xo,K.lowerCase=Zh,K.lowerFirst=Kh,K.lt=kh,K.lte=Oh,K.max=Ha,K.maxBy=Ja,K.mean=Ya,K.meanBy=Qa,K.min=Xa,K.minBy=nl,K.stubArray=Fa,K.stubFalse=Na,K.stubObject=Pa,K.stubString=qa,K.stubTrue=Za,K.multiply=hp,K.nth=jo,K.noConflict=Ba,K.noop=Ta,K.now=ih,K.pad=la,K.padEnd=sa,K.padStart=ha,K.parseInt=pa,K.random=ua,K.reduce=yf,K.reduceRight=df,K.repeat=_a,K.replace=va,K.result=Vc,K.round=pp,K.runInContext=v,K.sample=wf,K.size=jf,K.snakeCase=Vh,K.some=Af,K.sortedIndex=Eo,K.sortedIndexBy=So,K.sortedIndexOf=Lo,K.sortedLastIndex=Wo,K.sortedLastIndexBy=Co,K.sortedLastIndexOf=Uo,K.startCase=Gh,K.startsWith=ya,K.subtract=_p,K.sum=tl,K.sumBy=rl,K.template=da,K.times=Ka,K.toFinite=xc,K.toInteger=jc,K.toLength=Ac,K.toLower=ba,K.toNumber=kc,K.toSafeInteger=Ic,K.toString=Rc,K.toUpper=wa,K.trim=ma,K.trimEnd=xa,K.trimStart=ja,K.truncate=Aa,K.unescape=ka,K.uniqueId=Ga,K.upperCase=Hh,K.upperFirst=Jh,K.each=hf,K.eachRight=pf,K.first=go,Ua(K,function(){var n={};return pe(K,function(t,r){yl.call(K.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),K.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){K[n].placeholder=K}),u(["drop","take"],function(n,t){Bt.prototype[n]=function(r){r=r===X?1:Kl(jc(r),0);var e=this.__filtered__&&!t?new Bt(this):this.clone();return e.__filtered__?e.__takeCount__=Vl(r,e.__takeCount__):e.__views__.push({size:Vl(r,Ln),type:n+(e.__dir__<0?"Right":"")}),e},Bt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==On||3==r;Bt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:mi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Bt.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Bt.prototype[n]=function(){return this.__filtered__?new Bt(this):this[r](1)}}),Bt.prototype.compact=function(){return this.filter(Sa)},Bt.prototype.find=function(n){return this.filter(n).head()},Bt.prototype.findLast=function(n){return this.reverse().find(n)},Bt.prototype.invokeMap=ru(function(n,t){return"function"==typeof n?new Bt(this):this.map(function(r){return ke(r,n,t)})}),Bt.prototype.reject=function(n){return this.filter(Wf(mi(n)))},Bt.prototype.slice=function(n,t){n=jc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Bt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=jc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Bt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Bt.prototype.toArray=function(){return this.take(Ln)},pe(Bt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=K[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(K.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Bt,c=o[0],a=f||yh(t),l=function(n){var t=u.apply(K,s([n],o));return e&&h?t[0]:t};a&&r&&"function"==typeof c&&1!=c.length&&(f=a=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&a){t=v?t:new Bt(this);var g=n.apply(t,o);return g.__actions__.push({func:Qo,args:[l],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(l),_?e?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(n){var t=hl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);K.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(yh(u)?u:[],n)}return this[r](function(r){return t.apply(yh(r)?r:[],n)})}}),pe(Bt.prototype,function(n,t){var r=K[t];if(r){var e=r.name+"";(is[e]||(is[e]=[])).push({name:t,func:r})}}),is[Qu(X,pn).name]=[{name:"wrapper",func:X}],Bt.prototype.clone=Gt,Bt.prototype.reverse=Ht,Bt.prototype.value=Jt,K.prototype.at=Js,K.prototype.chain=Xo,K.prototype.commit=nf,K.prototype.next=tf,K.prototype.plant=ef,K.prototype.reverse=uf,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=of,K.prototype.first=K.prototype.head,Wl&&(K.prototype[Wl]=rf),K}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Rr._=qr,define(function(){return qr})):Er?((Er.exports=qr)._=qr,zr._=qr):Rr._=qr}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],71:[function(require,module,exports){
"use strict";function init_as_module(){return init_type=INIT_MODULE,mixpanel_master=new MixpanelLib,override_mp_init_func(),mixpanel_master.init(),add_dom_loaded_handler(),mixpanel_master}var Config={DEBUG:!1,LIB_VERSION:"2.13.0"},win;win="undefined"==typeof window?{navigator:{}}:window;var ArrayProto=Array.prototype,FuncProto=Function.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,windowConsole=win.console,navigator$1=win.navigator,document$1=win.document,userAgent=navigator$1.userAgent,nativeBind=FuncProto.bind,nativeForEach=ArrayProto.forEach,nativeIndexOf=ArrayProto.indexOf,nativeIsArray=Array.isArray,breaker={},_={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},console$1={log:function(){if(Config.DEBUG&&!_.isUndefined(windowConsole)&&windowConsole)try{windowConsole.log.apply(windowConsole,arguments)}catch(e){_.each(arguments,function(e){windowConsole.log(e)})}},error:function(){if(Config.DEBUG&&!_.isUndefined(windowConsole)&&windowConsole){var e=["Mixpanel error:"].concat(_.toArray(arguments));try{windowConsole.error.apply(windowConsole,e)}catch(t){_.each(e,function(e){windowConsole.error(e)})}}},critical:function(){if(!_.isUndefined(windowConsole)&&windowConsole){var e=["Mixpanel error:"].concat(_.toArray(arguments));try{windowConsole.error.apply(windowConsole,e)}catch(t){_.each(e,function(e){windowConsole.error(e)})}}}};_.bind=function(e,t){var i,o;if(nativeBind&&e.bind===nativeBind)return nativeBind.apply(e,slice.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return i=slice.call(arguments,2),o=function(){if(!(this instanceof o))return e.apply(t,i.concat(slice.call(arguments)));var n={};n.prototype=e.prototype;var r=new n;n.prototype=null;var a=e.apply(r,i.concat(slice.call(arguments)));return Object(a)===a?a:r}},_.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=_.bind(e[t],e))},_.each=function(e,t,i){if(null!==e&&void 0!==e)if(nativeForEach&&e.forEach===nativeForEach)e.forEach(t,i);else if(e.length===+e.length){for(var o=0,n=e.length;o<n;o++)if(o in e&&t.call(i,e[o],o,e)===breaker)return}else for(var r in e)if(hasOwnProperty.call(e,r)&&t.call(i,e[r],r,e)===breaker)return},_.escapeHTML=function(e){var t=e;return t&&_.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},_.extend=function(e){return _.each(slice.call(arguments,1),function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e},_.isArray=nativeIsArray||function(e){return"[object Array]"===toString.call(e)},_.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},_.isArguments=function(e){return!(!e||!hasOwnProperty.call(e,"callee"))},_.toArray=function(e){return e?e.toArray?e.toArray():_.isArray(e)?slice.call(e):_.isArguments(e)?slice.call(e):_.values(e):[]},_.values=function(e){var t=[];return null===e?t:(_.each(e,function(e){t[t.length]=e}),t)},_.identity=function(e){return e},_.include=function(e,t){var i=!1;return null===e?i:nativeIndexOf&&e.indexOf===nativeIndexOf?-1!=e.indexOf(t):(_.each(e,function(e){if(i||(i=e===t))return breaker}),i)},_.includes=function(e,t){return-1!==e.indexOf(t)},_.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},_.isObject=function(e){return e===Object(e)&&!_.isArray(e)},_.isEmptyObject=function(e){if(_.isObject(e)){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}return!1},_.isUndefined=function(e){return void 0===e},_.isString=function(e){return"[object String]"==toString.call(e)},_.isDate=function(e){return"[object Date]"==toString.call(e)},_.isNumber=function(e){return"[object Number]"==toString.call(e)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.encodeDates=function(e){return _.each(e,function(t,i){_.isDate(t)?e[i]=_.formatDate(t):_.isObject(t)&&(e[i]=_.encodeDates(t))}),e},_.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},_.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},_.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){console$1.critical("Implementation error. Please contact support@mixpanel.com.")}}},_.safewrap_class=function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=_.safewrap(e.prototype[t[i]])},_.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=_.safewrap(e[t]))},_.strip_empty_properties=function(e){var t={};return _.each(e,function(e,i){_.isString(e)&&e.length>0&&(t[i]=e)}),t},_.truncate=function(e,t){var i;return"string"==typeof e?i=e.slice(0,t):_.isArray(e)?(i=[],_.each(e,function(e){i.push(_.truncate(e,t))})):_.isObject(e)?(i={},_.each(e,function(e,o){i[o]=_.truncate(e,t)})):i=e,i},_.JSONEncode=function(){return function(e){var t=e,i=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},o=function(e,t){var n="",r=0,a="",s="",_=0,c=n,p=[],l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),typeof l){case"string":return i(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(n+="    ",p=[],"[object Array]"===toString.apply(l)){for(_=l.length,r=0;r<_;r+=1)p[r]=o(r,l)||"null";return s=0===p.length?"[]":n?"[\n"+n+p.join(",\n"+n)+"\n"+c+"]":"["+p.join(",")+"]",n=c,s}for(a in l)hasOwnProperty.call(l,a)&&(s=o(a,l))&&p.push(i(a)+(n?": ":":")+s);return s=0===p.length?"{}":n?"{"+p.join(",")+c+"}":"{"+p.join(",")+"}",n=c,s}};return o("",{"":t})}}(),_.JSONDecode=function(){var e,t,i,o,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},r=function(t){throw{name:"SyntaxError",message:t,at:e,text:i}},a=function(o){return o&&o!==t&&r("Expected '"+o+"' instead of '"+t+"'"),t=i.charAt(e),e+=1,t},s=function(){var e,i="";for("-"===t&&(i="-",a("-"));t>="0"&&t<="9";)i+=t,a();if("."===t)for(i+=".";a()&&t>="0"&&t<="9";)i+=t;if("e"===t||"E"===t)for(i+=t,a(),"-"!==t&&"+"!==t||(i+=t,a());t>="0"&&t<="9";)i+=t,a();if(e=+i,isFinite(e))return e;r("Bad number")},_=function(){var e,i,o,s="";if('"'===t)for(;a();){if('"'===t)return a(),s;if("\\"===t)if(a(),"u"===t){for(o=0,i=0;i<4&&(e=parseInt(a(),16),isFinite(e));i+=1)o=16*o+e;s+=String.fromCharCode(o)}else{if("string"!=typeof n[t])break;s+=n[t]}else s+=t}r("Bad string")},c=function(){for(;t&&t<=" ";)a()},p=function(){switch(t){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}r('Unexpected "'+t+'"')},l=function(){var e=[];if("["===t){if(a("["),c(),"]"===t)return a("]"),e;for(;t;){if(e.push(o()),c(),"]"===t)return a("]"),e;a(","),c()}}r("Bad array")},d=function(){var e,i={};if("{"===t){if(a("{"),c(),"}"===t)return a("}"),i;for(;t;){if(e=_(),c(),a(":"),Object.hasOwnProperty.call(i,e)&&r('Duplicate key "'+e+'"'),i[e]=o(),c(),"}"===t)return a("}"),i;a(","),c()}}r("Bad object")};return o=function(){switch(c(),t){case"{":return d();case"[":return l();case'"':return _();case"-":return s();default:return t>="0"&&t<="9"?s():p()}},function(n){var a;return i=n,e=0,t=" ",a=o(),c(),t&&r("Syntax error"),a}}(),_.base64Encode=function(e){var t,i,o,n,r,a,s,c,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,d=0,u="",h=[];if(!e)return e;e=_.utf8Encode(e);do{t=e.charCodeAt(l++),i=e.charCodeAt(l++),o=e.charCodeAt(l++),c=t<<16|i<<8|o,n=c>>18&63,r=c>>12&63,a=c>>6&63,s=63&c,h[d++]=p.charAt(n)+p.charAt(r)+p.charAt(a)+p.charAt(s)}while(l<e.length);switch(u=h.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},_.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t,i,o,n="",r=0;for(t=i=0,r=e.length,o=0;o<r;o++){var a=e.charCodeAt(o),s=null;a<128?i++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(i>t&&(n+=e.substring(t,i)),n+=s,t=i=o+1)}return i>t&&(n+=e.substring(t,e.length)),n},_.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},i=function(){function e(e,t){var i,o=0;for(i=0;i<t.length;i++)o|=n[i]<<8*i;return e^o}var t,i,o=userAgent,n=[],r=0;for(t=0;t<o.length;t++)i=o.charCodeAt(t),n.unshift(255&i),n.length>=4&&(r=e(r,n),n=[]);return n.length>0&&(r=e(r,n)),r.toString(16)};return function(){var o=(screen.height*screen.width).toString(16);return e()+"-"+t()+"-"+i()+"-"+o+"-"+e()}}(),_.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},_.HTTPBuildQuery=function(e,t){var i,o,n=[];return _.isUndefined(t)&&(t="&"),_.each(e,function(e,t){i=encodeURIComponent(e.toString()),o=encodeURIComponent(t),n[n.length]=o+"="+i}),n.join(t)},_.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+t+"=([^&#]*)",o=new RegExp(i),n=o.exec(e);return null===n||n&&"string"!=typeof n[1]&&n[1].length?"":decodeURIComponent(n[1]).replace(/\+/g," ")},_.getHashParam=function(e,t){var i=e.match(new RegExp(t+"=([^&]*)"));return i?i[1]:null},_.cookie={get:function(e){for(var t=e+"=",i=document$1.cookie.split(";"),o=0;o<i.length;o++){for(var n=i[o];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null},parse:function(e){var t;try{t=_.JSONDecode(_.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,i,o,n){var r="",a="",s="";if(o){var _=document$1.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),c=_?_[0]:"";r=c?"; domain=."+c:""}if(i){var p=new Date;p.setTime(p.getTime()+1e3*i),a="; expires="+p.toGMTString()}n&&(s="; secure"),document$1.cookie=e+"="+encodeURIComponent(t)+a+"; path=/"+r+s},set:function(e,t,i,o,n){var r="",a="",s="";if(o){var _=document$1.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),c=_?_[0]:"";r=c?"; domain=."+c:""}if(i){var p=new Date;p.setTime(p.getTime()+24*i*60*60*1e3),a="; expires="+p.toGMTString()}n&&(s="; secure");var l=e+"="+encodeURIComponent(t)+a+"; path=/"+r+s;return document$1.cookie=l,l},remove:function(e,t){_.cookie.set(e,"",-1,t)}},_.localStorage={error:function(e){console$1.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){_.localStorage.error(e)}return null},parse:function(e){try{return _.JSONDecode(_.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){_.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){_.localStorage.error(e)}}},_.register_event=function(){function e(e,i,o){return function(n){if(n=n||t(window.event)){var r,a,s=!0;return _.isFunction(o)&&(r=o(n)),a=i.call(e,n),!1!==r&&!1!==a||(s=!1),s}}}function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}var i=function(t,i,o,n,r){if(!t)return void console$1.error("No valid element provided to register_event");if(t.addEventListener&&!n)t.addEventListener(i,o,!!r);else{var a="on"+i,s=t[a];t[a]=e(t,o,s)}};return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},i}(),_.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}function t(e,t){var i=" "+t+" ";return(" "+e.className+" ").replace(o," ").indexOf(i)>=0}function i(i){if(!document$1.getElementsByTagName)return[];var o,n,r,a,s,c,p,l,d,u,h=i.split(" "),f=[document$1];for(c=0;c<h.length;c++)if(o=h[c].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){n=o.split("#"),r=n[0];var g=n[1],m=document$1.getElementById(g);if(!m||r&&m.nodeName.toLowerCase()!=r)return[];f=[m]}else if(o.indexOf(".")>-1){n=o.split("."),r=n[0];var v=n[1];for(r||(r="*"),a=[],s=0,p=0;p<f.length;p++)for(d="*"==r?e(f[p]):f[p].getElementsByTagName(r),l=0;l<d.length;l++)a[s++]=d[l];for(f=[],u=0,p=0;p<a.length;p++)a[p].className&&_.isString(a[p].className)&&t(a[p],v)&&(f[u++]=a[p])}else{var y=o.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(y){r=y[1];var b=y[2],x=y[3],E=y[4];for(r||(r="*"),a=[],s=0,p=0;p<f.length;p++)for(d="*"==r?e(f[p]):f[p].getElementsByTagName(r),l=0;l<d.length;l++)a[s++]=d[l];f=[],u=0;var M;switch(x){case"=":M=function(e){return e.getAttribute(b)==E};break;case"~":M=function(e){return e.getAttribute(b).match(new RegExp("\\b"+E+"\\b"))};break;case"|":M=function(e){return e.getAttribute(b).match(new RegExp("^"+E+"-?"))};break;case"^":M=function(e){return 0===e.getAttribute(b).indexOf(E)};break;case"$":M=function(e){return e.getAttribute(b).lastIndexOf(E)==e.getAttribute(b).length-E.length};break;case"*":M=function(e){return e.getAttribute(b).indexOf(E)>-1};break;default:M=function(e){return e.getAttribute(b)}}for(f=[],u=0,p=0;p<a.length;p++)M(a[p])&&(f[u++]=a[p])}else{for(r=o,a=[],s=0,p=0;p<f.length;p++)for(d=f[p].getElementsByTagName(r),l=0;l<d.length;l++)a[s++]=d[l];f=a}}return f}var o=/[\t\r\n]/g;return function(e){return _.isElement(e)?[e]:_.isObject(e)&&!_.isUndefined(e.length)?e:i.call(this,e)}}(),_.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",i={};return _.each(e,function(e){t=_.getQueryParam(document$1.URL,e),t.length&&(i[e]=t)}),i},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=_.info.searchEngine(e),i="yahoo"!=t?"q":"p",o={};if(null!==t){o.$search_engine=t;var n=_.getQueryParam(e,i);n.length&&(o.mp_keyword=n)}return o},browser:function(e,t,i){return t=t||"",i||_.includes(e," OPR/")?_.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":_.includes(e,"IEMobile")||_.includes(e,"WPDesktop")?"Internet Explorer Mobile":_.includes(e,"Edge")?"Microsoft Edge":_.includes(e,"FBIOS")?"Facebook Mobile":_.includes(e,"Chrome")?"Chrome":_.includes(e,"CriOS")?"Chrome iOS":_.includes(e,"UCWEB")||_.includes(e,"UCBrowser")?"UC Browser":_.includes(e,"FxiOS")?"Firefox iOS":_.includes(t,"Apple")?_.includes(e,"Mobile")?"Mobile Safari":"Safari":_.includes(e,"Android")?"Android Mobile":_.includes(e,"Konqueror")?"Konqueror":_.includes(e,"Firefox")?"Firefox":_.includes(e,"MSIE")||_.includes(e,"Trident/")?"Internet Explorer":_.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,i){var o=_.info.browser(e,t,i),n={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},r=n[o];if(void 0===r)return null;var a=e.match(r);return a?parseFloat(a[a.length-2]):null},os:function(){var e=userAgent;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return _.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(userAgent,navigator$1.vendor,window.opera),$referrer:document$1.referrer,$referring_domain:_.info.referringDomain(document$1.referrer),$device:_.info.device(userAgent)}),{$current_url:window.location.href,$browser_version:_.info.browserVersion(userAgent,navigator$1.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:Config.LIB_VERSION})},people_properties:function(){return _.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(userAgent,navigator$1.vendor,window.opera)}),{$browser_version:_.info.browserVersion(userAgent,navigator$1.vendor,window.opera)})},pageviewInfo:function(e){return _.strip_empty_properties({mp_page:e,mp_referrer:document$1.referrer,mp_browser:_.info.browser(userAgent,navigator$1.vendor,window.opera),mp_platform:_.info.os()})}},_.toArray=_.toArray,_.isObject=_.isObject,_.JSONEncode=_.JSONEncode,_.JSONDecode=_.JSONDecode,_.isBlockedUA=_.isBlockedUA,_.isEmptyObject=_.isEmptyObject,_.info=_.info,_.info.device=_.info.device,_.info.browser=_.info.browser,_.info.properties=_.info.properties;var ELEMENT_NODE=1,TEXT_NODE=3,autotrack={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do{e=e.previousSibling}while(e&&e.nodeType!==ELEMENT_NODE);return e},_loadScript:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=t;var o=document.getElementsByTagName("script");o.length>0?o[0].parentNode.insertBefore(i,o[0]):document.body.appendChild(i)},_getClassName:function(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(_.includes(["input","select","textarea"],e.tagName.toLowerCase())){var i=this._getFormFieldValue(e);this._includeProperty(e,i)&&(t.value=i)}_.each(e.attributes,function(e){t["attr__"+e.name]=e.value});for(var o=1,n=1,r=e;r=this._previousElementSibling(r);)o++,r.tagName===e.tagName&&n++;return t.nth_child=o,t.nth_of_type=n,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||e.nodeType!==ELEMENT_NODE)return!1;switch(e.tagName.toLowerCase()){case"html":return!1;case"form":return"submit"===t.type;case"input":return-1===["button","submit"].indexOf(e.getAttribute("type"))?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null;switch(e.type.toLowerCase()){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var i=[];_.each(e.querySelectorAll("[selected]"),function(e){i.push(e.value)}),t=i}else t=e.value;return t},_includeProperty:function(e,t){for(var i=e;i.parentNode&&!this._isTag(i,"body");i=i.parentNode){var o=this._getClassName(i).split(" ");if(_.includes(o,"mp-sensitive")||_.includes(o,"mp-no-track"))return!1}if(_.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;switch((e.type||"").toLowerCase()){case"hidden":case"password":return!1}if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test((e.name||e.id||"").replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[\- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return _.each(e.elements,function(e){var i=e.getAttribute("name")||e.getAttribute("id");if(null!==i){i="$form_field__"+i;var o=this._getFormFieldValue(e);if(this._includeProperty(e,o)){var n=t[i];t[i]=void 0!==n?[].concat(n,o):o}}},this),t},_extractCustomPropertyValue:function(e){var t=[];return _.each(document.querySelectorAll(e.css_selector),function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)}),t.join(", ")},_getCustomProperties:function(e){var t={};return _.each(this._customProperties,function(i){_.each(i.event_selectors,function(o){var n=document.querySelectorAll(o);_.each(n,function(o){_.includes(e,o)&&(t[i.name]=this._extractCustomPropertyValue(i))},this)},this)},this),t},_getEventTarget:function(e){return void 0===e.target?e.srcElement:e.target},_trackEvent:function(e,t){var i=this._getEventTarget(e);if(i.nodeType===TEXT_NODE&&(i=i.parentNode),this._shouldTrackDomEvent(i,e)){for(var o=[i],n=i;n.parentNode&&!this._isTag(n,"body");)o.push(n.parentNode),n=n.parentNode;var r,a,s,c=[],p=!1;if(_.each(o,function(e,t){if("a"===e.tagName.toLowerCase()?r=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(s=e),!a&&t<5&&e.textContent){var i=_.trim(e.textContent);i&&(a=i.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var o=this._getClassName(e).split(" ");_.includes(o,"mp-no-track")&&(p=!0),c.push(this._getPropertiesFromElement(e))},this),p)return!1;var l=_.extend(this._getDefaultProperties(e.type),{$elements:c,$el_attr__href:r,$el_text:a},this._getCustomProperties(o));return!s||"submit"!==e.type&&"click"!==e.type||_.extend(l,this._getFormFieldProperties(s)),t.track("$web_event",l),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=_.bind(function(t){t=t||window.event,this._trackEvent(t,e)},this);_.register_event(document,"submit",t,!1,!0),_.register_event(document,"change",t,!1,!0),_.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(!document||!document.body){console.log("document not ready yet, trying again in 500 milliseconds...");var t=this;return void setTimeout(function(){t.init(e)},500)}var i=e.get_config("token");if(this._initializedTokens.indexOf(i)>-1)return void console.log('autotrack already initialized for token "'+i+'"');if(this._initializedTokens.push(i),!this._maybeLoadEditor(e)){var o=_.bind(function(t){t&&t.config&&!0===t.config.enable_collect_everything?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",_.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1},this);e._send_request(e.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:i},e._prepare_callback(o))}},_editorParamsFromHash:function(e,t){var i;try{var o=_.getHashParam(t,"state");o=JSON.parse(decodeURIComponent(o));var n=_.getHashParam(t,"expires_in");i={accessToken:_.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(n),bookmarkletMode:!!o.bookmarkletMode,projectId:o.projectId,projectOwnerId:o.projectOwnerId,projectToken:o.token,readOnly:o.readOnly,userFlags:o.userFlags,userId:o.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(i)),o.desiredHash?window.location.hash=o.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){console.error("Unable to parse data from hash",e)}return i},_maybeLoadEditor:function(e){try{var t=!1;if(_.getHashParam(window.location.hash,"state")){var i=_.getHashParam(window.location.hash,"state");i=JSON.parse(decodeURIComponent(i)),t="mpeditor"===i.action}var o,n=!!window.sessionStorage.getItem("_mpcehash");return t?o=this._editorParamsFromHash(e,window.location.hash):n?(o=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):o=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!o.projectToken||e.get_config("token")!==o.projectToken)&&(this._loadEditor(e,o),!0)}catch(e){return!1}},_loadEditor:function(e,t){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var i=e.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(i,function(){window.mp_load_editor(t)}),!0}return!1},enabledForProject:function(e,t,i){t=_.isUndefined(t)?10:t,i=_.isUndefined(i)?10:i;for(var o=0,n=0;n<e.length;n++)o+=e.charCodeAt(n);return o%t<i},isBrowserSupported:function(){return _.isFunction(document.querySelectorAll)}};_.bind_instance_methods(autotrack),_.safewrap_instance_methods(autotrack);var init_type,mixpanel_master,INIT_MODULE=0,INIT_SNIPPET=1,PRIMARY_INSTANCE_NAME="mixpanel",SET_QUEUE_KEY="__mps",SET_ONCE_QUEUE_KEY="__mpso",ADD_QUEUE_KEY="__mpa",APPEND_QUEUE_KEY="__mpap",UNION_QUEUE_KEY="__mpu",SET_ACTION="$set",SET_ONCE_ACTION="$set_once",ADD_ACTION="$add",APPEND_ACTION="$append",UNION_ACTION="$union",PEOPLE_DISTINCT_ID_KEY="$people_distinct_id",ALIAS_ID_KEY="__alias",CAMPAIGN_IDS_KEY="__cmpns",EVENT_TIMERS_KEY="__timers",RESERVED_PROPERTIES=[SET_QUEUE_KEY,SET_ONCE_QUEUE_KEY,ADD_QUEUE_KEY,APPEND_QUEUE_KEY,UNION_QUEUE_KEY,PEOPLE_DISTINCT_ID_KEY,ALIAS_ID_KEY,CAMPAIGN_IDS_KEY,EVENT_TIMERS_KEY],HTTP_PROTOCOL="https:"===document.location.protocol?"https://":"http://",USE_XHR=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,ENQUEUE_REQUESTS=!USE_XHR&&-1===userAgent.indexOf("MSIE")&&-1===userAgent.indexOf("Mozilla"),DEFAULT_CONFIG={api_host:HTTP_PROTOCOL+"api.mixpanel.com",app_host:HTTP_PROTOCOL+"mixpanel.com",autotrack:!0,cdn:HTTP_PROTOCOL+"cdn.mxpnl.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]},DOM_LOADED=!1,DomTracker=function(){};DomTracker.prototype.create_properties=function(){},DomTracker.prototype.event_handler=function(){},DomTracker.prototype.after_track_handler=function(){},DomTracker.prototype.init=function(e){return this.mp=e,this},DomTracker.prototype.track=function(e,t,i,o){var n=this,r=_.dom_query(e);return 0===r.length?void console$1.error("The DOM query ("+e+") returned 0 elements"):(_.each(r,function(e){_.register_event(e,this.override_event,function(e){var r={},a=n.create_properties(i,this),s=n.mp.get_config("track_links_timeout");n.event_handler(e,this,r),window.setTimeout(n.track_callback(o,a,r,!0),s),n.mp.track(t,a,n.track_callback(o,a,r))})},this),!0)},DomTracker.prototype.track_callback=function(e,t,i,o){o=o||!1;var n=this;return function(){i.callback_fired||(i.callback_fired=!0,e&&!1===e(o,t)||n.after_track_handler(t,i,o))}},DomTracker.prototype.create_properties=function(e,t){return"function"==typeof e?e(t):_.extend({},e)};var LinkTracker=function(){this.override_event="click"};_.inherit(LinkTracker,DomTracker),LinkTracker.prototype.create_properties=function(e,t){var i=LinkTracker.superclass.create_properties.apply(this,arguments);return t.href&&(i.url=t.href),i},LinkTracker.prototype.event_handler=function(e,t,i){i.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,i.href=t.href,i.new_tab||e.preventDefault()},LinkTracker.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var FormTracker=function(){this.override_event="submit"};_.inherit(FormTracker,DomTracker),FormTracker.prototype.event_handler=function(e,t,i){i.element=t,e.preventDefault()},FormTracker.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var MixpanelPersistence=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(console$1.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");"localStorage"===t&&function(){var e=!0;try{var t="__mplssupport__";_.localStorage.set(t,"xyz"),"xyz"!==_.localStorage.get(t)&&(e=!1),_.localStorage.remove(t)}catch(t){e=!1}return e||console$1.error("localStorage unsupported; falling back to cookie store"),e}()?this.storage=_.localStorage:this.storage=_.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};MixpanelPersistence.prototype.properties=function(){var e={};return _.each(this.props,function(t,i){_.include(RESERVED_PROPERTIES,i)||(e[i]=t)}),e},MixpanelPersistence.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=_.extend({},e))}},MixpanelPersistence.prototype.upgrade=function(e){var t,i,o=e.upgrade;o&&(t="mp_super_properties","string"==typeof o&&(t=o),i=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),i&&(this.props=_.extend(this.props,i.all,i.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,(i=this.storage.parse(t))&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(i))),this.storage===_.localStorage&&(i=_.cookie.parse(this.name),_.cookie.remove(this.name),_.cookie.remove(this.name,!0),i&&this.register_once(i))},MixpanelPersistence.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,_.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},MixpanelPersistence.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},MixpanelPersistence.prototype.clear=function(){this.remove(),this.props={}},MixpanelPersistence.prototype.register_once=function(e,t,i){return!!_.isObject(e)&&(void 0===t&&(t="None"),this.expire_days=void 0===i?this.default_expiry:i,_.each(e,function(e,i){this.props[i]&&this.props[i]!==t||(this.props[i]=e)},this),this.save(),!0)},MixpanelPersistence.prototype.register=function(e,t){return!!_.isObject(e)&&(this.expire_days=void 0===t?this.default_expiry:t,_.extend(this.props,e),this.save(),!0)},MixpanelPersistence.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},MixpanelPersistence.prototype._expire_notification_campaigns=_.safewrap(function(){var e=this.props[CAMPAIGN_IDS_KEY],t=Config.DEBUG?6e4:36e5;if(e){for(var i in e)1*new Date-e[i]>t&&delete e[i];_.isEmptyObject(e)&&delete this.props[CAMPAIGN_IDS_KEY]}}),MixpanelPersistence.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(_.info.campaignParams()),this.campaign_params_saved=!0)},MixpanelPersistence.prototype.update_search_keyword=function(e){this.register(_.info.searchInfo(e))},MixpanelPersistence.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:_.info.referringDomain(e)||"$direct"},"")},MixpanelPersistence.prototype.get_referrer_info=function(){return _.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},MixpanelPersistence.prototype.safe_merge=function(e){
return _.each(this.props,function(t,i){i in e||(e[i]=t)}),e},MixpanelPersistence.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},MixpanelPersistence.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},MixpanelPersistence.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},MixpanelPersistence.prototype.get_cross_subdomain=function(){return this.cross_subdomain},MixpanelPersistence.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},MixpanelPersistence.prototype._add_to_people_queue=function(e,t){var i=this._get_queue_key(e),o=t[e],n=this._get_or_create_queue(SET_ACTION),r=this._get_or_create_queue(SET_ONCE_ACTION),a=this._get_or_create_queue(ADD_ACTION),s=this._get_or_create_queue(UNION_ACTION),c=this._get_or_create_queue(APPEND_ACTION,[]);i===SET_QUEUE_KEY?(_.extend(n,o),this._pop_from_people_queue(ADD_ACTION,o),this._pop_from_people_queue(UNION_ACTION,o)):i===SET_ONCE_QUEUE_KEY?_.each(o,function(e,t){t in r||(r[t]=e)}):i===ADD_QUEUE_KEY?_.each(o,function(e,t){t in n?n[t]+=e:(t in a||(a[t]=0),a[t]+=e)},this):i===UNION_QUEUE_KEY?_.each(o,function(e,t){_.isArray(e)&&(t in s||(s[t]=[]),s[t]=s[t].concat(e))}):i===APPEND_QUEUE_KEY&&c.push(o),console$1.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),console$1.log(t),this.save()},MixpanelPersistence.prototype._pop_from_people_queue=function(e,t){var i=this._get_queue(e);_.isUndefined(i)||(_.each(t,function(e,t){delete i[t]},this),this.save())},MixpanelPersistence.prototype._get_queue_key=function(e){return e===SET_ACTION?SET_QUEUE_KEY:e===SET_ONCE_ACTION?SET_ONCE_QUEUE_KEY:e===ADD_ACTION?ADD_QUEUE_KEY:e===APPEND_ACTION?APPEND_QUEUE_KEY:e===UNION_ACTION?UNION_QUEUE_KEY:void console$1.error("Invalid queue:",e)},MixpanelPersistence.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},MixpanelPersistence.prototype._get_or_create_queue=function(e,t){var i=this._get_queue_key(e);return t=_.isUndefined(t)?{}:t,this.props[i]||(this.props[i]=t)},MixpanelPersistence.prototype.set_event_timer=function(e,t){var i=this.props[EVENT_TIMERS_KEY]||{};i[e]=t,this.props[EVENT_TIMERS_KEY]=i,this.save()},MixpanelPersistence.prototype.remove_event_timer=function(e){var t=this.props[EVENT_TIMERS_KEY]||{},i=t[e];return _.isUndefined(i)||(delete this.props[EVENT_TIMERS_KEY][e],this.save()),i};var MixpanelLib=function(){},MixpanelPeople=function(){},MPNotif,create_mplib=function(e,t,i){var o,n=i===PRIMARY_INSTANCE_NAME?mixpanel_master:mixpanel_master[i];if(n&&init_type===INIT_MODULE)o=n;else{if(n&&!_.isArray(n))return void console$1.error("You have already initialized "+i);o=new MixpanelLib}if(o._init(e,t,i),o.people=new MixpanelPeople,o.people._init(o),Config.DEBUG=Config.DEBUG||o.get_config("debug"),o.__autotrack_enabled=o.get_config("autotrack"),o.get_config("autotrack")){autotrack.enabledForProject(o.get_config("token"),100,100)?autotrack.isBrowserSupported()?autotrack.init(o):(o.__autotrack_enabled=!1,console$1.log("Disabling Automatic Event Collection because this browser is not supported")):(o.__autotrack_enabled=!1,console$1.log("Not in active bucket: disabling Automatic Event Collection."));try{add_dom_event_counting_handlers(o)}catch(e){console$1.error(e)}}return!_.isUndefined(n)&&_.isArray(n)&&(o._execute_array.call(o.people,n.people),o._execute_array(n)),o};MixpanelLib.prototype.init=function(e,t,i){if(_.isUndefined(i))return void console$1.error("You must name your new library: init(token, config, name)");if(i===PRIMARY_INSTANCE_NAME)return void console$1.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");var o=create_mplib(e,t,i);return mixpanel_master[i]=o,o._loaded(),o},MixpanelLib.prototype._init=function(e,t,i){this.__loaded=!0,this.config={},this.set_config(_.extend({},DEFAULT_CONFIG,t,{name:i,token:e,callback_fn:(i===PRIMARY_INSTANCE_NAME?i:PRIMARY_INSTANCE_NAME+"."+i)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new MixpanelPersistence(this.config),this.register_once({distinct_id:_.UUID()},"")},MixpanelLib.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},MixpanelLib.prototype._dom_loaded=function(){_.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),_.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue},MixpanelLib.prototype._track_dom=function(e,t){if(this.get_config("img"))return console$1.error("You can't use DOM tracking functions with img = true."),!1;if(!DOM_LOADED)return this.__dom_loaded_queue.push([e,t]),!1;var i=(new e).init(this);return i.track.apply(i,t)},MixpanelLib.prototype._prepare_callback=function(e,t){if(_.isUndefined(e))return null;if(USE_XHR){return function(i){e(i,t)}}var i=this._jsc,o=""+Math.floor(1e8*Math.random()),n=this.get_config("callback_fn")+"["+o+"]";return i[o]=function(n){delete i[o],e(n,t)},n},MixpanelLib.prototype._send_request=function(e,t,i){if(ENQUEUE_REQUESTS)return void this.__request_queue.push(arguments);var o=this.get_config("verbose");if(t.verbose&&(o=!0),this.get_config("test")&&(t.test=1),o&&(t.verbose=1),this.get_config("img")&&(t.img=1),USE_XHR||(i?t.callback=i:(o||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+_.HTTPBuildQuery(t),"img"in t){var n=document.createElement("img");n.src=e,document.body.appendChild(n)}else if(USE_XHR)try{var r=new XMLHttpRequest;r.open("GET",e,!0),r.withCredentials=!0,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)i&&i(o?_.JSONDecode(r.responseText):Number(r.responseText));else{var e="Bad HTTP status: "+r.status+" "+r.statusText;console$1.error(e),i&&i(o?{status:0,error:e}:0)}},r.send(null)}catch(e){console$1.error(e)}else{var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}},MixpanelLib.prototype._execute_array=function(e){var t,i=[],o=[],n=[];_.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):_.isArray(e)&&"alias"===t?i.push(e):_.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?n.push(e):o.push(e))},this);var r=function(e,t){_.each(e,function(e){this[e[0]].apply(this,e.slice(1))},t)};r(i,this),r(o,this),r(n,this)},MixpanelLib.prototype.push=function(e){this._execute_array([e])},MixpanelLib.prototype.disable=function(e){void 0===e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},MixpanelLib.prototype.track=function(e,t,i){if("function"!=typeof i&&(i=function(){}),_.isUndefined(e))return void console$1.error("No event name provided to mixpanel.track");if(this._event_is_disabled(e))return void i(0);t=t||{},t.token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!_.isUndefined(o)){var n=(new Date).getTime()-o;t.$duration=parseFloat((n/1e3).toFixed(3))}this.persistence.update_search_keyword(document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document.referrer),t=_.extend({},_.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=_.extend({},t,this.mp_counts),this.mp_counts={$__c:0},_.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(e){console$1.error(e)}var r=this.get_config("property_blacklist");_.isArray(r)?_.each(r,function(e){delete t[e]}):console$1.error("Invalid value for property_blacklist config: "+r);var a={event:e,properties:t},s=_.truncate(a,255),c=_.JSONEncode(s),p=_.base64Encode(c);return console$1.log("MIXPANEL REQUEST:"),console$1.log(s),this._send_request(this.get_config("api_host")+"/track/",{data:p},this._prepare_callback(i,s)),s},MixpanelLib.prototype.track_pageview=function(e){_.isUndefined(e)&&(e=document.location.href),this.track("mp_page_view",_.info.pageviewInfo(e))},MixpanelLib.prototype.track_links=function(){return this._track_dom.call(this,LinkTracker,arguments)},MixpanelLib.prototype.track_forms=function(){return this._track_dom.call(this,FormTracker,arguments)},MixpanelLib.prototype.time_event=function(e){if(_.isUndefined(e))return void console$1.error("No event name provided to mixpanel.time_event");this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())},MixpanelLib.prototype.register=function(e,t){this.persistence.register(e,t)},MixpanelLib.prototype.register_once=function(e,t,i){this.persistence.register_once(e,t,i)},MixpanelLib.prototype.unregister=function(e){this.persistence.unregister(e)},MixpanelLib.prototype._register_single=function(e,t){var i={};i[e]=t,this.register(i)},MixpanelLib.prototype.identify=function(e,t,i,o,n,r){e!==this.get_distinct_id()&&e!==this.get_property(ALIAS_ID_KEY)&&(this.unregister(ALIAS_ID_KEY),this._register_single("distinct_id",e)),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,i,o,n,r)},MixpanelLib.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:_.UUID()},"")},MixpanelLib.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},MixpanelLib.prototype.alias=function(e,t){if(e===this.get_property(PEOPLE_DISTINCT_ID_KEY))return console$1.critical("Attempting to create alias for existing People user - aborting."),-2;var i=this;return _.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ALIAS_ID_KEY,e),this.track("$create_alias",{alias:e,distinct_id:t},function(){i.identify(e)})):(console$1.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},MixpanelLib.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},MixpanelLib.prototype.set_config=function(e){_.isObject(e)&&(_.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Config.DEBUG=Config.DEBUG||this.get_config("debug"))},MixpanelLib.prototype.get_config=function(e){return this.config[e]},MixpanelLib.prototype.get_property=function(e){return this.persistence.props[e]},MixpanelLib.prototype.toString=function(){var e=this.get_config("name");return e!==PRIMARY_INSTANCE_NAME&&(e=PRIMARY_INSTANCE_NAME+"."+e),e},MixpanelLib.prototype._event_is_disabled=function(e){return _.isBlockedUA(userAgent)||this._flags.disable_all_events||_.include(this.__disabled_events,e)},MixpanelLib.prototype._check_and_handle_notifications=function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){console$1.log("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"2",lib:"web",token:this.get_config("token"),distinct_id:e},i=this;this._send_request(this.get_config("api_host")+"/decide/",t,this._prepare_callback(function(e){e.notifications&&e.notifications.length>0&&i._show_notification.call(i,e.notifications[0])}))}},MixpanelLib.prototype._show_notification=function(e){new MPNotif(e,this).show()},MixpanelPeople.prototype._init=function(e){this._mixpanel=e},MixpanelPeople.prototype.set=function(e,t,i){var o={},n={};return _.isObject(e)?(_.each(e,function(e,t){this._is_reserved_property(t)||(n[t]=e)},this),i=t):n[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n=_.extend({},_.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),n),o[SET_ACTION]=n,this._send_request(o,i)},MixpanelPeople.prototype.set_once=function(e,t,i){var o={},n={};return _.isObject(e)?(_.each(e,function(e,t){this._is_reserved_property(t)||(n[t]=e)},this),i=t):n[e]=t,o[SET_ONCE_ACTION]=n,this._send_request(o,i)},MixpanelPeople.prototype.increment=function(e,t,i){var o={},n={};return _.isObject(e)?(_.each(e,function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void console$1.error("Invalid increment value passed to mixpanel.people.increment - must be a number");n[t]=e}},this),i=t):(_.isUndefined(t)&&(t=1),n[e]=t),o[ADD_ACTION]=n,this._send_request(o,i)},MixpanelPeople.prototype.append=function(e,t,i){var o={},n={};return _.isObject(e)?(_.each(e,function(e,t){this._is_reserved_property(t)||(n[t]=e)},this),i=t):n[e]=t,o[APPEND_ACTION]=n,this._send_request(o,i)},MixpanelPeople.prototype.union=function(e,t,i){var o={},n={};return _.isObject(e)?(_.each(e,function(e,t){this._is_reserved_property(t)||(n[t]=_.isArray(e)?e:[e])},this),i=t):n[e]=_.isArray(t)?t:[t],o[UNION_ACTION]=n,this._send_request(o,i)},MixpanelPeople.prototype.track_charge=function(e,t,i){return!_.isNumber(e)&&(e=parseFloat(e),isNaN(e))?void console$1.error("Invalid value passed to mixpanel.people.track_charge - must be a number"):this.append("$transactions",_.extend({$amount:e},t),i)},MixpanelPeople.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},MixpanelPeople.prototype.delete_user=function(){if(!this._identify_called())return void console$1.error("mixpanel.people.delete_user() requires you to call identify() first");var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)},MixpanelPeople.prototype.toString=function(){return this._mixpanel.toString()+".people"},MixpanelPeople.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var i=_.encodeDates(e),o=_.truncate(i,255),n=_.JSONEncode(i),r=_.base64Encode(n);return this._identify_called()?(console$1.log("MIXPANEL PEOPLE REQUEST:"),console$1.log(o),this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:r},this._mixpanel._prepare_callback(t,o)),o):(this._enqueue(e),_.isUndefined(t)||t(this._get_config("verbose")?{status:-1,error:null}:-1),o)},MixpanelPeople.prototype._get_config=function(e){return this._mixpanel.get_config(e)},MixpanelPeople.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},MixpanelPeople.prototype._enqueue=function(e){SET_ACTION in e?this._mixpanel.persistence._add_to_people_queue(SET_ACTION,e):SET_ONCE_ACTION in e?this._mixpanel.persistence._add_to_people_queue(SET_ONCE_ACTION,e):ADD_ACTION in e?this._mixpanel.persistence._add_to_people_queue(ADD_ACTION,e):APPEND_ACTION in e?this._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,e):UNION_ACTION in e?this._mixpanel.persistence._add_to_people_queue(UNION_ACTION,e):console$1.error("Invalid call to _enqueue():",e)},MixpanelPeople.prototype._flush=function(e,t,i,o,n){var r=this,a=_.extend({},this._mixpanel.persistence._get_queue(SET_ACTION)),s=_.extend({},this._mixpanel.persistence._get_queue(SET_ONCE_ACTION)),c=_.extend({},this._mixpanel.persistence._get_queue(ADD_ACTION)),p=this._mixpanel.persistence._get_queue(APPEND_ACTION),l=_.extend({},this._mixpanel.persistence._get_queue(UNION_ACTION));if(_.isUndefined(a)||!_.isObject(a)||_.isEmptyObject(a)||(r._mixpanel.persistence._pop_from_people_queue(SET_ACTION,a),this.set(a,function(t,i){0===t&&r._mixpanel.persistence._add_to_people_queue(SET_ACTION,a),_.isUndefined(e)||e(t,i)})),_.isUndefined(s)||!_.isObject(s)||_.isEmptyObject(s)||(r._mixpanel.persistence._pop_from_people_queue(SET_ONCE_ACTION,s),this.set_once(s,function(e,t){0===e&&r._mixpanel.persistence._add_to_people_queue(SET_ONCE_ACTION,s),_.isUndefined(o)||o(e,t)})),_.isUndefined(c)||!_.isObject(c)||_.isEmptyObject(c)||(r._mixpanel.persistence._pop_from_people_queue(ADD_ACTION,c),this.increment(c,function(e,i){0===e&&r._mixpanel.persistence._add_to_people_queue(ADD_ACTION,c),_.isUndefined(t)||t(e,i)})),_.isUndefined(l)||!_.isObject(l)||_.isEmptyObject(l)||(r._mixpanel.persistence._pop_from_people_queue(UNION_ACTION,l),this.union(l,function(e,t){0===e&&r._mixpanel.persistence._add_to_people_queue(UNION_ACTION,l),_.isUndefined(n)||n(e,t)})),!_.isUndefined(p)&&_.isArray(p)&&p.length){for(var d,u=function(e,t){0===e&&r._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,d),_.isUndefined(i)||i(e,t)},h=p.length-1;h>=0;h--)d=p.pop(),r.append(d,u);r._mixpanel.persistence.save()}},MixpanelPeople.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},MixpanelLib._Notification=function(e,t){_.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.campaign_id=_.escapeHTML(e.id),this.message_id=_.escapeHTML(e.message_id),this.body=(_.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=_.escapeHTML(e.cta)||"Close",this.notif_type=_.escapeHTML(e.type)||"takeover",this.style=_.escapeHTML(e.style)||"light",this.title=_.escapeHTML(e.title)||"",this.video_width=MPNotif.VIDEO_WIDTH,this.video_height=MPNotif.VIDEO_HEIGHT,this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,this.video_url=e.video_url||null,this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?MPNotif.NOTIF_WIDTH_MINI:MPNotif.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()},MPNotif=MixpanelLib._Notification,MPNotif.ANIM_TIME=200,MPNotif.MARKUP_PREFIX="mixpanel-notification",MPNotif.BG_OPACITY=.6,MPNotif.NOTIF_TOP=25,MPNotif.NOTIF_START_TOP=200,MPNotif.NOTIF_WIDTH=388,MPNotif.NOTIF_WIDTH_MINI=420,MPNotif.NOTIF_HEIGHT_MINI=85,MPNotif.THUMB_BORDER_SIZE=5,MPNotif.THUMB_IMG_SIZE=60,MPNotif.THUMB_OFFSET=Math.round(MPNotif.THUMB_IMG_SIZE/2),MPNotif.VIDEO_WIDTH=595,MPNotif.VIDEO_HEIGHT=334,MPNotif.prototype.show=function(){var e=this;if(this._set_client_config(),!this.body_el)return void setTimeout(function(){e.show()},300);this._init_styles(),this._init_notification_el(),this._preload_images(this._attach_and_animate)},MPNotif.prototype.dismiss=_.safewrap(function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e=this.showing_video?this._get_el("video"):this._get_notification_display_el();if(this.use_transitions)this._remove_class("bg","visible"),this._add_class(e,"exiting"),setTimeout(this._remove_notification_el,MPNotif.ANIM_TIME);else{var t,i,o;this.mini?(t="right",i=20,o=-100):(t="top",i=MPNotif.NOTIF_TOP,o=MPNotif.NOTIF_START_TOP+MPNotif.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:MPNotif.BG_OPACITY,goal:0},{el:e,attr:"opacity",start:1,goal:0},{el:e,attr:t,start:i,goal:o}],MPNotif.ANIM_TIME,this._remove_notification_el)}}),MPNotif.prototype._add_class=_.safewrap(function(e,t){t=MPNotif.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t}),MPNotif.prototype._remove_class=_.safewrap(function(e,t){t=MPNotif.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))}),MPNotif.prototype._animate_els=_.safewrap(function(e,t,i,o){var n,r,a,s=this,_=!1,c=1*new Date;for(o=o||c,a=c-o,n=0;n<e.length;n++)if(r=e[n],void 0===r.val&&(r.val=r.start),r.val!==r.goal){_=!0;var p=r.goal-r.start,l=r.goal>=r.start?1:-1;r.val=r.start+p*a/t,"opacity"!==r.attr&&(r.val=Math.round(r.val)),(l>0&&r.val>=r.goal||l<0&&r.val<=r.goal)&&(r.val=r.goal)}if(!_)return void(i&&i());for(n=0;n<e.length;n++)if(r=e[n],r.el){var d="opacity"===r.attr?"":"px";r.el.style[r.attr]=String(r.val)+d}setTimeout(function(){s._animate_els(e,t,i,o)},10)}),MPNotif.prototype._attach_and_animate=_.safewrap(function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout(function(){var t=e._get_notification_display_el();if(e.use_transitions)e.mini||e._add_class("bg","visible"),e._add_class(t,"visible"),e._mark_as_shown();else{var i,o,n;e.mini?(i="right",o=-100,n=20):(i="top",o=MPNotif.NOTIF_START_TOP+MPNotif.NOTIF_TOP,n=MPNotif.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:MPNotif.BG_OPACITY},{el:t,attr:"opacity",start:0,goal:1},{el:t,attr:i,start:o,goal:n}],MPNotif.ANIM_TIME,e._mark_as_shown)}},100),_.register_event(e._get_el("cancel"),"click",function(t){t.preventDefault(),e.dismiss()});var t=e._get_el("button")||e._get_el("mini-content");_.register_event(t,"click",function(t){t.preventDefault(),e.show_video?(e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video()):(e.dismiss(),e.clickthrough&&e._track_event("$campaign_open",{$resource_type:"link"},function(){window.location.href=e.dest_url}))})}}),MPNotif.prototype._get_el=function(e){return document.getElementById(MPNotif.MARKUP_PREFIX+"-"+e)},MPNotif.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},MPNotif.prototype._get_shown_campaigns=function(){return this.persistence.props[CAMPAIGN_IDS_KEY]||(this.persistence.props[CAMPAIGN_IDS_KEY]={})},MPNotif.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},MPNotif.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+MPNotif.THUMB_IMG_SIZE+'" height="'+MPNotif.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},MPNotif.prototype._init_notification_el=function(){var e="",t="",i="",o='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=MPNotif.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+o+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var n=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',r=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(n="",r=""),e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+o+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+n+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+r+"</div></div></div>"}this.youtube_video?(t="//www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",i='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t="//player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+MPNotif.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',i='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+i+"</div></div>");var a=i+e;this.flip_animate&&(a=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?i:a)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+a+"</div></div></div>").replace(/class=\"/g,'class="'+MPNotif.MARKUP_PREFIX+"-").replace(/id=\"/g,'id="'+MPNotif.MARKUP_PREFIX+"-")},MPNotif.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,i=e,o=MPNotif.THUMB_IMG_SIZE+2*MPNotif.THUMB_BORDER_SIZE,n=MPNotif.ANIM_TIME/1e3+"s";this.mini&&(e="none");var r={};r["@media only screen and (max-width: "+(MPNotif.NOTIF_WIDTH_MINI+20-1)+"px)"]={"#overlay":{display:"none"}};var a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+n},"#bg.visible":{opacity:MPNotif.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:MPNotif.NOTIF_WIDTH+"px","margin-left":Math.round(-MPNotif.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:MPNotif.NOTIF_START_TOP+"px",transition:"opacity "+n+", top "+n},"#takeover.visible":{opacity:"1.0",top:MPNotif.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:MPNotif.NOTIF_START_TOP+"px"},"#thumbspacer":{height:MPNotif.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-MPNotif.THUMB_BORDER_SIZE+"px",left:MPNotif.NOTIF_WIDTH/2-MPNotif.THUMB_OFFSET-MPNotif.THUMB_BORDER_SIZE+"px",width:o+"px",height:o/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:o+"px",height:o+"px","border-radius":o+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:MPNotif.NOTIF_WIDTH/2-MPNotif.THUMB_OFFSET+"px",width:MPNotif.THUMB_IMG_SIZE+"px",height:MPNotif.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":MPNotif.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:MPNotif.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*MPNotif.NOTIF_HEIGHT_MINI+"px","margin-top":20-MPNotif.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:MPNotif.NOTIF_HEIGHT_MINI+"px","margin-top":MPNotif.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+n},"#mini-border":{height:MPNotif.NOTIF_HEIGHT_MINI+6+"px",width:MPNotif.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":MPNotif.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":i},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:MPNotif.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+n},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:MPNotif.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:MPNotif.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:MPNotif.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+n},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+n},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+n},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+n
},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:MPNotif.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+n+", top "+n},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&_.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&_.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var s=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],c=["khtml","moz","ms","o","webkit"];for(var p in a)for(var l=0;l<s.length;l++){var d=s[l];if(d in a[p])for(var u=a[p][d],h=0;h<c.length;h++)a[p]["-"+c[h]+"-"+d]=u}!function(e,t){var i=function(e){var t="";for(var i in e){t+="\n"+i.replace(/#/g,"#"+MPNotif.MARKUP_PREFIX+"-").replace(/\./g,"."+MPNotif.MARKUP_PREFIX+"-")+" {";var o=e[i];for(var n in o)t+=n+":"+o[n]+";";t+="}"}return t},o=i(e)+function(e){var t="";for(var o in e)t+="\n"+o+" {"+i(e[o])+"\n}";return t}(t),n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("style");n.appendChild(r),r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=o:r.textContent=o}(a,r)},MPNotif.prototype._init_video=_.safewrap(function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in window,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),i=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){window.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var o=document.createElement("script");o.src="//www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}}else i&&(e.show_video=!0,e.vimeo_video=i[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}}),MPNotif.prototype._mark_as_shown=_.safewrap(function(){var e=this;_.register_event(e._get_el("bg"),"click",function(){e.dismiss()});var t=function(e,t){var i={};return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,null):e.currentStyle&&(i=e.currentStyle),i[t]};if(this.campaign_id){var i=this._get_el("overlay");i&&"hidden"!==t(i,"visibility")&&"none"!==t(i,"display")&&this._mark_delivery()}}),MPNotif.prototype._mark_delivery=_.safewrap(function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))}),MPNotif.prototype._preload_images=function(e){var t=this;if(0===this.imgs_to_preload.length)return void e();for(var i=0,o=[],n=function(){++i===t.imgs_to_preload.length&&e&&(e(),e=null)},r=0;r<this.imgs_to_preload.length;r++){var a=new Image;a.onload=n,a.src=this.imgs_to_preload[r],a.complete&&n(),o.push(a)}this._browser_lte("ie",7)&&setTimeout(function(){var t=!0;for(r=0;r<o.length;r++)o[r].complete||(t=!1);t&&e&&(e(),e=null)},500)},MPNotif.prototype._remove_notification_el=_.safewrap(function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)}),MPNotif.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),!this.browser_versions.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var t=this.browser_versions.ie,i=document.createElement("div").style,o=function(e){if(e in i)return!0;if(!t){e=e[0].toUpperCase()+e.slice(1);for(var o=["O"+e,"Webkit"+e,"Moz"+e],n=0;n<o.length;n++)if(o[n]in i)return!0}return!1};this.use_transitions=this.body_el&&o("transition")&&o("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&o("backfaceVisibility")&&o("perspective")&&o("transform")},MPNotif.prototype._switch_to_video=_.safewrap(function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:MPNotif.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var i=e._get_el("bg"),o=e._get_el("overlay");i.style.width="100%",i.style.height="100%",o.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(i,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:MPNotif.BG_OPACITY})}e._get_el("video-holder").innerHTML=e.video_iframe;var n=function(){window.YT&&window.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(n,MPNotif.ANIM_TIME)):e._animate_els(t,MPNotif.ANIM_TIME,n)}),MPNotif.prototype._track_event=function(e,t,i){this.campaign_id?(t=t||{},t=_.extend(t,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,i)):i&&i.call()},MPNotif.prototype._yt_video_ready=_.safewrap(function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),i=e._get_el("video-time"),o=e._get_el("video-progress");new window.YT.Player(MPNotif.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(n){var r=n.target,a=r.getDuration(),s=function(e){return("00"+e).slice(-2)},c=function(e){var t=Math.round(a-e),o=Math.floor(t/60),n=Math.floor(o/60);t-=60*o,o-=60*n,i.innerHTML="-"+(n?n+":":"")+s(o)+":"+s(t)};c(0),e._video_progress_checker=window.setInterval(function(){var e=r.getCurrentTime();t.style.width=e/a*100+"%",c(e)},250),_.register_event(o,"click",function(e){var t=Math.max(0,e.pageX-o.getBoundingClientRect().left);r.seekTo(a*t/o.clientWidth,!0)})}}})}}),MixpanelLib.prototype.init=MixpanelLib.prototype.init,MixpanelLib.prototype.reset=MixpanelLib.prototype.reset,MixpanelLib.prototype.disable=MixpanelLib.prototype.disable,MixpanelLib.prototype.time_event=MixpanelLib.prototype.time_event,MixpanelLib.prototype.track=MixpanelLib.prototype.track,MixpanelLib.prototype.track_links=MixpanelLib.prototype.track_links,MixpanelLib.prototype.track_forms=MixpanelLib.prototype.track_forms,MixpanelLib.prototype.track_pageview=MixpanelLib.prototype.track_pageview,MixpanelLib.prototype.register=MixpanelLib.prototype.register,MixpanelLib.prototype.register_once=MixpanelLib.prototype.register_once,MixpanelLib.prototype.unregister=MixpanelLib.prototype.unregister,MixpanelLib.prototype.identify=MixpanelLib.prototype.identify,MixpanelLib.prototype.alias=MixpanelLib.prototype.alias,MixpanelLib.prototype.name_tag=MixpanelLib.prototype.name_tag,MixpanelLib.prototype.set_config=MixpanelLib.prototype.set_config,MixpanelLib.prototype.get_config=MixpanelLib.prototype.get_config,MixpanelLib.prototype.get_property=MixpanelLib.prototype.get_property,MixpanelLib.prototype.get_distinct_id=MixpanelLib.prototype.get_distinct_id,MixpanelLib.prototype.toString=MixpanelLib.prototype.toString,MixpanelLib.prototype._check_and_handle_notifications=MixpanelLib.prototype._check_and_handle_notifications,MixpanelLib.prototype._show_notification=MixpanelLib.prototype._show_notification,MixpanelPersistence.prototype.properties=MixpanelPersistence.prototype.properties,MixpanelPersistence.prototype.update_search_keyword=MixpanelPersistence.prototype.update_search_keyword,MixpanelPersistence.prototype.update_referrer_info=MixpanelPersistence.prototype.update_referrer_info,MixpanelPersistence.prototype.get_cross_subdomain=MixpanelPersistence.prototype.get_cross_subdomain,MixpanelPersistence.prototype.clear=MixpanelPersistence.prototype.clear,MixpanelPeople.prototype.set=MixpanelPeople.prototype.set,MixpanelPeople.prototype.set_once=MixpanelPeople.prototype.set_once,MixpanelPeople.prototype.increment=MixpanelPeople.prototype.increment,MixpanelPeople.prototype.append=MixpanelPeople.prototype.append,MixpanelPeople.prototype.union=MixpanelPeople.prototype.union,MixpanelPeople.prototype.track_charge=MixpanelPeople.prototype.track_charge,MixpanelPeople.prototype.clear_charges=MixpanelPeople.prototype.clear_charges,MixpanelPeople.prototype.delete_user=MixpanelPeople.prototype.delete_user,MixpanelPeople.prototype.toString=MixpanelPeople.prototype.toString,_.safewrap_class(MixpanelLib,["identify","_check_and_handle_notifications","_show_notification"]);var instances={},extend_mp=function(){_.each(instances,function(e,t){t!==PRIMARY_INSTANCE_NAME&&(mixpanel_master[t]=e)}),mixpanel_master._=_},override_mp_init_func=function(){mixpanel_master.init=function(e,t,i){if(i)return mixpanel_master[i]||(mixpanel_master[i]=instances[i]=create_mplib(e,t,i),mixpanel_master[i]._loaded()),mixpanel_master[i];var o=mixpanel_master;instances[PRIMARY_INSTANCE_NAME]?o=instances[PRIMARY_INSTANCE_NAME]:e&&(o=create_mplib(e,t,PRIMARY_INSTANCE_NAME),o._loaded(),instances[PRIMARY_INSTANCE_NAME]=o),mixpanel_master=o,init_type===INIT_SNIPPET&&(window[PRIMARY_INSTANCE_NAME]=mixpanel_master),extend_mp()}},add_dom_loaded_handler=function(){function e(){e.done||(e.done=!0,DOM_LOADED=!0,ENQUEUE_REQUESTS=!1,_.each(instances,function(e){e._dom_loaded()}))}function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}if(document.addEventListener)"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);var i=!1;try{i=null===window.frameElement}catch(e){}document.documentElement.doScroll&&i&&t()}_.register_event(window,"load",e,!0)},add_dom_event_counting_handlers=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(_.cookie.get("mp_"+t+"__c"))||0;var i=function(){e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,_.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)},o=function(){try{e.mp_counts=e.mp_counts||{},i()}catch(e){console$1.error(e)}};_.register_event(document,"submit",o),_.register_event(document,"change",o);var n=null;_.register_event(document,"mousedown",function(e){n=e.target}),_.register_event(document,"mouseup",function(e){e.target===n&&o()})},mixpanel=init_as_module();module.exports=mixpanel;
},{}],72:[function(require,module,exports){
function parse(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+r:Math.ceil(s/e)+" "+r+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return parse(s);if("number"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],73:[function(require,module,exports){
!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,r=document.createElement("source"),s=function(e){var t,s,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=r.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout(function(){n.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,s=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=s}))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)s(t[e])},i=function(){clearTimeout(t),t=setTimeout(n,99)},c=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){i(),c&&c.addListener&&c.addListener(i)};return r.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),i}())}(window),function(e,t,r){"use strict";function s(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(){B=!1,$=e.devicePixelRatio,I={},U={},h.DPR=$||1,k.width=Math.max(e.innerWidth||0,E.clientWidth),k.height=Math.max(e.innerHeight||0,E.clientHeight),k.vw=k.width/100,k.vh=k.height/100,m=[k.height,k.width,$].join("-"),k.em=h.getEmValue(),k.rem=k.em}function i(e,t,r,s){var n,i,c,a;return"saveData"===b.algorithm?e>2.7?a=r+1:(i=t-r,n=Math.pow(e-.6,1.5),c=i*n,s&&(c+=.1*n),a=e+c):a=r>1?Math.sqrt(e*t):e,a>r}function c(e){var t,r=h.getSet(e),s=!1;"pending"!==r&&(s=m,r&&(t=h.setRes(r),h.applySetCandidate(t,e))),e[h.ns].evaled=s}function a(e,t){return e.res-t.res}function u(e,t,r){var s;return!r&&t&&(r=e[h.ns].sets,r=r&&r[r.length-1]),s=o(t,r),s&&(t=h.makeUrl(t),e[h.ns].curSrc=t,e[h.ns].curCan=s,s.res||K(s,s.set.sizes)),s}function o(e,t){var r,s,n;if(e&&t)for(n=h.parseSet(t),e=h.makeUrl(e),r=0;r<n.length;r++)if(e===h.makeUrl(n[r].url)){s=n[r];break}return s}function l(e,t){var r,s,n,i,c=e.getElementsByTagName("source");for(r=0,s=c.length;r<s;r++)n=c[r],n[h.ns]=!0,(i=n.getAttribute("srcset"))&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}function f(e,t){function r(t){var r,s=t.exec(e.substring(f));if(s)return r=s[0],f+=r.length,r}function n(){var e,r,s,n,a,u,o,l,f,p=!1,A={};for(n=0;n<c.length;n++)a=c[n],u=a[a.length-1],o=a.substring(0,a.length-1),l=parseInt(o,10),f=parseFloat(o),O.test(o)&&"w"===u?((e||r)&&(p=!0),0===l?p=!0:e=l):q.test(o)&&"x"===u?((e||r||s)&&(p=!0),f<0?p=!0:r=f):O.test(o)&&"h"===u?((s||r)&&(p=!0),0===l?p=!0:s=l):p=!0;p||(A.url=i,e&&(A.w=e),r&&(A.d=r),s&&(A.h=s),s||r||e||(A.d=1),1===A.d&&(t.has1x=!0),A.set=t,d.push(A))}for(var i,c,a,u,o,l=e.length,f=0,d=[];;){if(r(H),f>=l)return d;i=r(F),c=[],","===i.slice(-1)?(i=i.replace(N,""),n()):function(){for(r(G),a="",u="in descriptor";;){if(o=e.charAt(f),"in descriptor"===u)if(s(o))a&&(c.push(a),a="",u="after descriptor");else{if(","===o)return f+=1,a&&c.push(a),void n();if("("===o)a+=o,u="in parens";else{if(""===o)return a&&c.push(a),void n();a+=o}}else if("in parens"===u)if(")"===o)a+=o,u="in descriptor";else{if(""===o)return c.push(a),void n();a+=o}else if("after descriptor"===u)if(s(o));else{if(""===o)return void n();u="in descriptor",f-=1}f+=1}}()}}function d(e){var t,r,n,i,c,a,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,o=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=function(e){function t(){i&&(c.push(i),i="")}function r(){c[0]&&(a.push(c),c=[])}for(var n,i="",c=[],a=[],u=0,o=0,l=!1;;){if(""===(n=e.charAt(o)))return t(),r(),a;if(l){if("*"===n&&"/"===e[o+1]){l=!1,o+=2,t();continue}o+=1}else{if(s(n)){if(e.charAt(o-1)&&s(e.charAt(o-1))||!i){o+=1;continue}if(0===u){t(),o+=1;continue}n=" "}else if("("===n)u+=1;else if(")"===n)u-=1;else{if(","===n){t(),r(),o+=1;continue}if("/"===n&&"*"===e.charAt(o+1)){l=!0,o+=2;continue}}i+=n,o+=1}}}(e),n=r.length,t=0;t<n;t++)if(i=r[t],c=i[i.length-1],function(e){return!!(u.test(e)&&parseFloat(e)>=0)||(!!o.test(e)||("0"===e||"-0"===e||"+0"===e))}(c)){if(a=c,i.pop(),0===i.length)return a;if(i=i.join(" "),h.matchesMedia(i))return a}return"100vw"}t.createElement("picture");var p,A,m,h={},g=!1,v=function(){},w=t.createElement("img"),S=w.getAttribute,x=w.setAttribute,y=w.removeAttribute,E=t.documentElement,z={},b={algorithm:""},T=navigator.userAgent,C=/rident/.test(T)||/ecko/.test(T)&&T.match(/rv\:(\d+)/)&&RegExp.$1>35,R="currentSrc",L=/\s+\+?\d+(e\d+)?w/,M=/(\([^)]+\))?\s*(.+)/,P=e.picturefillCFG,D="font-size:100%!important;",B=!0,I={},U={},$=e.devicePixelRatio,k={px:1,in:96},W=t.createElement("a"),Q=!1,G=/^[ \t\n\r\u000c]+/,H=/^[, \t\n\r\u000c]+/,F=/^[^ \t\n\r\u000c]+/,N=/[,]+$/,O=/^\d+$/,q=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,j=function(e,t,r,s){e.addEventListener?e.addEventListener(t,r,s||!1):e.attachEvent&&e.attachEvent("on"+t,r)},V=function(e){var t={};return function(r){return r in t||(t[r]=e(r)),t[r]}},_=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,r=e[0];++t in e;)r=r.replace(e[t],e[++t]);return r},r=V(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,s){var n;if(!(t in I))if(I[t]=!1,s&&(n=t.match(e)))I[t]=n[1]*k[n[2]];else try{I[t]=new Function("e",r(t))(k)}catch(e){}return I[t]}}(),K=function(e,t){return e.w?(e.cWidth=h.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},J=function(e){if(g){var r,s,n,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),r=i.elements||h.qsa(i.context||t,i.reevaluate||i.reselect?h.sel:h.selShort),n=r.length){for(h.setupRun(i),Q=!0,s=0;s<n;s++)h.fillImg(r[s],i);h.teardownRun(i)}}};e.console&&console.warn,R in w||(R="src"),z["image/jpeg"]=!0,z["image/gif"]=!0,z["image/png"]=!0,z["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),h.ns=("pf"+(new Date).getTime()).substr(0,9),h.supSrcset="srcset"in w,h.supSizes="sizes"in w,h.supPicture=!!e.HTMLPictureElement,h.supSrcset&&h.supPicture&&!h.supSizes&&function(e){w.srcset="data:,a",e.src="data:,a",h.supSrcset=w.complete===e.complete,h.supPicture=h.supSrcset&&h.supPicture}(t.createElement("img")),h.supSrcset&&!h.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",r=t.createElement("img"),s=function(){2===r.width&&(h.supSizes=!0),A=h.supSrcset&&!h.supSizes,g=!0,setTimeout(J)};r.onload=s,r.onerror=s,r.setAttribute("sizes","9px"),r.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",r.src=e}():g=!0,h.selShort="picture>img,img[srcset]",h.sel=h.selShort,h.cfg=b,h.DPR=$||1,h.u=k,h.types=z,h.setSize=v,h.makeUrl=V(function(e){return W.href=e,W.href}),h.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},h.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?h.matchesMedia=function(e){return!e||matchMedia(e).matches}:h.matchesMedia=h.mMQ,h.matchesMedia.apply(this,arguments)},h.mMQ=function(e){return!e||_(e)},h.calcLength=function(e){var t=_(e,!0)||!1;return t<0&&(t=!1),t},h.supportsType=function(e){return!e||z[e]},h.parseSize=V(function(e){var t=(e||"").match(M);return{media:t&&t[1],length:t&&t[2]}}),h.parseSet=function(e){return e.cands||(e.cands=f(e.srcset,e)),e.cands},h.getEmValue=function(){var e;if(!p&&(e=t.body)){var r=t.createElement("div"),s=E.style.cssText,n=e.style.cssText;r.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",E.style.cssText=D,e.style.cssText=D,e.appendChild(r),p=r.offsetWidth,e.removeChild(r),p=parseFloat(p,10),E.style.cssText=s,e.style.cssText=n}return p||16},h.calcListLength=function(e){if(!(e in U)||b.uT){var t=h.calcLength(d(e));U[e]=t||k.width}return U[e]},h.setRes=function(e){var t;if(e){t=h.parseSet(e);for(var r=0,s=t.length;r<s;r++)K(t[r],e.sizes)}return t},h.setRes.res=K,h.applySetCandidate=function(e,t){if(e.length){var r,s,n,c,o,l,f,d,p,A=t[h.ns],m=h.DPR;if(l=A.curSrc||t[R],f=A.curCan||u(t,l,e[0].set),f&&f.set===e[0].set&&((p=C&&!t.complete&&f.res-.1>m)||(f.cached=!0,f.res>=m&&(o=f))),!o)for(e.sort(a),c=e.length,o=e[c-1],s=0;s<c;s++)if(r=e[s],r.res>=m){n=s-1,o=e[n]&&(p||l!==h.makeUrl(r.url))&&i(e[n].res,r.res,m,e[n].cached)?e[n]:r;break}o&&(d=h.makeUrl(o.url),A.curSrc=d,A.curCan=o,d!==l&&h.setSrc(t,o),h.setSize(t))}},h.setSrc=function(e,t){var r;e.src=t.url,"image/svg+xml"===t.set.type&&(r=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=r))},h.getSet=function(e){var t,r,s,n=!1,i=e[h.ns].sets;for(t=0;t<i.length&&!n;t++)if(r=i[t],r.srcset&&h.matchesMedia(r.media)&&(s=h.supportsType(r.type))){"pending"===s&&(r=s),n=r;break}return n},h.parseSets=function(e,t,r){var s,n,i,c,a=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[h.ns];(void 0===u.src||r.src)&&(u.src=S.call(e,"src"),u.src?x.call(e,"data-pfsrc",u.src):y.call(e,"data-pfsrc")),(void 0===u.srcset||r.srcset||!h.supSrcset||e.srcset)&&(s=S.call(e,"srcset"),u.srcset=s,c=!0),u.sets=[],a&&(u.pic=!0,l(t,u.sets)),u.srcset?(n={srcset:u.srcset,sizes:S.call(e,"sizes")},u.sets.push(n),(i=(A||u.src)&&L.test(u.srcset||""))||!u.src||o(u.src,n)||n.has1x||(n.srcset+=", "+u.src,n.cands.push({url:u.src,d:1,set:n}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=void 0,u.supported=!(a||n&&!h.supSrcset||i&&!h.supSizes),c&&h.supSrcset&&!u.supported&&(s?(x.call(e,"data-pfsrcset",s),e.srcset=""):y.call(e,"data-pfsrcset")),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==h.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},h.fillImg=function(e,t){var r,s=t.reselect||t.reevaluate;e[h.ns]||(e[h.ns]={}),r=e[h.ns],(s||r.evaled!==m)&&(r.parsed&&!t.reevaluate||h.parseSets(e,e.parentNode,t),r.supported?r.evaled=m:c(e))},h.setupRun=function(){Q&&!B&&$===e.devicePixelRatio||n()},h.supPicture?(J=v,h.fillImg=v):function(){var r,s=e.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var e=t.readyState||"";i=setTimeout(n,"loading"===e?200:999),t.body&&(h.fillImgs(),(r=r||s.test(e))&&clearTimeout(i))},i=setTimeout(n,t.body?9:99),c=E.clientHeight,a=function(){B=Math.max(e.innerWidth||0,E.clientWidth)!==k.width||E.clientHeight!==c,c=E.clientHeight,B&&h.fillImgs()};j(e,"resize",function(e,t){var r,s,n=function(){var i=new Date-s;i<t?r=setTimeout(n,t-i):(r=null,e())};return function(){s=new Date,r||(r=setTimeout(n,t))}}(a,99)),j(t,"readystatechange",n)}(),h.picturefill=J,h.fillImgs=J,h.teardownRun=v,J._=h,e.picturefillCFG={pf:h,push:function(e){var t=e.shift();"function"==typeof h[t]?h[t].apply(h,e):(b[t]=e[0],Q&&h.fillImgs({reselect:!0}))}};for(;P&&P.length;)e.picturefillCFG.push(P.shift());e.picturefill=J,"object"==typeof module&&"object"==typeof module.exports?module.exports=J:"function"==typeof define&&define.amd&&define("picturefill",function(){return J}),h.supPicture||(z["image/webp"]=function(t,r){var s=new e.Image;return s.onerror=function(){z[t]=!1,J()},s.onload=function(){z[t]=1===s.width,J()},s.src=r,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);
},{}],74:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],75:[function(require,module,exports){
"use strict";function pug_merge(r,e){if(1===arguments.length){for(var t=r[0],s=1;s<r.length;s++)t=pug_merge(t,r[s]);return t}for(var a in e)if("class"===a){var n=r[a]||[];r[a]=(Array.isArray(n)?n:[n]).concat(e[a]||[])}else if("style"===a){var n=pug_style(r[a]),u=pug_style(e[a]);r[a]=n+u}else r[a]=e[a];return r}function pug_classes_array(r,e){for(var t,s="",a="",n=Array.isArray(e),u=0;u<r.length;u++)(t=pug_classes(r[u]))&&(n&&e[u]&&(t=pug_escape(t)),s=s+a+t,a=" ");return s}function pug_classes_object(r){var e="",t="";for(var s in r)s&&r[s]&&pug_has_own_property.call(r,s)&&(e=e+t+s,t=" ");return e}function pug_classes(r,e){return Array.isArray(r)?pug_classes_array(r,e):r&&"object"==typeof r?pug_classes_object(r):r||""}function pug_style(r){if(!r)return"";if("object"==typeof r){var e="";for(var t in r)pug_has_own_property.call(r,t)&&(e=e+t+":"+r[t]+";");return e}return r+="",";"!==r[r.length-1]?r+";":r}function pug_attr(r,e,t,s){return!1!==e&&null!=e&&(e||"class"!==r&&"style"!==r)?!0===e?" "+(s?r:r+'="'+r+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),t||-1===e.indexOf('"'))?(t&&(e=pug_escape(e))," "+r+'="'+e+'"'):" "+r+"='"+e.replace(/'/g,"&#39;")+"'"):""}function pug_attrs(r,e){var t="";for(var s in r)if(pug_has_own_property.call(r,s)){var a=r[s];if("class"===s){a=pug_classes(a),t=pug_attr(s,a,!1,e)+t;continue}"style"===s&&(a=pug_style(a)),t+=pug_attr(s,a,!1,e)}return t}function pug_escape(r){var e=""+r,t=pug_match_html.exec(e);if(!t)return r;var s,a,n,u="";for(s=t.index,a=0;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==s&&(u+=e.substring(a,s)),a=s+1,u+=n}return a!==s?u+e.substring(a,s):u}function pug_rethrow(r,e,t,s){if(!(r instanceof Error))throw r;if(!("undefined"==typeof window&&e||s))throw r.message+=" on line "+t,r;try{s=s||require("fs").readFileSync(e,"utf8")}catch(e){pug_rethrow(r,null,t)}var a=3,n=s.split("\n"),u=Math.max(t-a,0),p=Math.min(n.length,t+a),a=n.slice(u,p).map(function(r,e){var s=e+u+1;return(s==t?"  > ":"    ")+s+"| "+r}).join("\n");throw r.path=e,r.message=(e||"Pug")+":"+t+"\n"+a+"\n\n"+r.message,r}var pug_has_own_property=Object.prototype.hasOwnProperty;exports.merge=pug_merge,exports.classes=pug_classes,exports.style=pug_style,exports.attr=pug_attr,exports.attrs=pug_attrs;var pug_match_html=/["&<>]/;exports.escape=pug_escape,exports.rethrow=pug_rethrow;
},{"fs":26}],76:[function(require,module,exports){
!function(t,e){"use strict";"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),i=e.split(":"),n=i.length,o=8;""===i[0]&&""===i[1]&&""===i[2]?(i.shift(),i.shift()):""===i[0]&&""===i[1]?i.shift():""===i[n-1]&&""===i[n-2]&&i.pop(),n=i.length,-1!==i[n-1].indexOf(".")&&(o=7);var r;for(r=0;r<n&&""!==i[r];r++);if(r<o)for(i.splice(r,1,"0000");i.length<o;)i.splice(r,0,"0000");for(var f,s=0;s<o;s++){f=i[s].split("");for(var l=0;l<3&&("0"===f[0]&&f.length>1);l++)f.splice(0,1);i[s]=f.join("")}var c=-1,u=0,p=0,h=-1,v=!1;for(s=0;s<o;s++)v?"0"===i[s]?p+=1:(v=!1,p>u&&(c=h,u=p)):"0"===i[s]&&(v=!0,h=s,p=1);p>u&&(c=h,u=p),u>1&&i.splice(c,u,""),n=i.length;var a="";for(""===i[0]&&(a=":"),s=0;s<n&&(a+=i[s],s!==n-1);s++)a+=":";return""===i[n-1]&&(a+=":"),a}function i(){return t.IPv6===this&&(t.IPv6=n),this}var n=t&&t.IPv6;return{best:e,noConflict:i}});
},{}],77:[function(require,module,exports){
!function(o,e){"use strict";"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):o.SecondLevelDomains=e(o)}(this,function(o){"use strict";var e=o&&o.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return!1;var g=n.list[o.slice(e+1)];return!!g&&g.indexOf(" "+o.slice(r+1,e)+" ")>=0},is:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;if(o.lastIndexOf(".",e-1)>=0)return!1;var r=n.list[o.slice(e+1)];return!!r&&r.indexOf(" "+o.slice(0,e)+" ")>=0},get:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return null;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return null;var g=n.list[o.slice(e+1)];return g?g.indexOf(" "+o.slice(r+1,e)+" ")<0?null:o.slice(r+1):null},noConflict:function(){return o.SecondLevelDomains===this&&(o.SecondLevelDomains=e),this}};return n});
},{}],78:[function(require,module,exports){
!function(t,e){"use strict";"object"==typeof module&&module.exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,n){"use strict";function s(t,e){var r=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof s))return r?n?new s(t,e):new s(t):new s;if(void 0===t){if(r)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&r)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.absoluteTo(e):this}function a(t){return/^[0-9]+$/.test(t)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function h(t){return"Array"===o(t)}function u(t,e){var r,n,s={};if("RegExp"===o(e))s=null;else if(h(e))for(r=0,n=e.length;r<n;r++)s[e[r]]=!0;else s[e]=!0;for(r=0,n=t.length;r<n;r++){(s&&void 0!==s[t[r]]||!s&&e.test(t[r]))&&(t.splice(r,1),n--,r--)}return t}function p(t,e){var r,n;if(h(e)){for(r=0,n=e.length;r<n;r++)if(!p(t,e[r]))return!1;return!0}var s=o(e);for(r=0,n=t.length;r<n;r++)if("RegExp"===s){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function c(t,e){if(!h(t)||!h(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function l(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function d(t){return escape(t)}function f(t){return encodeURIComponent(t).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}function m(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}}function g(t,e){return function(r,n){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!n),this)}}var y=n&&n.URI;s.version="1.19.0";var v=s.prototype,_=Object.prototype.hasOwnProperty;s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:s.preventInvalidHostname,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.preventInvalidHostname=!1,s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\._-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.hostProtocols=["http","https"],s.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},s.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return s.domAttributes[e]}},s.encode=f,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=f,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},s.encodeQuery=function(t,e){var r=s.encode(t+"");return void 0===e&&(e=s.escapeQuerySpace),e?r.replace(/%20/g,"+"):r},s.decodeQuery=function(t,e){t+="",void 0===e&&(e=s.escapeQuerySpace);try{return s.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};var b,w={encode:"encode",decode:"decode"},Q=function(t,e){return function(r){try{return s[e](r+"").replace(s.characters[t][e].expression,function(r){return s.characters[t][e].map[r]})}catch(t){return r}}};for(b in w)s[b+"PathSegment"]=Q("pathname",w[b]),s[b+"UrnPathSegment"]=Q("urnpath",w[b]);var A=function(t,e,r){return function(n){var a;a=r?function(t){return s[e](s[r](t))}:s[e];for(var i=(n+"").split(t),o=0,h=i.length;o<h;o++)i[o]=a(i[o]);return i.join(t)}};s.decodePath=A("/","decodePathSegment"),s.decodeUrnPath=A(":","decodeUrnPathSegment"),s.recodePath=A("/","encodePathSegment","decode"),s.recodeUrnPath=A(":","encodeUrnPathSegment","decode"),s.encodeReserved=Q("reserved","encode"),s.parse=function(t,e){var r;return e||(e={preventInvalidHostname:s.preventInvalidHostname}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=s.parseAuthority(t,e)):(r=t.indexOf(":"))>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(s.protocol_expression)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=s.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0)),e.path=t,e},s.parseHost=function(t,e){t||(t=""),t=t.replace(/\\/g,"/");var r,n,a=t.indexOf("/");if(-1===a&&(a=t.length),"["===t.charAt(0))r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,a)||null,"/"===e.port&&(e.port=null);else{var i=t.indexOf(":"),o=t.indexOf("/"),h=t.indexOf(":",i+1);-1!==h&&(-1===o||h<o)?(e.hostname=t.substring(0,a)||null,e.port=null):(n=t.substring(0,a).split(":"),e.hostname=n[0]||null,e.port=n[1]||null)}return e.hostname&&"/"!==t.substring(a).charAt(0)&&(a++,t="/"+t),e.preventInvalidHostname&&s.ensureValidHostname(e.hostname,e.protocol),e.port&&s.ensureValidPort(e.port),t.substring(a)||"/"},s.parseAuthority=function(t,e){return t=s.parseUserinfo(t,e),s.parseHost(t,e)},s.parseUserinfo=function(t,e){var r,n=t.indexOf("/"),a=t.lastIndexOf("@",n>-1?n:t.length-1);return a>-1&&(-1===n||a<n)?(r=t.substring(0,a).split(":"),e.username=r[0]?s.decode(r[0]):null,r.shift(),e.password=r[0]?s.decode(r.join(":")):null,t=t.substring(a+1)):(e.username=null,e.password=null),t},s.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,a,i={},o=t.split("&"),h=o.length,u=0;u<h;u++)r=o[u].split("="),n=s.decodeQuery(r.shift(),e),a=r.length?s.decodeQuery(r.join("="),e):null,_.call(i,n)?("string"!=typeof i[n]&&null!==i[n]||(i[n]=[i[n]]),i[n].push(a)):i[n]=a;return i},s.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=s.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},s.buildHost=function(t){var e="";return t.hostname?(s.ip6_expression.test(t.hostname)?e+="["+t.hostname+"]":e+=t.hostname,t.port&&(e+=":"+t.port),e):""},s.buildAuthority=function(t){return s.buildUserinfo(t)+s.buildHost(t)},s.buildUserinfo=function(t){var e="";return t.username&&(e+=s.encode(t.username)),t.password&&(e+=":"+s.encode(t.password)),e&&(e+="@"),e},s.buildQuery=function(t,e,r){var n,a,i,o,u="";for(a in t)if(_.call(t,a)&&a)if(h(t[a]))for(n={},i=0,o=t[a].length;i<o;i++)void 0!==t[a][i]&&void 0===n[t[a][i]+""]&&(u+="&"+s.buildQueryParameter(a,t[a][i],r),!0!==e&&(n[t[a][i]+""]=!0));else void 0!==t[a]&&(u+="&"+s.buildQueryParameter(a,t[a],r));return u.substring(1)},s.buildQueryParameter=function(t,e,r){return s.encodeQuery(t,r)+(null!==e?"="+s.encodeQuery(e,r):"")},s.addQuery=function(t,e,r){if("object"==typeof e)for(var n in e)_.call(e,n)&&s.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),h(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},s.setQuery=function(t,e,r){if("object"==typeof e)for(var n in e)_.call(e,n)&&s.setQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");t[e]=void 0===r?null:r}},s.removeQuery=function(t,e,r){var n,a,i;if(h(e))for(n=0,a=e.length;n<a;n++)t[e[n]]=void 0;else if("RegExp"===o(e))for(i in t)e.test(i)&&(t[i]=void 0);else if("object"==typeof e)for(i in e)_.call(e,i)&&s.removeQuery(t,i,e[i]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===o(r)?!h(t[e])&&r.test(t[e])?t[e]=void 0:t[e]=u(t[e],r):t[e]!==String(r)||h(r)&&1!==r.length?h(t[e])&&(t[e]=u(t[e],r)):t[e]=void 0:t[e]=void 0}},s.hasQuery=function(t,e,r,n){switch(o(e)){case"String":break;case"RegExp":for(var a in t)if(_.call(t,a)&&e.test(a)&&(void 0===r||s.hasQuery(t,a,r)))return!0;return!1;case"Object":for(var i in e)if(_.call(e,i)&&!s.hasQuery(t,i,e[i]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(r)){case"Undefined":return e in t;case"Boolean":return r===Boolean(h(t[e])?t[e].length:t[e]);case"Function":return!!r(t[e],e,t);case"Array":if(!h(t[e]))return!1;return(n?p:c)(t[e],r);case"RegExp":return h(t[e])?!!n&&p(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return h(t[e])?!!n&&p(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.joinPaths=function(){for(var t=[],e=[],r=0,n=0;n<arguments.length;n++){var a=new s(arguments[n]);t.push(a);for(var i=a.segment(),o=0;o<i.length;o++)"string"==typeof i[o]&&e.push(i[o]),i[o]&&r++}if(!e.length||!r)return new s("");var h=new s("").segment(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||h.path("/"+h.path()),h.normalize()},s.commonPath=function(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},s.withinString=function(t,e,r){r||(r={});var n=r.start||s.findUri.start,a=r.end||s.findUri.end,i=r.trim||s.findUri.trim,o=r.parens||s.findUri.parens,h=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var u=n.exec(t);if(!u)break;var p=u.index;if(r.ignoreHtml){var c=t.slice(Math.max(p-3,0),p);if(c&&h.test(c))continue}for(var l=p+t.slice(p).search(a),d=t.slice(p,l),f=-1;;){var m=o.exec(d);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(i,""):d.replace(i,""),!(d.length<=u[0].length||r.ignore&&r.ignore.test(d))){l=p+d.length;var y=e(d,p,l,t);void 0!==y?(y=String(y),t=t.slice(0,p)+y+t.slice(l),n.lastIndex=p+y.length):n.lastIndex=l}}return n.lastIndex=0,t},s.ensureValidHostname=function(e,r){var n=!!e,a=!!r,i=!1;if(a&&(i=p(s.hostProtocols,r)),i&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+r);if(e&&e.match(s.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(t.toASCII(e).match(s.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_]')}},s.ensureValidPort=function(t){if(t){var e=Number(t);if(!(a(e)&&e>0&&e<65536))throw new TypeError('Port "'+t+'" is not a valid port')}},s.noConflict=function(t){if(t){var e={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(e.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(e.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=n.SecondLevelDomains.noConflict()),e}return n.URI===this&&(n.URI=y),this},v.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=s.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new s(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=m("protocol"),v.username=m("username"),v.password=m("password"),v.hostname=m("hostname"),v.port=m("port"),v.query=g("query","?"),v.fragment=g("fragment","#"),v.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},v.hash=function(t,e){var r=this.fragment(t,e);return"string"==typeof r&&r.length?"#"+r:r},v.pathname=function(t,e){if(void 0===t||!0===t){var r=this._parts.path||(this._parts.hostname?"/":"");return t?(this._parts.urn?s.decodeUrnPath:s.decodePath)(r):r}return this._parts.urn?this._parts.path=t?s.recodeUrnPath(t):"":this._parts.path=t?s.recodePath(t):"/",this.build(!e),this},v.path=v.pathname,v.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=s._parts();var n=t instanceof s,a="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){t=t[s.getDomAttribute(t)]||"",a=!1}if(!n&&a&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=s.parse(String(t),this._parts);else{if(!n&&!a)throw new TypeError("invalid input");var i=n?t._parts:t;for(r in i)_.call(this._parts,r)&&(this._parts[r]=i[r])}return this.build(!e),this},v.is=function(t){var e=!1,n=!1,a=!1,i=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,n=s.ip4_expression.test(this._parts.hostname),a=s.ip6_expression.test(this._parts.hostname),e=n||a,i=!e,o=i&&r&&r.has(this._parts.hostname),h=i&&s.idn_expression.test(this._parts.hostname),u=i&&s.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return i;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return a;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var P=v.protocol,x=v.port,I=v.hostname;v.protocol=function(t,e){if(t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(s.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return P.call(this,t,e)},v.scheme=v.protocol,v.port=function(t,e){return this._parts.urn?void 0===t?"":this:(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),s.ensureValidPort(t))),x.call(this,t,e))},v.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==s.parseHost(t,r))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=r.hostname,this._parts.preventInvalidHostname&&s.ensureValidHostname(t,this._parts.protocol)}return I.call(this,t,e)},v.origin=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var r=this.protocol();return this.authority()?(r?r+"://":"")+this.authority():""}var n=s(t);return this.protocol(n.protocol()).authority(n.authority()).build(!e),this},v.host=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?s.buildHost(this._parts):"";if("/"!==s.parseHost(t,this._parts))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.authority=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?s.buildAuthority(this._parts):"";if("/"!==s.parseAuthority(t,this._parts))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},v.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var r=s.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==t[t.length-1]&&(t+="@"),s.parseUserinfo(t,this._parts),this.build(!e),this},v.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=s.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},v.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,n),o=new RegExp("^"+i(a));if(t&&"."!==t.charAt(t.length-1)&&(t+="."),-1!==t.indexOf(":"))throw new TypeError("Domains cannot contain colons");return t&&s.ensureValidHostname(t,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},v.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(e).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!t)throw new TypeError("cannot set domain empty");if(-1!==t.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(s.ensureValidHostname(t,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},v.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),s=this._parts.hostname.substring(n+1);return!0!==e&&r&&r.list[s.toLowerCase()]?r.get(this._parts.hostname)||s:s}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},v.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?s.decodePath(n):n}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=s.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},v.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return t?s.decodePathSegment(n):n}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=s.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},v.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,a=this.filename(),o=a.lastIndexOf(".");return-1===o?"":(r=a.substring(o+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",t?s.decodePathSegment(n):n)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=t?new RegExp(i(u)+"$"):new RegExp(i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+s.recodePath(t)}return h&&(t=s.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},v.segment=function(t,e,r){var n=this._parts.urn?":":"/",s=this.path(),a="/"===s.substring(0,1),i=s.split(n);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(a&&i.shift(),t<0&&(t=Math.max(i.length+t,0)),void 0===e)return void 0===t?i:i[t];if(null===t||void 0===i[t])if(h(e)){i=[];for(var o=0,u=e.length;o<u;o++)(e[o].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(l(e[o])))}else(e||"string"==typeof e)&&(e=l(e),""===i[i.length-1]?i[i.length-1]=e:i.push(e));else e?i[t]=l(e):i.splice(t,1);return a&&i.unshift(""),this.path(i.join(n),r)},v.segmentCoded=function(t,e,r){var n,a,i;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(n=this.segment(t,e,r),h(n))for(a=0,i=n.length;a<i;a++)n[a]=s.decode(n[a]);else n=void 0!==n?s.decode(n):void 0;return n}if(h(e))for(a=0,i=e.length;a<i;a++)e[a]=s.encode(e[a]);else e="string"==typeof e||e instanceof String?s.encode(e):e;return this.segment(t,e,r)};var S=v.query;return v.query=function(t,e){if(!0===t)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,r);return this._parts.query=s.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=s.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):S.call(this,t,e)},v.setQuery=function(t,e,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)n[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var a in t)_.call(t,a)&&(n[a]=t[a])}return this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},v.addQuery=function(t,e,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(n,t,void 0===e?null:e),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},v.removeQuery=function(t,e,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(n,t,e),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},v.hasQuery=function(t,e,r){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(n,t,e,r)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},v.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},v.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},v.normalizePath=function(t){var e=this._parts.path;if(!e)return this;if(this._parts.urn)return this._parts.path=s.recodeUrnPath(this._parts.path),this.build(!t),this;if("/"===this._parts.path)return this;e=s.recodePath(e);var r,n,a,i="";for("/"!==e.charAt(0)&&(r=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(i=e.substring(1).match(/^(\.\.\/)+/)||"")&&(i=i[0]);;){if(-1===(n=e.search(/\/\.\.(\/|$)/)))break;0!==n?(a=e.substring(0,n).lastIndexOf("/"),-1===a&&(a=n),e=e.substring(0,a)+e.substring(n+3)):e=e.substring(3)}return r&&this.is("relative")&&(e=i+e.substring(1)),this._parts.path=e,this.build(!t),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},v.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var t=s.encode,e=s.decode;s.encode=escape,s.decode=decodeURIComponent;try{this.normalize()}finally{s.encode=t,s.decode=e}return this},v.unicode=function(){var t=s.encode,e=s.decode;s.encode=f,s.decode=unescape;try{this.normalize()}finally{s.encode=t,s.decode=e}return this},v.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var n="",a=0,i=e._parts.query.split("&"),o=i.length;a<o;a++){var h=(i[a]||"").split("=");n+="&"+s.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(n+="="+s.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=s.decodeQuery(e.hash(),!0)},v.absoluteTo=function(t){var e,r,n,a=this.clone(),i=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof s||(t=new s(t)),a._parts.protocol)return a;if(a._parts.protocol=t._parts.protocol,this._parts.hostname)return a;for(r=0;n=i[r];r++)a._parts[n]=t._parts[n];return a._parts.path?(".."===a._parts.path.substring(-2)&&(a._parts.path+="/"),"/"!==a.path().charAt(0)&&(e=t.directory(),e=e||(0===t.path().indexOf("/")?"/":""),a._parts.path=(e?e+"/":"")+a._parts.path,a.normalizePath())):(a._parts.path=t._parts.path,a._parts.query||(a._parts.query=t._parts.query)),a.build(),a},v.relativeTo=function(t){var e,r,n,a,i,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new s(t).normalize(),e=o._parts,r=t._parts,a=o.path(),i=t.path(),"/"!==a.charAt(0))throw new Error("URI is already relative");if("/"!==i.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,a===i)return e.path="",o.build();if(!(n=s.commonPath(a,i)))return o.build();var h=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(n.length)||"./",o.build()},v.equals=function(t){var e,r,n,a=this.clone(),i=new s(t),o={},u={},p={};if(a.normalize(),i.normalize(),a.toString()===i.toString())return!0;if(e=a.query(),r=i.query(),a.query(""),i.query(""),a.toString()!==i.toString())return!1;if(e.length!==r.length)return!1;o=s.parseQuery(e,this._parts.escapeQuerySpace),u=s.parseQuery(r,this._parts.escapeQuerySpace);for(n in o)if(_.call(o,n)){if(h(o[n])){if(!c(o[n],u[n]))return!1}else if(o[n]!==u[n])return!1;p[n]=!0}for(n in u)if(_.call(u,n)&&!p[n])return!1;return!0},v.preventInvalidHostname=function(t){return this._parts.preventInvalidHostname=!!t,this},v.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},v.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},s});
},{"./IPv6":76,"./SecondLevelDomains":77,"./punycode":79}],79:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,t=[];n--;)t[n]=o(e[n]);return t}function t(e,o){var t=e.split("@"),r="";return t.length>1&&(r=t[0]+"@",e=t[1]),e=e.replace(S,"."),r+n(e.split("."),o).join(".")}function r(e){for(var o,n,t=[],r=0,u=e.length;r<u;)o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<u?(n=e.charCodeAt(r++),56320==(64512&n)?t.push(((1023&o)<<10)+(1023&n)+65536):(t.push(o),r--)):t.push(o);return t}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var t=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;t+=b)e=M(e/L);return M(t+(L+1)*e/(e+m))}function l(e){var n,t,r,f,l,s,d,p,a,h,v=[],g=e.length,w=0,m=I,j=A;for(t=e.lastIndexOf(E),t<0&&(t=0),r=0;r<t;++r)e.charCodeAt(r)>=128&&o("not-basic"),v.push(e.charCodeAt(r));for(f=t>0?t+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),p=i(e.charCodeAt(f++)),(p>=b||p>M((x-w)/s))&&o("overflow"),w+=p*s,a=d<=j?y:d>=j+C?C:d-j,!(p<a);d+=b)h=b-a,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,t,u,i,l,s,d,p,a,h,v,g,w,m,j,F=[];for(e=r(e),g=e.length,n=I,t=0,l=A,s=0;s<g;++s)(v=e[s])<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)(v=e[s])>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-t)/w)&&o("overflow"),t+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++t>x&&o("overflow"),v==n){for(p=t,a=b;h=a<=l?y:a>=l+C?C:a-l,!(p<h);a+=b)j=p-h,m=b-h,F.push(P(f(h+j%m,0))),p=M(j/m);F.push(P(f(p,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return F.join("")}function d(e){return t(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function p(e){return t(e,function(e){return O.test(e)?"xn--"+s(e):e})}var a="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:r,encode:u},decode:l,encode:s,toASCII:p,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(a&&h)if(module.exports==a)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(a[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[20])


//# sourceMappingURL=embedded.js.map