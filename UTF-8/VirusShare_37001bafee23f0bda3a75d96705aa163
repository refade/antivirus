!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=1105)}([,function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(266),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},,,function(e,t,i){e.exports={default:i(389),__esModule:!0}},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(23),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,a.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(391)),s=o(i(381)),a=o(i(23));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,i){e.exports={default:i(345),__esModule:!0}},,,,function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(5)),s=a(i(397));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,i,a){null===t&&(t=Function.prototype);var o=(0,s.default)(t,i);if(void 0===o){var r=(0,n.default)(t);return null===r?void 0:e(r,i,a)}if("value"in o)return o.value;var l=o.get;return void 0!==l?l.call(a):void 0}},,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0,t.default={PLAYER_ON_CAN_PLAY:1,PLAYER_ON_CAN_PLAY_THROUGH:2,PLAYER_ON_DURATION_CHANGE:3,PLAYER_ON_ENDED:4,PLAYER_ON_ERROR:5,PLAYER_ON_LOADED_DATA:6,PLAYER_ON_LOAD_META_DATA:7,PLAYER_ON_LOAD_START:8,PLAYER_ON_PAUSE:9,PLAYER_ON_PLAY:10,PLAYER_ON_PLAYING:11,PLAYER_ON_PROGRESS:12,PLAYER_ON_RATECHANGE:13,PLAYER_ON_SEEKED:14,PLAYER_ON_SEEKING:15,PLAYER_ON_STALLED:16,PLAYER_ON_TIMEUPDATE:17,PLAYER_ON_VOLUME_CHANGE:18,PLAYER_ON_WAITING:19,PLAYER_ERROR_CONTROLLER_BLOCK:20,PLAYER_ERROR_CONTROLLER_UNBLOCK:21,PLAYER_ON_PREVENT_PLAY_UNBLOCK:22,PLAYER_ON_INIT:23,PLAYER_PLAY:101,PLAYER_PAUSE:102,PLAYER_SET_VOLUME:103,PLAYER_SET_AUTOPLAY:104,PLAYER_SET_SOURCE:105,PLAYER_FALLBACK_SOURCE:106,PLAYER_FALLBACK_SOURCE_FAIL:107,PLAYER_SET_PLAYBACK_RATE:108,PLAYER_BEFORE_SET_SOURCE:109,PLAYER_TOGGLE_FULLSCREEN:110,PLAYER_TOGGLE_LARGEMODE:111,PLAYER_SET_CURRENT_TIME:112,PLAYER_CHANGE_TIMING:113,PLAYER_ON_DECODER_ERROR:114,PLAYER_SET_PREVIEW:115,PLAYER_SET_SLOWMO:116,PLAYER_SET_QUALITY:117,PLAYER_SET_VIDEO_SOURCE:118,MOUSE_CLICK_GLOBAL:201,HELP_MENU_TOGGLE:301,SETTINGS_MENU_TOGGLE:402,SETTINGS_MENU_TOGGLED:403,SETTINGS_RENDER_QUALITY:404,USER_ACTION:501,NO_USER_ACTION:502,USER_ACTION_PAUSE:503,USER_ACTION_UNPAUSE:504,USER_ACTION_BLOCK:505,USER_ACTION_UNBLOCK:506,OVERLAY_MENU_TOGGLE:601,TABS_NUMBER_CHANGED:602,OVERLAY_MENU_TAB_OPEN:603,RELATED_REFRESH_CLICK:604,OVERLAY_ELEMENT_CLICK:605,SOURCE_TYPE_CHANGE:701,SOURCE_AUTO_UPDATE:702,SOURCE_CONTROLLER_ON_READY:703,SOURCE_CONTROLLER_ON_ERROR:704,PAUSE_ACTION_BLOCK:801,PAUSE_ACTION_UNBLOCK:802,SHOW_LOADER:803,FALLBACK_TO_IMAGE:901,PROGRESS_BAR_UPDATE:1001,PROGRESS_BAR_UPDATE_END:1002,PROGRESS_BAR_RESIZE:1003,PLAYER_ERROR_CODE:1101,SHOW_STATUS:1201,CONTROLS_PREVIEW_CLICK:1301,CONTROLS_DOWNLOAD_CLICK:1302,CONTROLS_FAVORITE_CLICK:1303,QUALITY_MENU_OPEN:1304,SHARE_MENU_OPEN:1401,ADS_STARTED:1601,ADS_ENDED:1602,ADS_PLAY:1603,TOOLTIP_UPDATE:1701,SOURCE_CONTROLLER_READY:1801,HLS_LOADED:1802,DASH_LOADED:1803,QUALITY_LIST_OPEN:1901,VR_CONTROLS_LIST_OPEN:1902,VR_CONTROLS_SET:2001,VR_CONTROLS_ADDED:2002,VR_CONTROLS_CHANGED:2003,VR_CONTROLS_MOVED:2004,VR_TRY_TOGGLE:2005,SUBSCRIBE_INIT:2101,SUBSCRIBE_SHOW:2102,SUBSCRIBE_CLICK_SUBSCRIBE:2103,SUBSCRIBE_CLICK_UNSUBSCRIBE:2104}},,function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(298)),s=o(i(308)),a="function"==typeof s.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof s.default&&"symbol"===a(n.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":a(e)}},,,,function(e,t){var i=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},,function(e,t,i){"use strict";var n=window.__DEV__,s={insecure:!1,channelTypes:["straight","gay","shemale"],fallbackLocale:"strings",recaptchaKey:window.initials.recaptchaKey,locale:"jp"===window.xhLocaleName?"ja":window.xhLocaleName||"en",maxAuthFails:5,minUserPassLength:6,premiumURL:"http://xhamsterpremiumpass.com/",addThisScriptURL:"//s7.addthis.com/js/300/addthis_widget.js?pubid=xhamster",cookies:{path:"/",domain:"."+window.location.hostname.split(".").slice(-2).join("."),secure:!1,expires:7,userIDCookieName:"UID",prefixName:"x_"},userChannels:{localStorageName:"uChannels",cookieNameByType:{photo:"u-p-channels",video:"u-v-channels",story:"u-s-channels"},channelsLength:3},staticURL:window.initials.staticURL||(n?"/_static/xh-tpl3":"http://sdev.xhamster.com/tpl3/"),staticPath:"/xh-tpl3",loaderPath:window.initials.apiEndpoint||"/x-api",uploadPath:window.initials.urls?window.initials.urls.uploadHost+"/x-api":"/x-api",uploadProducerSiteListPath:window.initials.uploadProducerSiteListPath||(n?"/fakedata/upload.php":"/x-api"),signupPath:"/signup.php",maxVideoTitleLength:60,maxVideoDescriptionLength:200,maxPhotoTitleLength:60,maxVideoCategories:5,maxPhotoCategories:3,messagesHistoryMinPageOffset:10,messagesHistoryPageLength:30,stubs:{"3:4":"data:image/gif;base64,R0lGODlhBAADAPAAAP///wAAACH5BAAAAAAALAAAAAAEAAMAAAIDhI9WADs="},uploadTypes:{all:"all",video:"video/x-flv, video/mp4, video/3gpp, video/webm, video/mpeg, application/vnd.ms-asf, video/x-flv, video/quicktime, video/x-ms-wmv, video/x-msvideo, .mpg, .avi, .mpeg, .wmv, .3gp, .mp4, .mov, .asf, .flv",image:"image/jpg, image/jpeg, image/bmp, image/png, image/tiff, application/zip",gif:"image/gif",intro:"image/jpg, image/jpeg, image/png, image/gif",csv:".csv"},animations:{delays:{drop:75,dialogDrop:250,popMenuShow:400,popMenuHide:75,tooltip:300}},slider:{speed:{slow:12e3,middle:7e3,fast:3e3},controlsVisible:3e3},editor:{embedPattern:/\/embedded_video\.php\?v=(\d+)/,imageAllowedDomains:[".xhcdn.com",".xhamster.com"],embedVideoLink:"/embedded_video.php?v={id}"},avatarColors:["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#CFD8DC","#EF9A9A","#F48FB1","#CE93D8","#A5D6A7","#C5E1A5","#E6EE9C","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#B0BEC5"],userNotificationsPollPeriod:9e4,messenger:{conversationListPollDelay:7e3,messagePollDelay:5e3},adblockEmulated:!!window.initials.adblock_emulated};t.a=s},,,,,,,,function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},,,,,,,function(e,t,i){var n=i(188)("wks"),s=i(163),a=i(37).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:s)("Symbol."+e))}).store=n},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(23),a=(n=s)&&n.__esModule?n:{default:n};function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!e)throw new TypeError("Element must be set");if(e.get&&(e=e.get(0)),"function"!=typeof t)throw new TypeError("Check must be a function");"number"!=typeof i&&(i=5);for(var n=0,s=e;s&&n++<i&&s!==document.body;){if(t(s))return s;s=s.parentElement}return!1}t.default={css:function(e,t,i){if(!e)throw new TypeError("Element not specified");if(!t||"string"!=typeof t&&"object"!==(void 0===t?"undefined":(0,a.default)(t)))throw new TypeError("Style must be a string or an object");if(void 0===i&&"string"==typeof t)return(e.style[t]||window.getComputedStyle(e)).getPropertyValue(t);var n=function(e,t,i){if(!1===i)return e.style.removeProperty(t);"number"==typeof i&&-1==="zoom,opacity,z-index".indexOf(t)&&(i+="px"),e.style.setProperty(t,i)};if("string"==typeof t)n(e,t,i);else for(var s in t)t.hasOwnProperty(s)&&n(e,s,t[s])},findElPosition:function(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0,bottom:e.offsetHeight,right:e.offsetWidth};var i=document.documentElement,n=document.body,s=i.clientLeft||n.clientLeft||0,a=window.pageXOffset||n.scrollLeft,o=t.left+a-s,r=i.clientTop||n.clientTop||0,l=window.pageYOffset||n.scrollTop,u=t.top+l-r;return{left:Math.round(o),top:Math.round(u),width:Math.round(e.offsetWidth),height:Math.round(e.offsetHeight)}},addClass:function(e,t){for(var i=e.className?e.className.split(" "):[],n=0;n<i.length;n++)if(i[n]==t)return;i.push(t),e.className=i.join(" ")},hasClass:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){for(var i=e.className.split(" "),n=0;n<i.length;n++)i[n]==t&&(i.splice(n,1),n--);e.className=i.join(" ")},getScript:function(e,t,i){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.defer=!0,n.onload=t,n.onerror=i,document.body.appendChild(n)},isElement:function(e){try{return e instanceof HTMLElement}catch(t){return"object"===(void 0===e?"undefined":(0,a.default)(e))&&1===e.nodeType&&"object"===(0,a.default)(e.style)&&"object"===(0,a.default)(e.ownerDocument)}},checkTransformVendor:function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var i in t)if(void 0!==e.style[t[i]+"Transform"])return t[i]+"Transform"}return"transform"},hasParentByData:function(e,t){return o(e,function(e){return!!e.hasAttribute("data-"+t)},arguments.length>2&&void 0!==arguments[2]?arguments[2]:5)},hasParent:function(e,t){return o(e,function(e){return e===t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:5)},removeElement:function(e){e.parentNode&&e.parentNode.removeChild(e)}}},function(e,t,i){e.exports={default:i(316),__esModule:!0}},,,,,function(e,t,i){var n=i(37),s=i(27),a=i(140),o=i(90),r=i(89),l="prototype",u=function(e,t,i){var d,c,h,f=e&u.F,_=e&u.G,v=e&u.S,m=e&u.P,p=e&u.B,E=e&u.W,y=_?s:s[t]||(s[t]={}),g=y[l],b=_?n:v?n[t]:(n[t]||{})[l];for(d in _&&(i=t),i)(c=!f&&b&&void 0!==b[d])&&r(y,d)||(h=c?b[d]:i[d],y[d]=_&&"function"!=typeof b[d]?i[d]:p&&c?a(h,n):E&&b[d]==h?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[l]=e[l],t}(h):m&&"function"==typeof h?a(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[d]=h,e&u.R&&g&&!g[d]&&o(g,d,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(449),a=(n=s)&&n.__esModule?n:{default:n};t.default=new a.default},,function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(429);var a=new((n=s)&&n.__esModule?n:{default:n}).default;t.default=a},,,function(e,t,i){var n=i(70);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},,,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports={default:i(331),__esModule:!0}},,,function(e,t,i){var n=i(67),s=i(235),a=i(190),o=Object.defineProperty;t.f=i(76)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),s)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},,function(e,t,i){e.exports=!i(122)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,,,,,,,,function(e,t,i){var n=i(265),s=i(186);e.exports=function(e){return n(s(e))}},,function(e,t,i){e.exports={default:i(320),__esModule:!0}},,function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(74),s=i(156);e.exports=i(76)?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,function(e,t,i){var n=i(238),s=i(192);e.exports=Object.keys||function(e){return n(e,s)}},,,,,,,,,,,function(e,t){e.exports={}},,,,function(e,t){e.exports=!0},function(e,t,i){var n=i(164);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},,,,,function(e,t){t.f={}.propertyIsEnumerable},,,,,,,,,,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},,,,,,,function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(74).f,s=i(89),a=i(44)("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},,function(e,t,i){var n=i(186);e.exports=function(e){return Object(n(e))}},,function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(87)),s=r(i(71)),a=r(i(1)),o=r(i(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"ajax",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest),l=void 0,u="{}";if(!o.clean&&a)if("GET"===t)i+="?"+e.serializeQuery(a)+"&_="+Math.random();else try{u=(0,s.default)(a)}catch(e){u="{error: stringify error}"}return r.open(t,i,!0),o.clean||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!0,r.aborting=!1),o.contentType&&r.setRequestHeader("Content-Type",o.contentType),(l=new n.default(function(e,t){r.onreadystatechange=function(){if(2===this.readyState&&o.headersReceivedCallback&&"function"==typeof o.headersReceivedCallback&&o.headersReceivedCallback(),4==this.readyState){var i;200==this.status?(i=o.clean?r:r.responseText,e(i)):t({statusText:r.aborting?"abort":r.statusText,status:r.status,responseJSON:r.responseText,responseURL:r.responseURL,headers:r.getAllResponseHeaders()})}}})).abort=function(){r.aborting=!0,r.abort()},r.send(u),l}},{key:"getHeadRedirect",value:function(t){return e.ajax("HEAD",t,!1,{clean:!0})}},{key:"serializeQuery",value:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}}]),e}();t.default=l},,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(71)),s=u(i(8)),a=u(i(1)),o=u(i(2)),r=u(i(169)),l=u(i(447));function u(e){return e&&e.__esModule?e:{default:e}}var d={},c=new(function(){function e(){(0,a.default)(this,e),this.debug=!1,this._errorLog=[],this.TYPES=l.default}return(0,o.default)(e,[{key:"log",value:function(e,t,i,n){var a={component:t,message:i,stack:Error().stack};a=(0,s.default)({},n,a),this._errorLog.push(a),window.Raven&&Raven.captureMessage("XPlayer-"+e,{extra:a}),this.debug}},{key:"send",value:function(e,t){if(e=d[e]){try{t=(0,n.default)(t)}catch(e){t="{'error': 'stringify error'}"}r.default.ajax("GET","/statistics?key="+e+"&data="+t)}}}]),e}());t.default=c},,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=/(:?(\?|&)t=)([0-9]+\.[0-9]{1,2})/;t.default={OFFSET_REGEX:n,parseTime:function(e,t){var i=parseInt(e,10),n=Math.floor(i/3600)||0,s=Math.floor((i-3600*n)/60)||0,a=i-3600*n-60*s||0;return n<10&&(n="0"+n),s<10&&(s="0"+s),a<10&&(a="0"+a),(t?n+":":"")+s+":"+a},parseTimeOffset:function(){var e=n.exec(window.location.href);return!!e&&e[3]}}},,,function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(188)("keys"),s=i(163);e.exports=function(e){return n[e]||(n[e]=s(e))}},function(e,t,i){var n=i(27),s=i(37),a="__core-js_shared__",o=s[a]||(s[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(139)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){var n=i(70),s=i(37).document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,i){var n=i(70);e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){t.f=i(44)},function(e,t,i){var n=i(37),s=i(27),a=i(139),o=i(193),r=i(74).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||r(t,e,{value:o.f(e)})}},function(e,t,i){"use strict";var n=i(164);e.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)}(e)}},,,,,,,,,,,,,,,,function(e,t){t.f=Object.getOwnPropertySymbols},,,function(e,t,i){var n=i(67),s=i(302),a=i(192),o=i(187)("IE_PROTO"),r=function(){},l="prototype",u=function(){var e,t=i(189)("iframe"),n=a.length;for(t.style.display="none",i(239).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[l][a[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(r[l]=n(e),i=new r,r[l]=null,i[o]=e):i=u(),void 0===t?i:s(i,t)}},,,function(e,t,i){var n=i(51),s=i(27),a=i(122);e.exports=function(e,t){var i=(s.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*a(function(){i(1)}),"Object",o)}},function(e,t,i){var n=i(146),s=i(156),a=i(85),o=i(190),r=i(89),l=i(235),u=Object.getOwnPropertyDescriptor;t.f=i(76)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(r(e,t))return s(!n.f.call(e,t),e[t])}},,,,function(e,t,i){"use strict";var n=i(300)(!0);i(236)(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},,,function(e,t,i){"use strict";t.__esModule=!0,t.default={ABORTED:1,NETWORK:2,DECODER:3,SOURCE:4}},function(e,t,i){var n=i(191),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t,i){i(305);for(var n=i(37),s=i(90),a=i(135),o=i(44)("toStringTag"),r="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<r.length;l++){var u=r[l],d=n[u],c=d&&d.prototype;c&&!c[o]&&s(c,o,u),a[u]=a.Array}},,,,,function(e,t,i){var n=i(141),s=i(44)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?i:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},,,function(e,t,i){e.exports=!i(76)&&!i(122)(function(){return 7!=Object.defineProperty(i(189)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(139),s=i(51),a=i(237),o=i(90),r=i(135),l=i(301),u=i(165),d=i(270),c=i(44)("iterator"),h=!([].keys&&"next"in[].keys()),f="values",_=function(){return this};e.exports=function(e,t,i,v,m,p,E){l(i,t,v);var y,g,b,k=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case f:return function(){return new i(this,e)}}return function(){return new i(this,e)}},A=t+" Iterator",L=m==f,T=!1,C=e.prototype,R=C[c]||C["@@iterator"]||m&&C[m],S=R||k(m),O=m?L?k("entries"):S:void 0,P="Array"==t&&C.entries||R;if(P&&(b=d(P.call(new e)))!==Object.prototype&&b.next&&(u(b,A,!0),n||"function"==typeof b[c]||o(b,c,_)),L&&R&&R.name!==f&&(T=!0,S=function(){return R.call(this)}),n&&!E||!h&&!T&&C[c]||o(C,c,S),r[t]=S,r[A]=_,m)if(y={values:L?S:k(f),keys:p?S:k("keys"),entries:O},E)for(g in y)g in C||a(C,g,y[g]);else s(s.P+s.F*(h||T),t,y);return y}},function(e,t,i){e.exports=i(90)},function(e,t,i){var n=i(89),s=i(85),a=i(303)(!1),o=i(187)("IE_PROTO");e.exports=function(e,t){var i,r=s(e),l=0,u=[];for(i in r)i!=o&&n(r,i)&&u.push(i);for(;t.length>l;)n(r,i=t[l++])&&(~a(u,i)||u.push(i));return u}},function(e,t,i){var n=i(37).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(238),s=i(192).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},function(e,t){},function(e,t,i){var n=i(67),s=i(164),a=i(44)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||null==(i=n(o)[a])?t:s(i)}},function(e,t,i){var n,s,a,o=i(140),r=i(324),l=i(239),u=i(189),d=i(37),c=d.process,h=d.setImmediate,f=d.clearImmediate,_=d.MessageChannel,v=d.Dispatch,m=0,p={},E="onreadystatechange",y=function(){var e=+this;if(p.hasOwnProperty(e)){var t=p[e];delete p[e],t()}},g=function(e){y.call(e.data)};h&&f||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return p[++m]=function(){r("function"==typeof e?e:Function(e),t)},n(m),m},f=function(e){delete p[e]},"process"==i(141)(c)?n=function(e){c.nextTick(o(y,e,1))}:v&&v.now?n=function(e){v.now(o(y,e,1))}:_?(a=(s=new _).port2,s.port1.onmessage=g,n=o(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",g,!1)):n=E in u("script")?function(e){l.appendChild(u("script"))[E]=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(67),s=i(70),a=i(195);e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},,function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(8)),s=o(i(1)),a=o(i(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,i){(0,s.default)(this,e),this.options=(0,n.default)({},this._getDefaultOptions(),i)}return(0,a.default)(e,[{key:"_getDefaultOptions",value:function(){return{initialVideoQuality:!1,getSourceAfterRedirect:!1,disableSourceFallback:!1}}},{key:"init",value:function(){}},{key:"getCurrentQuality",value:function(){}},{key:"getQualities",value:function(){}},{key:"getLabelFromQuality",value:function(){}},{key:"getSourceUrl",value:function(){}},{key:"getType",value:function(){}},{key:"prepareTimeupdate",value:function(){}},{key:"changeQuality",value:function(){}},{key:"attachSource",value:function(){}},{key:"fallbackSource",value:function(){}},{key:"destroy",value:function(){}}]),e}();t.default=r},,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(141);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){e.exports={default:i(318),__esModule:!0}},,,,function(e,t,i){var n=i(89),s=i(167),a=i(187)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){"use strict";var n=i(8),s=i.n(n),a=i(1),o=i.n(a),r=i(2),l=i.n(r),u=i(29).a.cookies,d=function(){function e(){o()(this,e)}return l()(e,null,[{key:"getName",value:function(e,t){return(t&&t.use_prefix?u.prefixName:"")+e}},{key:"get",value:function(e,t){var i=document.cookie.match(RegExp("(?:^|; )"+this.getName(e,t).replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return i?decodeURIComponent(i[1]):void 0}},{key:"delete",value:function(e,t){(t=s()({},t)).expires=-1,this.set(e,"",t)}},{key:"set",value:function(e,t,i){var n=0===(i=i||{}).expires?0:i.expires||u.expires;if(i.path=i.path||u.path,i.domain=i.domain||u.domain,0!==n){if("number"==typeof n&&n){var s=new Date;s.setTime(s.getTime()+864e5*n),n=i.expires=s}n&&n.toGMTString&&(i.expires=n.toGMTString())}t=encodeURIComponent(t);var a=this.getName(e,i)+"="+t;for(var o in i)if(i.hasOwnProperty(o)){a+="; "+o;var r=i[o];!0!==r&&(a+="="+r)}document.cookie=a}}]),e}();t.a=d},,,,,,,,,,,,,,,function(e,t,i){var n=i(232),s=i(44)("iterator"),a=i(135);e.exports=i(27).getIteratorMethod=function(e){if(null!=e)return e[s]||e["@@iterator"]||a[n(e)]}},function(e,t,i){var n=i(67);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,i){var n=i(135),s=i(44)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[s]===e)}},function(e,t,i){var n=i(44)("iterator"),s=!1;try{var a=[7][n]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:i=!0}},a[n]=function(){return o},e(a)}catch(e){}return i}},,,,function(e,t,i){var n=i(163)("meta"),s=i(70),a=i(89),o=i(74).f,r=0,l=Object.isExtensible||function(){return!0},u=!i(122)(function(){return l(Object.preventExtensions({}))}),d=function(e){o(e,n,{value:{i:"O"+ ++r,w:{}}})},c=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return u&&c.NEED&&l(e)&&!a(e,n)&&d(e),e}}},,,,,function(e,t,i){e.exports={default:i(299),__esModule:!0}},function(e,t,i){i(222),i(227),e.exports=i(193).f("iterator")},function(e,t,i){var n=i(191),s=i(186);e.exports=function(e){return function(t,i){var a,o,r=s(t)+"",l=n(i),u=r.length;return l<0||l>=u?e?"":void 0:(a=r.charCodeAt(l))<55296||a>56319||l+1===u||(o=r.charCodeAt(l+1))<56320||o>57343?e?r.charAt(l):a:e?r.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(214),s=i(156),a=i(165),o={};i(90)(o,i(44)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:s(1,i)}),a(e,t+" Iterator")}},function(e,t,i){var n=i(74),s=i(67),a=i(124);e.exports=i(76)?Object.defineProperties:function(e,t){s(e);for(var i,o=a(t),r=o.length,l=0;r>l;)n.f(e,i=o[l++],t[i]);return e}},function(e,t,i){var n=i(85),s=i(226),a=i(304);e.exports=function(e){return function(t,i,o){var r,l=n(t),u=s(l.length),d=a(o,u);if(e&&i!=i){for(;u>d;)if((r=l[d++])!=r)return!0}else for(;u>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}}},function(e,t,i){var n=i(191),s=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):a(e,t)}},function(e,t,i){"use strict";var n=i(306),s=i(307),a=i(135),o=i(85);e.exports=i(236)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,s(1)):s(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){e.exports={default:i(309),__esModule:!0}},function(e,t,i){i(310),i(241),i(314),i(315),e.exports=i(27).Symbol},function(e,t,i){"use strict";var n=i(37),s=i(89),a=i(76),o=i(51),r=i(237),l=i(293).KEY,u=i(122),d=i(188),c=i(165),h=i(163),f=i(44),_=i(193),v=i(194),m=i(311),p=i(312),E=i(67),y=i(70),g=i(85),b=i(190),k=i(156),A=i(214),L=i(313),T=i(218),C=i(74),R=i(124),S=T.f,O=C.f,P=L.f,w=n.Symbol,N=n.JSON,x=N&&N.stringify,M="prototype",U=f("_hidden"),D=f("toPrimitive"),Y={}.propertyIsEnumerable,I=d("symbol-registry"),B=d("symbols"),F=d("op-symbols"),G=Object[M],V="function"==typeof w,H=n.QObject,Q=!H||!H[M]||!H[M].findChild,K=a&&u(function(){return 7!=A(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=S(G,t);n&&delete G[t],O(e,t,i),n&&e!==G&&O(G,t,n)}:O,q=function(e){var t=B[e]=A(w[M]);return t._k=e,t},j=V&&"symbol"==typeof w.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof w},W=function(e,t,i){return e===G&&W(F,t,i),E(e),t=b(t,!0),E(i),s(B,t)?(i.enumerable?(s(e,U)&&e[U][t]&&(e[U][t]=!1),i=A(i,{enumerable:k(0,!1)})):(s(e,U)||O(e,U,k(1,{})),e[U][t]=!0),K(e,t,i)):O(e,t,i)},z=function(e,t){E(e);for(var i,n=m(t=g(t)),s=0,a=n.length;a>s;)W(e,i=n[s++],t[i]);return e},X=function(e){var t=Y.call(this,e=b(e,!0));return!(this===G&&s(B,e)&&!s(F,e))&&(!(t||!s(this,e)||!s(B,e)||s(this,U)&&this[U][e])||t)},J=function(e,t){if(e=g(e),t=b(t,!0),e!==G||!s(B,t)||s(F,t)){var i=S(e,t);return!i||!s(B,t)||s(e,U)&&e[U][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=P(g(e)),n=[],a=0;i.length>a;)s(B,t=i[a++])||t==U||t==l||n.push(t);return n},$=function(e){for(var t,i=e===G,n=P(i?F:g(e)),a=[],o=0;n.length>o;)!s(B,t=n[o++])||i&&!s(G,t)||a.push(B[t]);return a};V||(r((w=function(){if(this instanceof w)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(i){this===G&&t.call(F,i),s(this,U)&&s(this[U],e)&&(this[U][e]=!1),K(this,e,k(1,i))};return a&&Q&&K(G,e,{configurable:!0,set:t}),q(e)})[M],"toString",function(){return this._k}),T.f=J,C.f=W,i(240).f=L.f=Z,i(146).f=X,i(211).f=$,a&&!i(139)&&r(G,"propertyIsEnumerable",X,!0),_.f=function(e){return q(f(e))}),o(o.G+o.W+o.F*!V,{Symbol:w});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)f(ee[te++]);for(var ie=R(f.store),ne=0;ie.length>ne;)v(ie[ne++]);o(o.S+o.F*!V,"Symbol",{for:function(e){return s(I,e+="")?I[e]:I[e]=w(e)},keyFor:function(e){if(!j(e))throw TypeError(e+" is not a symbol!");for(var t in I)if(I[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),o(o.S+o.F*!V,"Object",{create:function(e,t){return void 0===t?A(e):z(A(e),t)},defineProperty:W,defineProperties:z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),N&&o(o.S+o.F*(!V||u(function(){var e=w();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],s=1;arguments.length>s;)n.push(arguments[s++]);if(i=t=n[1],(y(t)||void 0!==e)&&!j(e))return p(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!j(t))return t}),n[1]=t,x.apply(N,n)}}),w[M][D]||i(90)(w[M],D,w[M].valueOf),c(w,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(e,t,i){var n=i(124),s=i(211),a=i(146);e.exports=function(e){var t=n(e),i=s.f;if(i)for(var o,r=i(e),l=a.f,u=0;r.length>u;)l.call(e,o=r[u++])&&t.push(o);return t}},function(e,t,i){var n=i(141);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(85),s=i(240).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return s(e)}catch(e){return o.slice()}}(e):s(n(e))}},function(e,t,i){i(194)("asyncIterator")},function(e,t,i){i(194)("observable")},function(e,t,i){i(317),e.exports=i(27).Object.keys},function(e,t,i){var n=i(167),s=i(124);i(217)("keys",function(){return function(e){return s(n(e))}})},function(e,t,i){i(319);var n=i(27).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(51);n(n.S+n.F*!i(76),"Object",{defineProperty:i(74).f})},function(e,t,i){i(241),i(222),i(227),i(321),i(329),i(330),e.exports=i(27).Promise},function(e,t,i){"use strict";var n,s,a,o,r=i(139),l=i(37),u=i(140),d=i(232),c=i(51),h=i(70),f=i(164),_=i(322),v=i(323),m=i(242),p=i(243).set,E=i(325)(),y=i(195),g=i(244),b=i(326),k=i(245),A="Promise",L=l.TypeError,T=l.process,C=T&&T.versions,R=C&&C.v8||"",S=l[A],O="process"==d(T),P=function(){},w=s=y.f,N=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[i(44)("species")]=function(e){e(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==R.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var i=e._c;E(function(){for(var n=e._v,s=1==e._s,a=0,o=function(t){var i,a,o,r=s?t.ok:t.fail,l=t.resolve,u=t.reject,d=t.domain;try{r?(s||(2==e._h&&Y(e),e._h=1),!0===r?i=n:(d&&d.enter(),i=r(n),d&&(d.exit(),o=!0)),i===t.promise?u(L("Promise-chain cycle")):(a=x(i))?a.call(i,l,u):l(i)):u(n)}catch(e){d&&!o&&d.exit(),u(e)}};i.length>a;)o(i[a++]);e._c=[],e._n=!1,t&&!e._h&&U(e)})}},U=function(e){p.call(l,function(){var t,i,n,s=e._v,a=D(e);if(a&&(t=g(function(){O?T.emit("unhandledRejection",s,e):(i=l.onunhandledrejection)?i({promise:e,reason:s}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",s)}),e._h=O||D(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},Y=function(e){p.call(l,function(){var t;O?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},B=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw L("Promise can't be resolved itself");(t=x(e))?E(function(){var n={_w:i,_d:!1};try{t.call(e,u(B,n,1),u(I,n,1))}catch(e){I.call(n,e)}}):(i._v=e,i._s=1,M(i,!1))}catch(e){I.call({_w:i,_d:!1},e)}}};N||(S=function(e){_(this,S,A,"_h"),f(e),n.call(this);try{e(u(B,this,1),u(I,this,1))}catch(e){I.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(327)(S.prototype,{then:function(e,t){var i=w(m(this,S));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=O?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&M(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=u(B,e,1),this.reject=u(I,e,1)},y.f=w=function(e){return e===S||e===o?new a(e):s(e)}),c(c.G+c.W+c.F*!N,{Promise:S}),i(165)(S,A),i(328)(A),o=i(27)[A],c(c.S+c.F*!N,A,{reject:function(e){var t=w(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(r||!N),A,{resolve:function(e){return k(r&&this===o?S:this,e)}}),c(c.S+c.F*!(N&&i(289)(function(e){S.all(e).catch(P)})),A,{all:function(e){var t=this,i=w(t),n=i.resolve,s=i.reject,a=g(function(){var i=[],a=0,o=1;v(e,!1,function(e){var r=a++,l=!1;i.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,i[r]=e,--o||n(i))},s)}),--o||n(i)});return a.e&&s(a.v),i.promise},race:function(e){var t=this,i=w(t),n=i.reject,s=g(function(){v(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return s.e&&n(s.v),i.promise}})},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(140),s=i(287),a=i(288),o=i(67),r=i(226),l=i(286),u={},d={};(t=e.exports=function(e,t,i,c,h){var f,_,v,m,p=h?function(){return e}:l(e),E=n(i,c,t?2:1),y=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(a(p)){for(f=r(e.length);f>y;y++)if((m=t?E(o(_=e[y])[0],_[1]):E(e[y]))===u||m===d)return m}else for(v=p.call(e);!(_=v.next()).done;)if((m=s(v,E,_.value,t))===u||m===d)return m}).BREAK=u,t.RETURN=d},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(37),s=i(243).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,r=n.Promise,l="process"==i(141)(o);e.exports=function(){var e,t,i,u=function(){var n,s;for(l&&(n=o.domain)&&n.exit();e;){s=e.fn,e=e.next;try{s()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(l)i=function(){o.nextTick(u)};else if(!a||n.navigator&&n.navigator.standalone)if(r&&r.resolve){var d=r.resolve(void 0);i=function(){d.then(u)}}else i=function(){s.call(n,u)};else{var c=!0,h=document.createTextNode("");new a(u).observe(h,{characterData:!0}),i=function(){h.data=c=!c}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s),e||(e=s,i()),t=s}}},function(e,t,i){var n=i(37).navigator;e.exports=n&&n.userAgent||""},function(e,t,i){var n=i(90);e.exports=function(e,t,i){for(var s in t)i&&e[s]?e[s]=t[s]:n(e,s,t[s]);return e}},function(e,t,i){"use strict";var n=i(37),s=i(27),a=i(74),o=i(76),r=i(44)("species");e.exports=function(e){var t="function"==typeof s[e]?s[e]:n[e];o&&t&&!t[r]&&a.f(t,r,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var n=i(51),s=i(27),a=i(37),o=i(242),r=i(245);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,s.Promise||a.Promise),i="function"==typeof e;return this.then(i?function(i){return r(t,e()).then(function(){return i})}:e,i?function(i){return r(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){"use strict";var n=i(51),s=i(195),a=i(244);n(n.S,"Promise",{try:function(e){var t=s.f(this),i=a(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){var n=i(27),s=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},,,,,function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(225),a=(n=s)&&n.__esModule?n:{default:n};t.default={1:a.default.ABORTED,2:a.default.NETWORK,3:a.default.DECODER,4:a.default.SOURCE}},function(e,t,i){e.exports=i(452)},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(87),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,i){return function n(s,o){try{var r=t[s](o),l=r.value}catch(e){return void i(e)}if(!r.done)return a.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})}}},,,,,,,function(e,t,i){i(346),e.exports=i(27).Object.assign},function(e,t,i){var n=i(51);n(n.S+n.F,"Object",{assign:i(347)})},function(e,t,i){"use strict";var n=i(124),s=i(211),a=i(146),o=i(167),r=i(265),l=Object.assign;e.exports=!l||i(122)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=o(e),l=arguments.length,u=1,d=s.f,c=a.f;l>u;)for(var h,f=r(arguments[u++]),_=d?n(f).concat(d(f)):n(f),v=_.length,m=0;v>m;)c.call(f,h=_[m++])&&(i[h]=f[h]);return i}:l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports={default:i(395),__esModule:!0}},,,,,,,,function(e,t,i){i(390),e.exports=i(27).Object.getPrototypeOf},function(e,t,i){var n=i(167),s=i(270);i(217)("getPrototypeOf",function(){return function(e){return s(n(e))}})},function(e,t,i){e.exports={default:i(392),__esModule:!0}},function(e,t,i){i(393),e.exports=i(27).Object.setPrototypeOf},function(e,t,i){var n=i(51);n(n.S,"Object",{setPrototypeOf:i(394).set})},function(e,t,i){var n=i(70),s=i(67),a=function(e,t){if(s(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(140)(Function.call,i(218).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return a(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:a}},function(e,t,i){i(396);var n=i(27).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(51);n(n.S,"Object",{create:i(214)})},function(e,t,i){e.exports={default:i(398),__esModule:!0}},function(e,t,i){i(399);var n=i(27).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,i){var n=i(85),s=i(218).f;i(217)("getOwnPropertyDescriptor",function(){return function(e,t){return s(n(e),t)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(442)),s=l(i(46)),a=l(i(1)),o=l(i(2)),r=l(i(21));function l(e){return e&&e.__esModule?e:{default:e}}var u=["USER_ACTION_BLOCK","USER_ACTION_UNBLOCK","USER_ACTION","NO_USER_ACTION","USER_ACTION_PAUSE","USER_ACTION_UNPAUSE"],d=function(){function e(t){(0,a.default)(this,e),this._events={},this._eventId=-1,this.debug=t||!1}return(0,o.default)(e,[{key:"on",value:function(e,t,i,n,s){if(!e)throw Error("Dispatcher: no event name passed");if("number"!=typeof e)throw new TypeError("Dispatcher: event name should be a number");if(!t)throw Error("Dispatcher: no callback passed");if("function"!=typeof t)throw Error("Dispatcher: callback not a function");return this._events.hasOwnProperty(e)||(this._events[e]={}),this._eventId++,this._events[e][this._eventId]={callback:t,context:i||window,once:s,extraData:n},this._eventId}},{key:"once",value:function(e,t,i,n){return this.on(e,t,i,n,!0)}},{key:"off",value:function(e,t){var i=this;void 0!==e||void 0!==t?(e instanceof Array&&e.length&&e.forEach(function(e){(0,s.default)(i._events).forEach(function(t){e in i._events[t]&&(i.debug&&window.console.info("Event listener unbound: ",t,e,i._events[t][e]),delete i._events[t][e])})}),"string"==typeof e&&void 0===t&&this._events[e]?delete this._events[e]:this._events[e]&&void 0!==this._events[e][t]&&delete this._events[e][t]):this._events={}}},{key:"emit",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(this.debug){var o=(0,s.default)(r.default)[(0,n.default)(r.default).indexOf(e)];-1===u.indexOf(o)&&window.console.info("Event emitted: "+o,i)}if(!this._events[e]||!(0,s.default)(this._events[e]).length)return!1;for(var l in this._events[e])if(this._events[e].hasOwnProperty(l)){var d=this._events[e][l];if(void 0===d.context)try{delete this._events[e][l]}catch(e){}else if(d.extraData&&i.push(d.extraData),d.callback.apply(d.context,i),d.once)try{delete this._events[e][l]}catch(e){}}}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(1)),s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,n.default)(this,e),this._localStorageAvailable=!1,this._cookieAvailable=!1,this._init(t)}return(0,s.default)(e,[{key:"_init",value:function(e){"cookie"!==e&&this._checkLocalStorage(),this._checkCookie()}},{key:"_checkLocalStorage",value:function(){try{window.localStorage.setItem("check",1),window.localStorage.getItem("check"),window.localStorage.removeItem("check"),this._localStorageAvailable=!0}catch(e){}}},{key:"_checkCookie",value:function(){try{var e=" "+document.cookie;this._cookieAvailable=!!e}catch(e){}}},{key:"_getCookie",value:function(e){var t=" "+document.cookie,i=" "+e+"=",n=null,s=0,a=0;return t.length>0&&-1!=(s=t.indexOf(i))&&(s+=i.length,-1==(a=t.indexOf(";",s))&&(a=t.length),n=unescape(t.substring(s,a))),n}},{key:"_setCookie",value:function(e,t,i){var n,s=new Date;if(s.setTime(s.getTime()+6e4*i),n=e+"="+t+"; expires="+s.toGMTString()+"; path=/;",document.domain.length){for(var a=document.domain.replace(/^(www\.)/,"").split(".");a.length>2;)a.shift();n+="domain="+a.join(".").replace(/(^\.*)|(\.*$)/g,"")+";"}document.cookie=n}},{key:"setItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8760;return this._localStorageAvailable?window.localStorage.setItem(e,t):(this._cookieAvailable&&this._setCookie(e,t,i),null)}},{key:"getItem",value:function(e){return this._localStorageAvailable?window.localStorage.getItem(e):this._cookieAvailable?this._getCookie(e):null}}]),e}();t.default=o},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(1)),s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,n.default)(this,e),this.core=t,this.element=null,this._init()}return(0,s.default)(e,[{key:"getTemplate",value:function(){throw Error("BasicSettingController - template not defined")}},{key:"getTemplateOptions",value:function(){throw Error("BasicSettingController - template options not defined")}},{key:"_init",value:function(){this.element=document.createElement("span"),this.element.className="setting",this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element.innerHTML=this.getTemplate()(this.getTemplateOptions())}},{key:"_attachEvents",value:function(){throw Error("BasicSettingController - events not defined")}}]),e}();t.default=o},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(64));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,n.default)(this,e),this.core=t,this.parent=i,this.tabData=s,this._template=function(){}}return(0,s.default)(e,[{key:"getName",value:function(){return"generic-tab"}},{key:"getLabel",value:function(){return"generic-tab"}},{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className=this.getName(),this._addTabToParent()}},{key:"_renderTabContent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=[];return this.tabData.slice(t).forEach(function(t){i.length>=e.parent.tabItemService.tabsNumber||null!==t.title&&null!==t.pageUrl&&i.push(e._template(t))}),i.join("")}},{key:"_addTabToParent",value:function(){this.tabElement=document.createElement("span"),this.tabElement.className="tab",this.tabElement.setAttribute("data-tab",this.getName()),this.tabElement.innerHTML=this.getLabel(),this.parent.tabsElement.insertBefore(this.tabElement,this.parent.tabsElement.firstChild),this.parent.contentElement.appendChild(this.element)}},{key:"_attachEvents",value:function(){o.default.on(a.default.TABS_NUMBER_CHANGED,this.renderTabContent,this),this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onElementClick",value:function(e){e.target&&e.target.className&&-1===e.target.className.indexOf(this.getName())&&o.default.emit(a.default.OVERLAY_ELEMENT_CLICK,this.getName())}},{key:"renderTabContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&(this.tabData=e),this.element.innerHTML=this._renderTabContent(t)}}]),e}();t.default=l},,,,,,,,,,function(e,t,i){e.exports={default:i(443),__esModule:!0}},function(e,t,i){i(444),e.exports=i(27).Object.values},function(e,t,i){var n=i(51),s=i(445)(!1);n(n.S,"Object",{values:function(e){return s(e)}})},function(e,t,i){var n=i(124),s=i(85),a=i(146).f;e.exports=function(e){return function(t){for(var i,o=s(t),r=n(o),l=r.length,u=0,d=[];l>u;)a.call(o,i=r[u++])&&d.push(e?[i,o[i]]:o[i]);return d}}},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(1)),s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}var o={hls:"application/vnd.apple.mpegurl",dash:"application/dash+xml",mp4:'video/mp4; codecs="avc1.640029"',vp9:'video/webm; codecs="vp9, opus"',h265:'video/mp4; codecs="hvc"'},r=function(){function e(t){(0,n.default)(this,e),this.core=t,this._capabilities=this._defaultCapabilities(),this._init()}return(0,s.default)(e,[{key:"capabilities",value:function(){return this._capabilities}},{key:"_defaultCapabilities",value:function(){return{videoElementSupported:!1,hls:!1,hlsFull:!1,dash:!1,mp4:!1,h265:!1,vp9:!1,android:!1,idevice:!1,mobile:!1,ipad:!1,touch:!1,gyroscope:!1,console:!1,ie:!1,safari:!1,chrome:!1,firefox:!1,samsung:!1,fullscreen:!1}}},{key:"_init",value:function(){this._detectCapabilities()}},{key:"_detectCapabilities",value:function(){this._checkIsMobile(),this._checkSupportedFormats(),this._checkTouchScreen(),this._checkIsConsole(),this._checkIsIE(),this._checkBrowser(),this._checkFullscreen()}},{key:"_checkSupportedFormats",value:function(){try{var e=document.createElement("video");if(!e.canPlayType)return;for(var t in o){var i=["probably"];"hls"===t&&this._HLSFullSupport()&&(this._capabilities.hlsFull=!0),"dash"===t&&this._HLSFullSupport()?this._capabilities.dash=!0:("hls"!==t&&"h265"!==t&&"dash"!==t||i.push("maybe"),"h265"===t&&this._capabilities.idevice&&this._capabilities.idevice<11?this._capabilities[t]=!1:this._capabilities[t]=i.indexOf(e.canPlayType(o[t]))>-1||!(!window.MediaSource||!window.MediaSource.isTypeSupported(o[t])))}}catch(e){}}},{key:"_getMediaSource",value:function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},{key:"_HLSFullSupport",value:function(){var e=this._getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!i&&!!n}},{key:"_checkIsMobile",value:function(){try{if(/iP(hone|od|ad)/.test(navigator.appVersion))return/iPad/.test(navigator.appVersion)&&(this._capabilities.ipad=!0),this._capabilities.mobile=!0,void(this._capabilities.idevice=parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],10));var e=(""+navigator.userAgent.toLowerCase()).match(/android\s([0-9\.]*)/);e&&2==e.length&&(this._capabilities.android=parseFloat(e[1]),this._capabilities.mobile=!0)}catch(e){}}},{key:"_checkTouchScreen",value:function(){this._capabilities.touch="ontouchstart"in window||navigator.msMaxTouchPoints}},{key:"_checkIsConsole",value:function(){try{(navigator.userAgent.match(/playstation/i)||navigator.userAgent.match(/xbox/i)||navigator.userAgent.match(/wii/i)||navigator.userAgent.match(/psvita/i))&&(this._capabilities.console=!0)}catch(e){}}},{key:"_checkIsIE",value:function(){try{this._capabilities.ie=(e=navigator.userAgent.match(/(?:MSIE |Edge\/*|Trident\/.*; rv:)(\d+)/))?parseInt(e[1]):null}catch(e){}var e}},{key:"_checkFullscreen",value:function(){this._capabilities.fullscreen=!0===document.fullscreenEnabled||!0===document.webkitFullscreenEnabled||!0===document.mozFullScreenEnabled||!0===document.msFullscreenEnabled||"number"==typeof this._capabilities.ie&&this._capabilities.ie<11}},{key:"_checkBrowser",value:function(){try{var e=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&"Win32"!==navigator.platform,i=/Firefox\//.test(navigator.userAgent),n=/SamsungBrowser\//.test(navigator.userAgent);this._capabilities.firefox=i,this._capabilities.chrome=e,this._capabilities.safari=t,this._capabilities.samsung=n}catch(e){}}},{key:"checkGyroscope",value:function(e){var t=this;"ondevicemotion"in window||(this._capabilities.gyroscope=!1);window.addEventListener("devicemotion",function i(n){(n.rotationRate.alpha||n.rotationRate.beta||n.rotationRate.gamma)&&(t._capabilities.gyroscope=!0,e()),window.removeEventListener("devicemotion",i)})}}]),e}();t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default={IO_ERROR:"IO_ERROR",PLAYER_ERROR:"PLAYER_ERROR",SOURCE_ERROR:"SOURCE_ERROR",SCRIPT_ERROR:"SCRIPT_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR",FALLBACK_INIT:"FALLBACK_INIT",INIT_ERROR:"INIT_ERROR",NETWORK_ERROR:"NETWORK_ERROR"}},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(1)),s=f(i(2)),a=f(i(45)),o=f(i(183)),r=f(i(21)),l=f(i(62)),u=f(i(336)),d=f(i(450)),c=f(i(225)),h=f(i(177));function f(e){return e&&e.__esModule?e:{default:e}}var _="xplayer-error",v="xh-helper-hidden",m=function(){function e(t){(0,n.default)(this,e),this.core=t,l.default.set("error",!1),this._blocked=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this._errorElement=document.createElement("div"),this._errorElement.className="xplayer-error",a.default.addClass(this._errorElement,v),this.core.element.appendChild(this._errorElement)}},{key:"_attachEvents",value:function(){this.core.on(r.default.PLAYER_ON_ERROR,this._processPlayerErrorEvent,this),this.core.on(r.default.PLAYER_FALLBACK_SOURCE_FAIL,this._processErrorType.bind(this,c.default.SOURCE,!0)),this.core.on(r.default.PLAYER_ERROR_CONTROLLER_BLOCK,this._onErrorServiceBlock,this),this.core.on(r.default.PLAYER_ERROR_CONTROLLER_UNBLOCK,this._onErrorServiceUnblock,this),this.core.on(r.default.PLAYER_ON_PLAYING,this._hideError,this),this._errorElement.addEventListener("click",this._onErrorElementClick.bind(this))}},{key:"_onErrorElementClick",value:function(e){"reload-page"===e.target.className&&this._reloadPage()}},{key:"_onErrorServiceBlock",value:function(){this._blocked=!0}},{key:"_onErrorServiceUnblock",value:function(){this._blocked=!1}},{key:"_processPlayerErrorEvent",value:function(e){if(!this._blocked){var t=e&&e.target&&e.target.error&&e.target.error.code,i=u.default[t];i?this._processErrorType(i):this._checkPosterError()}}},{key:"_processErrorType",value:function(e,t){var i=d.default[e];l.default.set("error",!0),h.default.log(h.default.TYPES.PLAYER_ERROR+"-"+e,"PlayerErrorService",i,{sourceCore:this.core.sourceController.getSourceUrl(),sourceVideo:this.core.videoElement.src,quality:this.core.sourceController.getCurrentQuality(),settings:this.core.settings,currentTimeCore:l.default.get("currentTime"),currentTimeVideo:this.core.videoElement.currentTime,readyStateVideo:this.core.videoElement.readyState}),e!==c.default.ABORTED&&(e!==c.default.DECODER?e!==c.default.SOURCE||t?this._showError(i):this._processSourceError():this._processDecoderError())}},{key:"_processDecoderError",value:function(){var e=this;if("hls"!==this.core.sourceController.type||"auto"!==this.core.sourceController.getCurrentQuality()){var t=l.default.get("currentTime");h.default.send("decoder",{quality:this.core.sourceController.getCurrentQuality(),currentTime:t,videoId:this.core.options.videoId}),this.core.emit(r.default.PAUSE_ACTION_BLOCK),this.core.emit(r.default.PLAYER_ON_DECODER_ERROR),this.core._setVideoSource(),this.core.once(r.default.PLAYER_ON_CAN_PLAY,function(){e.core.emit(r.default.PAUSE_ACTION_UNBLOCK),e.core.emit(r.default.PLAYER_SET_CURRENT_TIME,t+5),e.core.once(r.default.PLAYER_ON_SEEKED,function(){e.core.emit(r.default.PLAYER_PLAY)})})}else this.core.emit(r.default.PLAYER_FALLBACK_SOURCE)}},{key:"_processSourceError",value:function(){h.default.send("source",{sourceUrl:this.core.sourceController.getSourceUrl()}),this.core.emit(r.default.PLAYER_FALLBACK_SOURCE)}},{key:"_checkPosterError",value:function(){var e=this.core.options.poster;e?this._checkImageAvailable(e):h.default.log(h.default.TYPES.PLAYER_ERROR+"-POSTER","PlayerErrorService","no poster passed",{posterURL:e,videoId:this.core.options.videoId})}},{key:"_checkImageAvailable",value:function(e){var t=new Image;t.onload=this._processUndefinedError.bind(this),t.onerror=this._processPosterNotAvailable.bind(this,e),t.src=e}},{key:"_processUndefinedError",value:function(){h.default.log(h.default.TYPES.PLAYER_ERROR+"-UNDEFINED","PlayerErrorService","error code undefined",{source:this.core&&this.core.videoElement&&this.core.videoElement.src||null,currentTime:this.core&&l.default.get("currentTime")||null,settings:this.core&&this.core.settings||null,readyStateVideo:this.core&&this.core.videoElement&&this.core.videoElement.readyState||null})}},{key:"_processPosterNotAvailable",value:function(e){h.default.log(h.default.TYPES.PLAYER_ERROR+"-POSTER","PlayerErrorService","poster not available",{posterURL:e,videoId:this.core.options.videoId})}},{key:"_reloadPage",value:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=o.default.OFFSET_REGEX.test(window.location.href)?window.location.href.replace(o.default.OFFSET_REGEX,"$10.1"):window.location.href+e+"t=0.1";window.location.href=t}},{key:"_showError",value:function(e){var t='<div class="error-wrapper"><span class="error-message">'+e+'</span><br><span class="reload-page">Reload</span></div>';this._errorElement.innerHTML=t,a.default.removeClass(this._errorElement,v),a.default.addClass(this.core.element,_),this.core.emit(r.default.USER_ACTION)}},{key:"_hideError",value:function(){l.default.set("error",!1),a.default.addClass(this._errorElement,v),a.default.removeClass(this.core.element,_)}},{key:"hasError",value:function(){return l.default.get("error")}}]),e}();t.default=m},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(64));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,n.default)(this,e),this.states=this._getDefaultStates(),this._init()}return(0,s.default)(e,[{key:"_getDefaultStates",value:function(){return{ads:!1,error:!1,playing:!1,ended:!1,duration:0,sourceLoaded:!1,currentTime:!1}}},{key:"_init",value:function(){o.default.on(a.default.ADS_STARTED,this.set.bind(this,"ads",!0)),o.default.on(a.default.ADS_ENDED,this.set.bind(this,"ads",!1)),o.default.on(a.default.PLAYER_ON_PLAY,this.set.bind(this,"playing",!0)),o.default.on(a.default.PLAYER_ON_PLAYING,this.set.bind(this,"playing",!0)),o.default.on(a.default.PLAYER_ON_PAUSE,this.set.bind(this,"playing",!1)),o.default.on(a.default.PLAYER_ON_ENDED,this.set.bind(this,"playing",!1)),o.default.on(a.default.PLAYER_ON_ENDED,this.set.bind(this,"ended",!0)),o.default.on(a.default.PLAYER_ON_PLAY,this.set.bind(this,"ended",!1)),o.default.on(a.default.PLAYER_ON_PLAYING,this.set.bind(this,"ended",!1)),o.default.on(a.default.PLAYER_ON_TIMEUPDATE,this._onTimeupdate,this),o.default.on(a.default.PLAYER_ON_DURATION_CHANGE,this._onDurationChange,this)}},{key:"_onDurationChange",value:function(e){this.set("duration",e.target.duration)}},{key:"_onTimeupdate",value:function(e){this.set("currentTime",e.target.currentTime)}},{key:"set",value:function(e,t){this.states[e]=t}},{key:"get",value:function(e){return this.states.hasOwnProperty(e)?this.states[e]:null}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n,s=o(i(451)),a=o(i(225));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(n={},(0,s.default)(n,a.default.ABORTED,"Aborted error"),(0,s.default)(n,a.default.NETWORK,"Network error"),(0,s.default)(n,a.default.DECODER,"Decoder error"),(0,s.default)(n,a.default.SOURCE,"Source error"),n)},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(266),a=(n=s)&&n.__esModule?n:{default:n};t.default=function(e,t,i){return t in e?(0,a.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t,i){var n=function(){return this}()||Function("return this")(),s=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=s&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=i(453),s)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var i,n=Object.prototype,s=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",u="object"==typeof e,d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{(d=t.regeneratorRuntime=u?e.exports:{}).wrap=g;var c="suspendedStart",h="suspendedYield",f="executing",_="completed",v={},m={};m[o]=function(){return this};var p=Object.getPrototypeOf,E=p&&p(p(w([])));E&&E!==n&&s.call(E,o)&&(m=E);var y=L.prototype=k.prototype=Object.create(m);A.prototype=y.constructor=L,L.constructor=A,L[l]=A.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},d.awrap=function(e){return{__await:e}},T(C.prototype),C.prototype[r]=function(){return this},d.AsyncIterator=C,d.async=function(e,t,i,n){var s=new C(g(e,t,i,n));return d.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},T(y),y[l]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},d.values=w,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,s){return r.type="throw",r.arg=e,t.next=n,s&&(t.method="next",t.arg=i),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var s=n.arg;O(i)}return s}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),v}}}function g(e,t,i,n){var s,a,o,r,l=t&&t.prototype instanceof k?t:k,u=Object.create(l.prototype),d=new P(n||[]);return u._invoke=(s=e,a=i,o=d,r=c,function(e,t){if(r===f)throw Error("Generator is already running");if(r===_){if("throw"===e)throw t;return N()}for(o.method=e,o.arg=t;;){var i=o.delegate;if(i){var n=R(i,o);if(n){if(n===v)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===c)throw r=_,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=f;var l=b(s,a,o);if("normal"===l.type){if(r=o.done?_:h,l.arg===v)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=_,o.method="throw",o.arg=l.arg)}}),u}function b(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function k(){}function A(){}function L(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){var t;this._invoke=function(i,n){function a(){return new Promise(function(t,a){!function t(i,n,a,o){var r=b(e[i],e,n);if("throw"!==r.type){var l=r.arg,u=l.value;return u&&"object"==typeof u&&s.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},o)}o(r.arg)}(i,n,t,a)})}return t=t?t.then(a,a):a()}}function R(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,R(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var s=b(n,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,v;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,i){"use strict";t.__esModule=!0;var n=d(i(71)),s=d(i(8)),a=d(i(1)),o=d(i(2)),r=d(i(430)),l=d(i(21)),u=d(i(177));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,i){(0,a.default)(this,e),this.core=t,this._settings={},this._storage=null,this._init(i)}return(0,o.default)(e,[{key:"getSettings",value:function(){return this._settings}},{key:"_getDefaultSettings",value:function(){return{autoplay:!1,volume:1,muted:!1,quality:"auto",preview:!0}}},{key:"_init",value:function(e){this._storage=new r.default,this._settings=this._loadSettings(),e&&(this._settings=(0,s.default)({},this._settings,e.override)),this._attachEvents()}},{key:"_attachEvents",value:function(){this.core.on(l.default.PLAYER_ON_VOLUME_CHANGE,this._changeSetting.bind(this,"volume")),this.core.on(l.default.PLAYER_SET_SOURCE,this._changeSetting.bind(this,"quality")),this.core.on(l.default.PLAYER_SET_AUTOPLAY,this._changeSetting.bind(this,"autoplay")),this.core.on(l.default.PLAYER_SET_PREVIEW,this._changeSetting.bind(this,"preview"))}},{key:"_changeSetting",value:function(e,t){"volume"===e&&(this._changeSetting("muted",t.target.muted),t=t.target.volume),null!==t&&(this._settings[e]=t,this._saveSettings())}},{key:"_saveSettings",value:function(){var e=void 0;try{e=(0,n.default)(this._settings),this._storage.setItem("x-player-settings",e)}catch(e){u.default.log(u.default.TYPES.IO_ERROR,"UserSettingsController","Сan't save settings",{settings:this._settings})}}},{key:"_loadSettings",value:function(){var e=this._loadSavedSettings();return(0,s.default)({},this._getDefaultSettings(),e)}},{key:"_loadSavedSettings",value:function(){var e=this._storage.getItem("x-player-settings");try{e=JSON.parse(e)}catch(t){e={},u.default.log(u.default.TYPES.IO_ERROR,"UserSettingsController","Can't parse settings",{settings:this._settings})}return e}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(21),a=(n=s)&&n.__esModule?n:{default:n};t.default={canplay:a.default.PLAYER_ON_CAN_PLAY,canplaythrough:a.default.PLAYER_ON_CAN_PLAY_THROUGH,durationchange:a.default.PLAYER_ON_DURATION_CHANGE,ended:a.default.PLAYER_ON_ENDED,error:a.default.PLAYER_ON_ERROR,loadeddata:a.default.PLAYER_ON_LOADED_DATA,loadedmetadata:a.default.PLAYER_ON_LOAD_META_DATA,loadstart:a.default.PLAYER_ON_LOAD_START,pause:a.default.PLAYER_ON_PAUSE,play:a.default.PLAYER_ON_PLAY,playing:a.default.PLAYER_ON_PLAYING,progress:a.default.PLAYER_ON_PROGRESS,ratechange:a.default.PLAYER_ON_RATECHANGE,seeked:a.default.PLAYER_ON_SEEKED,seeking:a.default.PLAYER_ON_SEEKING,stalled:a.default.PLAYER_ON_STALLED,timeupdate:a.default.PLAYER_ON_TIMEUPDATE,volumechange:a.default.PLAYER_ON_VOLUME_CHANGE,waiting:a.default.PLAYER_ON_WAITING}},function(e,t,i){"use strict";t.__esModule=!0;var n=d(i(1)),s=d(i(2)),a=d(i(45)),o=d(i(21)),r=d(i(64)),l=d(i(62)),u=d(i(457));function d(e){return e&&e.__esModule?e:{default:e}}var c="xh-helper-hidden",h=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.shown=!1,this._timeupdateRequested=null,this._timeupdateCount=0,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.loaderElement=document.createElement("span"),this.loaderElement.className="xplayer-loader",this.loaderElement.innerHTML=(0,u.default)(),a.default.addClass(this.loaderElement,c),this.core.element.appendChild(this.loaderElement)}},{key:"_attachEvents",value:function(){r.default.on(o.default.PLAYER_ON_SEEKING,this._showLoader,this),r.default.on(o.default.PLAYER_ON_WAITING,this._showLoader,this),r.default.on(o.default.PLAYER_ON_LOAD_START,this._showLoader,this),r.default.on(o.default.SHOW_LOADER,this._showLoader,this),r.default.on(o.default.PLAYER_ON_PLAYING,this._hideLoader,this),r.default.on(o.default.PLAYER_ON_SEEKED,this._hideLoader,this),r.default.on(o.default.PLAYER_ON_LOAD_META_DATA,this._hideLoader,this),r.default.on(o.default.PLAYER_ON_CAN_PLAY,this._hideLoader,this),r.default.on(o.default.PLAYER_ON_ERROR,this._hideLoader,this)}},{key:"_showLoader",value:function(){this.shown||this.core.preload||(this.shown=!0,this._toggleShown(!0))}},{key:"_hideLoader",value:function(){var e=this;this.core.capabilities.safari&&l.default.get("ads")&&!this._timeupdateRequested?this._timeupdateRequested=r.default.on(o.default.PLAYER_ON_TIMEUPDATE,function(){e._timeupdateCount<2?e._timeupdateCount++:(r.default.off(o.default.PLAYER_ON_TIMEUPDATE,e._timeupdateRequested),e._toggleShown(!1),e._timeupdateRequested=null)}):this._timeupdateRequested||this._toggleShown(!1)}},{key:"_toggleShown",value:function(e){this.shown=e,this.shown?a.default.removeClass(this.loaderElement,c):a.default.addClass(this.loaderElement,c)}}]),e}();t.default=h},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<span class="xplayer-dots-loader"><span class="dot"></span><span class="dot"></span><span class="dot"></span></span>'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";window.console||(window.console={log:function(){},error:function(){},info:function(){}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,s;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),o=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),n=Array(o),s=0;s<o;){var r,l;s in a&&(r=a[s],l=e.call(i,r,s,a),n[s]=l),s++}return n}),window.requestAnimationFrame||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.mozCancelAnimationFrame||function(e){clearTimeout(e)})},function(e,t,i){"use strict";t.__esModule=!0;var n=y(i(23)),s=y(i(8)),a=y(i(1)),o=y(i(2)),r=y(i(64)),l=y(i(497)),u=y(i(446)),d=y(i(177)),c=y(i(448)),h=y(i(498)),f=y(i(499)),_=y(i(500)),v=y(i(454)),m=y(i(62)),p=y(i(455)),E=y(i(21));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t,i,n){(0,a.default)(this,e),this.elementId=t,this.element=document.getElementById(t),this.options=i,this.pluginOptions=n||{},this.settings=null,this.autoplay=!1,this.poster=i.poster,this.type="xplayer",this._requestedPlayLoaded=null,this._requestedPlayCanPlay=null,this.preload=!1,this._init()}return(0,o.default)(e,[{key:"_init",value:function(){this._initDispatcher(),this.capabilitiesService=new u.default,this.capabilities=this.capabilitiesService.capabilities(),this.fallbackService=new h.default(this.elementId,this,this.options.fallback),this.options.sources=f.default.checkSources(this.options.sources,this.capabilities),this.options.sources?this._initXPlayer():this._fallbackPlayer()}},{key:"_fallbackPlayer",value:function(){this.type="none",this.fallbackService.fallbackImage()}},{key:"_initDispatcher",value:function(){var e=this;r.default.debug=this.options.debug,this.dispatcher=r.default,this.on=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.dispatcher.on(t,i,n)},this.once=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.dispatcher.once(t,i,n)},this.off=function(t,i){return e.dispatcher.off(t,i)},this.emit=function(t){for(var i,n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return(i=e.dispatcher).emit.apply(i,[t].concat(s))}}},{key:"_initXPlayer",value:function(){this.videoElement=this._createVideoElement(),this.options.duration?m.default.set("duration",this.options.duration):d.default.log(d.default.TYPES.INIT_ERROR,"Core","No duration passed",{options:this.options}),this._initPlayerEvents(),this._initPlayingEvents(),this.states=m.default,this.playerErrorController=new c.default(this),this.userSettingsController=new v.default(this,this.options.userSettings),this.settings=this.userSettingsController.getSettings(),this.options.dashConfig=(0,s.default)({},this.options.dashConfig,{autoplay:this.options.preventFirstPlay,debug:this.options.debug}),this.sourceControllerFactory=new _.default(this.options.sources,{initialVideoQuality:this.settings.quality,disableSourceFallback:this.options.disableSourceFallback,getSourceAfterRedirect:this.options.getSourceAfterRedirect,hlsFullSupport:this.capabilities.hlsFull,hlsConfig:this.options.hlsConfig,dashConfig:this.options.dashConfig,dashSupport:this.capabilities.dash,videoElement:this.videoElement}),this.sourceController=this.sourceControllerFactory.createNext(),this.sourceController&&!this.sourceController.destroyed?(this.sourceController.init(),this.airplayController=new l.default(this),this._preloadActivate()):this._fallbackPlayer()}},{key:"_render",value:function(){throw Error("Xplayer - no render method")}},{key:"_createVideoElement",value:function(){return document.createElement("video")}},{key:"_preloadActivate",value:function(){var e=this;if("plain"!==this.options.version){if(this.options.preventFirstPlay)return;if(!Array.isArray(this.options.preload))return;if(-1===this.options.preload.indexOf(this.sourceController.type))return}this.preload=!0,setTimeout(function(t){return e.sourceController.attachSource(e.videoElement)},0)}},{key:"_initPlayerEvents",value:function(){var e=this,t=function(t){if(!p.default.hasOwnProperty(t))return{v:void 0};e.videoElement.addEventListener(t,function(i){return e.emit(p.default[t],i)})};for(var i in p.default){var s=t(i);if("object"===(void 0===s?"undefined":(0,n.default)(s)))return s.v}this.on(E.default.PLAYER_PLAY,this._playerPlay,this),this.on(E.default.PLAYER_PAUSE,this._playerPause,this)}},{key:"_playerPlay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.preload=!1,!this.options.preventFirstPlay||this.capabilities.safari||this.capabilities.mobile||"hls"!==this.sourceController.type){if(!this.sourceController.ready)return this.capabilities.safari&&this.videoElement.load(),void r.default.once(E.default.SOURCE_CONTROLLER_READY,this._playerPlay.bind(this,t));m.default.get("sourceLoaded")&&!t||((this.capabilities.safari||this.capabilities.mobile)&&this.videoElement.load(),this.options.preventFirstPlay||this.sourceController.attachSource(this.videoElement)),(!this.capabilities.safari||this.capabilities.mobile||"hls"!==this.sourceController.type)&&this.videoElement.readyState<2?this._requestedPlayLoaded||this._requestedPlayCanPlay||(this._requestedPlayLoaded=this.on(E.default.PLAYER_ON_LOADED_DATA,function(){e.emit(E.default.PLAYER_PLAY)}),this._requestedPlayCanPlay=this.on(E.default.PLAYER_ON_CAN_PLAY,function(){e.emit(E.default.PLAYER_PLAY)})):this.options.preventFirstPlay&&"plain"!==this.options.version&&!0!==t||(this._clearPlayRequests(),this.videoElement.play())}}},{key:"_playerPause",value:function(){this._clearPlayRequests(),this.videoElement.pause()}},{key:"_clearPlayRequests",value:function(){this.off(E.default.PLAYER_ON_LOADED_DATA,this._requestedPlayLoaded),this.off(E.default.PLAYER_ON_CAN_PLAY,this._requestedPlayCanPlay),this._requestedPlayLoaded=null,this._requestedPlayCanPlay=null}},{key:"_initPlayingEvents",value:function(){this.on(E.default.PLAYER_ON_PREVENT_PLAY_UNBLOCK,this._onPlayerPreventPlayUnblock,this),this.on(E.default.PLAYER_SET_SOURCE,this._changeQuality,this),this.on(E.default.PLAYER_SET_VIDEO_SOURCE,this._setVideoSource,this),this.on(E.default.PLAYER_FALLBACK_SOURCE,this._fallbackSource,this),this.on(E.default.PLAYER_SET_CURRENT_TIME,this._setCurrentTime,this),this.on(E.default.PLAYER_SET_VOLUME,this._setVolume,this)}},{key:"_setVolume",value:function(e){e=e<0?0:e>1?1:e,this.videoElement.volume=e}},{key:"_onPlayerPreventPlayUnblock",value:function(){this.options.preventFirstPlay=!1,this._clearPlayRequests()}},{key:"_changeQuality",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.capabilities.samsung&&m.default.get("ads")&&(i=null),this.capabilities.safari&&!m.default.get("sourceLoaded")&&this.videoElement.load(),this.sourceController.prepareTimeupdate(t,i,n),this.sourceController.changeQuality(this.videoElement,e,this.options.preventFirstPlay),this.options.preventFirstPlay&&this.emit(E.default.PLAYER_PLAY),this.emit(E.default.SOURCE_TYPE_CHANGE)}},{key:"_setVideoSource",value:function(e){this.videoElement.src=e,this.videoElement.load(),m.default.set("sourceLoaded",!0)}},{key:"_fallbackSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.sourceController.fallbackSource()){if(this.sourceController=this.sourceControllerFactory.createNext(),this.sourceControllerFactory.isAbstract(this.sourceController))return void this.emit(E.default.PLAYER_FALLBACK_SOURCE_FAIL);this.sourceController.init()}this.emit(E.default.SOURCE_TYPE_CHANGE),e||(this.sourceController.changeQuality(this.videoElement),m.default.get("currentTime")&&(this._setCurrentTime(m.default.get("currentTime")),this.emit(E.default.PLAYER_PLAY)))}},{key:"_setCurrentTime",value:function(e){var t=this;if(!m.default.get("sourceLoaded")){if(m.default.set("currentTime",e),this.options.preventFirstPlay)return;return this.sourceController.ready?(this.sourceController.attachSource(this.videoElement),void this.once(E.default.PLAYER_ON_LOAD_META_DATA,function(){t._setCurrentTime(e)})):void r.default.once(E.default.SOURCE_CONTROLLER_READY,this._setCurrentTime,this,e)}if(this.capabilities.safari&&this.videoElement.readyState<2)return this.currentTime=e,void this.once(E.default.PLAYER_ON_LOADED_DATA,function(){t._setCurrentTime(e)});if(!m.default.get("ads")&&(e||0===e)&&!(m.default.get("ended")&&e>=this.videoElement.currentTime||(e>this.videoElement.duration?e=this.videoElement.duration:e<0&&(e=0),m.default.set("currentTime",e),this.capabilities.ie&&isNaN(this.videoElement.duration))))try{this.videoElement.currentTime=m.default.get("currentTime")}catch(e){}}}]),e}();t.default=g},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(64));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,n.default)(this,e),this.core=t,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){window.WebKitPlaybackTargetAvailabilityEvent&&this._attachEvents()}},{key:"_onAirplayWirelessChanged",value:function(){"auto"!==this.core.sourceController.getCurrentQuality()&&-1!==this.core.sourceController.getQualities().indexOf("auto")&&this.core.videoElement.webkitCurrentPlaybackTargetIsWireless&&(o.default.emit(a.default.PLAYER_SET_SOURCE,"auto"),o.default.emit(a.default.SETTINGS_RENDER_QUALITY))}},{key:"_attachEvents",value:function(){this.core.videoElement.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._onAirplayWirelessChanged.bind(this))}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(8)),s=u(i(1)),a=u(i(2)),o=u(i(45)),r=u(i(177)),l=u(i(21));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,i,a){(0,s.default)(this,e),this._core=i,this._options=(0,n.default)({},this._defaultOptions(),a||{}),this._init()}return(0,a.default)(e,[{key:"_defaultOptions",value:function(){return{fallbackImageClass:"xplayer-fallback-image"}}},{key:"_init",value:function(){this._core&&this._core.on(l.default.FALLBACK_TO_IMAGE,this._showFallbackImage,this)}},{key:"_showFallbackImage",value:function(){var e=document.getElementsByClassName(this._options.fallbackImageClass)[0];this._removePlayerElement(),this._destroyPlayerCore(),e?o.default.removeClass(e,"xh-helper-hidden"):r.default.log(r.default.TYPES.FALLBACK_ERROR,"FallbackService","FALLBACK_TO_IMAGE_ERROR",{fallbackImageClass:this._options.fallbackImageClass})}},{key:"_removePlayerElement",value:function(){this._core&&this._core.element&&this._core.element.parentNode&&this._core.element.parentNode.removeChild(this._core.element)}},{key:"_destroyPlayerCore",value:function(){this._core&&this._core.off(),this._core=null}},{key:"fallbackImage",value:function(){this._showFallbackImage()}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(46)),s=o(i(8)),a=o(i(23));function o(e){return e&&e.__esModule?e:{default:e}}var r={hls:function(e,t){if(t.safari)return!1;if(!t.hlsFull)return!1;if(!e.url)return!1;return!0},dash:function(e,t){if(t.safari)return!1;if(!t.dash)return!1;if(!e.url)return!1;return e},standard:function(e,t){var i=function(i){if(!e.hasOwnProperty(i))return"continue";if(!t[i]||"[object Array]"!==Object.prototype.toString.call(e[i]))return delete e[i],"continue";var n=[];e[i]=e[i].filter(function(e){return!("[object Object]"!==Object.prototype.toString.call(e)||!e.url||!e.quality||-1!==n.indexOf(e.quality)||"auto"===e.quality&&!t.hls)&&(n.push(e.quality),e.label||(e.label=""+e.quality),!0)}),e[i].length||delete e[i]};for(var s in e)i(s);return!!(0,n.default)(e).length}};t.default={checkSources:function(e,t){if(!e||"object"!==(void 0===e?"undefined":(0,a.default)(e)))return null;var i=(0,s.default)({},e);for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&r[o](i[o],t)||delete i[o]);return(0,n.default)(i).length?i:null}}},function(e,t,i){"use strict";t.__esModule=!0;var n=d(i(8)),s=d(i(1)),a=d(i(2)),o=d(i(501)),r=d(i(502)),l=d(i(503)),u=d(i(247));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),this._sources=t,this._options=i,this._sourcesControllerQueue=[l.default,r.default,o.default],this._controllerAbstractClass=u.default,this._sourceControllerIndex=0}return(0,a.default)(e,[{key:"createNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._sourceControllerIndex>this._sourcesControllerQueue.length-1)return new this._controllerAbstractClass;this._options=(0,n.default)({},this._options,e);var t=new this._sourcesControllerQueue[this._sourceControllerIndex](this._sources,this._options);return this._sourceControllerIndex++,t.destroyed?this.createNext(e):t}},{key:"addControllerToQueue",value:function(e){return!!e&&(e.prototype instanceof this._controllerAbstractClass&&(this._sourcesControllerQueue.push(e),!0))}},{key:"isAbstract",value:function(e){return!!e&&e.constructor===this._controllerAbstractClass}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;var n=p(i(46)),s=p(i(87)),a=p(i(337)),o=p(i(338)),r=p(i(5)),l=p(i(1)),u=p(i(2)),d=p(i(6)),c=p(i(7)),h=p(i(177)),f=p(i(64)),_=p(i(21)),v=p(i(62)),m=p(i(169));function p(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,i));return e&&e.standard?(n._sources=e.standard,n._qualities=null,n._currentQuality=null,n.type="standard",n.ready=!1,n):(n.destroy(),(0,d.default)(n))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"getCurrentQuality",value:function(){return this._currentQuality}},{key:"getQualities",value:function(){return this._qualities}},{key:"getLabelFromQuality",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentQuality;return this._getSourceFromQuality(e).label}},{key:"getSource",value:function(){return this._getSourceFromQuality(this._currentQuality)}},{key:"getSourceUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentQuality,t=this._getSourceFromQuality(e).url&&this._getSourceFromQuality(e).url[0];return t||(h.default.log(h.default.TYPES.SOURCE_ERROR,"SourceService","No url "+this._currentQuality+" quality found",{options:this.options,sources:this._sources,quality:this._currentQuality,qualities:this._qualities}),null)}},{key:"getType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentQuality;return this._getSourceFromQuality(e).type||""}},{key:"init",value:function(){var e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getSources(this._sources);case 2:this._sources=e.sent,this._qualities=this._getQualities(),this._setQuality(this.options.initialVideoQuality),this.ready=!0,f.default.emit(_.default.SOURCE_CONTROLLER_READY);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getSources",value:function(e){var t=this;return new s.default(function(i){var n={},a=[];for(var o in e)e[o].map(function(e){n[e.quality]||(n[e.quality]=e),t.options.getSourceAfterRedirect?a.push(t._fillSourceUrlsAfterRedirect(n,e)):t._fillSourceUrls(n,e)});0!==a.length?s.default.all(a).then(function(e){return i(n)}):i(n)})}},{key:"_fillSourceUrls",value:function(e,t){Array.isArray(e[t.quality].url)?e[t.quality].url.push(t.url):e[t.quality].url=[t.url],t.fallback&&e[t.quality].url.push(t.fallback)}},{key:"_fillSourceUrlsAfterRedirect",value:function(e,i){return new s.default(function(n){t.getSourceAfterRedirect(i.url).then(function(t){Array.isArray(e[i.quality].url)?e[i.quality].url.push(t):e[i.quality].url=[t]}).catch(function(t){return e[i.quality].url=[]}).then(function(e){if(i.fallback)return t.getSourceAfterRedirect(i.fallback)}).then(function(t){t&&e[i.quality].url.push(t)}).then(n).catch(n)})}},{key:"_getQualities",value:function(){var e=(0,n.default)(this._sources).sort().reverse();return e.length||h.default.log(h.default.TYPES.SOURCE_ERROR,"SourceService","No quality provided",{options:this.options,sources:this._sources,quality:this._currentQuality,qualities:this._qualities}),e}},{key:"_setQuality",value:function(e){return e||(e=this._currentQuality),this._qualities.indexOf(e)<0&&(e=this._qualities[0]),this._currentQuality=e,this._currentQuality}},{key:"_getSourceFromQuality",value:function(e){return this._sources[e]||{}}},{key:"attachSource",value:function(e){e.src=this.getSourceUrl(),e.load(),v.default.set("sourceLoaded",!0)}},{key:"changeQuality",value:function(e,t,i){if(this.ready)return f.default.emit(_.default.PLAYER_BEFORE_SET_SOURCE),t=this._setQuality(t),!i&&this.attachSource(e),t;f.default.once(_.default.SOURCE_CONTROLLER_READY,this.changeQuality,this,e,t,i)}},{key:"prepareTimeupdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1===t?v.default.get("currentTime"):t;f.default.once(_.default.PLAYER_ON_LOADED_DATA,function(){f.default.emit(_.default.PLAYER_SET_CURRENT_TIME,n),f.default.once(_.default.PLAYER_ON_CAN_PLAY,function(){!1===e?(f.default.emit(_.default.PLAYER_PAUSE),f.default.emit(_.default.PLAYER_ON_PAUSE)):!0===e||v.default.get("playing")||v.default.get("error")?(f.default.emit(_.default.PLAYER_PLAY,i),i&&f.default.emit(_.default.PLAYER_ON_SEEKED),i&&f.default.emit(_.default.PLAYER_SET_CURRENT_TIME,n)):(f.default.emit(_.default.PLAYER_PAUSE),f.default.emit(_.default.PLAYER_ON_PAUSE))})})}},{key:"fallbackSource",value:function(){if(this.options.disableSourceFallback)return this.destroy(),!1;var e=this._getSourceFromQuality(this._currentQuality);return e.url.splice(0,1),!!e.url.length||(this._qualities.splice(this._qualities.indexOf(this._currentQuality),1),this._qualities.length?(this._setQuality(),!0):(this.destroy(),!1))}},{key:"destroy",value:function(){this.destroyed=!0,this.ready=!1,v.default.set("sourceLoaded",!1)}}],[{key:"getSourceAfterRedirect",value:function(e){return new s.default(function(t,i){m.default.getHeadRedirect(e).then(function(e){e.responseURL?t(e.responseURL):i()}).catch(function(e){return i()})})}}]),t}(p(i(247)).default);t.default=E},function(e,t,i){"use strict";t.__esModule=!0;var n=_(i(8)),s=_(i(5)),a=_(i(1)),o=_(i(2)),r=_(i(6)),l=_(i(7)),u=_(i(45)),d=_(i(21)),c=_(i(64)),h=_(i(62)),f=_(i(247));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,t);var o=(0,r.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,i));return o.options=i,o._config=(0,n.default)({},i.hlsConfig||{}),o._hlsSource=e&&e.hls&&e.hls.url,o.type="hls",o.ready=!1,o.loaded=!1,o.destroyed=!1,o._attached=!1,o._playAfterSet=!1,o._qualities=null,o.options.hlsFullSupport&&o._hlsSource&&o.options.hlsConfig&&o.options.hlsConfig.libSrc?(0,r.default)(o):(o.destroy(),o)}return(0,l.default)(t,e),(0,o.default)(t,[{key:"getCurrentQuality",value:function(){return!!this.ready&&(this.hls.autoLevelEnabled?"auto":this.getQuality(this.hls.currentLevel))}},{key:"getQualities",value:function(){return this._qualities}},{key:"getLabelFromQuality",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentQuality()}},{key:"getSourceUrl",value:function(){if(!this._attached)return"";var e=void 0;try{e=this.hls.streamController.levels[this.hls.streamController.level].url[0]}catch(t){e=this.hls.url}return e}},{key:"getType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentQuality();return"auto"===e&&(e=this.getQuality(-1)),parseInt(e)>2e3?"FK":parseInt(e)>719?"HD":""}},{key:"init",value:function(){var e=this;if(this.destroyed)return!1;u.default.getScript(this._config.libSrc,function(t){if(!window.Hls)return c.default.emit(d.default.PLAYER_FALLBACK_SOURCE,!0),void e.destroy();c.default.emit(d.default.HLS_LOADED),e.loaded=!0,e._initHLS(),e._attachEvents(),e._getHlsQualities()},function(t){c.default.emit(d.default.PLAYER_FALLBACK_SOURCE,!0),e.destroy()})}},{key:"_initHLS",value:function(){this._config=(0,n.default)({},window.Hls.DefaultConfig,this._config||{}),this.hls=new window.Hls(this._config)}},{key:"_attachEvents",value:function(){var e=this;this.hls.on(window.Hls.Events.ERROR,function(t,i){c.default.emit(d.default.SOURCE_CONTROLLER_ON_ERROR,e.type,i),i.fatal&&c.default.emit(d.default.PLAYER_FALLBACK_SOURCE)}),this.hls.on(window.Hls.Events.MEDIA_ATTACHED,function(t){return e._attached=!0}),this.hls.on(window.Hls.Events.LEVEL_SWITCHED,function(){c.default.emit(d.default.SOURCE_TYPE_CHANGE),c.default.emit(d.default.SETTINGS_RENDER_QUALITY)})}},{key:"_getHlsQualities",value:function(){var e=this;this.hls.loadSource(this._hlsSource),this.hls.on(window.Hls.Events.MANIFEST_PARSED,function(t,i){e._qualities=e._getQualities(i.levels),!e._qualities||e._qualities.length<2?c.default.emit(d.default.PLAYER_FALLBACK_SOURCE,!0):(e.ready=!0,e._setQuality(e.options.initialVideoQuality),c.default.emit(d.default.SOURCE_CONTROLLER_READY),c.default.emit(d.default.SOURCE_TYPE_CHANGE))})}},{key:"_getQualities",value:function(e){var t=null;try{t=(t=["auto"]).concat(e.map(function(e){return e.name}).sort(function(e,t){return parseInt(t)-parseInt(e)}))}catch(e){}return t}},{key:"_setQuality",value:function(e){var t=this;this.loaded?this.ready?(e||(e=this.getCurrentQuality()),"auto"!==e?this.hls.levels.map(function(i,n){i.name===e&&(t.hls.currentLevel=n,t._attached&&c.default.emit(d.default.SHOW_LOADER))}):this.hls.loadLevel=-1):this.hls.on(Hls.Events.MANIFEST_PARSED,function(){t._setQuality(e),t.ready=!0,c.default.emit(d.default.SOURCE_CONTROLLER_READY)}):c.default.once(d.default.HLS_LOADED,this._setQuality.bind(this,e))}},{key:"attachSource",value:function(e){this.ready?(this.hls.attachMedia(e),h.default.set("sourceLoaded",!0)):c.default.once(d.default.SOURCE_CONTROLLER_READY,this.attachSource.bind(this,e))}},{key:"changeQuality",value:function(e,t,i){!h.default.get("ads")&&h.default.get("sourceLoaded")||i||this.attachSource(e),c.default.emit(d.default.PAUSE_ACTION_BLOCK),this._setQuality(t),this._playAfterSet&&(c.default.emit(d.default.PLAYER_PLAY),this._playAfterSet=!1),c.default.once(d.default.PLAYER_ON_PLAYING,function(){return c.default.emit(d.default.PAUSE_ACTION_UNBLOCK)})}},{key:"getQuality",value:function(e){return-1===e&&(e=this.hls.loadLevel),this.hls.levels[e].name}},{key:"prepareTimeupdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._playAfterSet=e&&!h.default.get("playing");var i=!1===t?h.default.get("currentTime"):t;c.default.once(d.default.PLAYER_ON_LOADED_DATA,function(){c.default.emit(d.default.PLAYER_SET_CURRENT_TIME,i),c.default.once(d.default.PLAYER_ON_CAN_PLAY,function(){!1===e?(c.default.emit(d.default.PLAYER_PAUSE),c.default.emit(d.default.PLAYER_ON_PAUSE)):!0===e||h.default.get("playing")||h.default.get("error")?c.default.emit(d.default.PLAYER_PLAY):(c.default.emit(d.default.PLAYER_PAUSE),c.default.emit(d.default.PLAYER_ON_PAUSE))})})}},{key:"fallbackSource",value:function(){return this.destroy(),!1}},{key:"destroy",value:function(){this.hls&&this.hls.destroy(),this.ready=!1,this.destroyed=!0,h.default.set("sourceLoaded",!1)}}]),t}(f.default);t.default=v},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(5)),s=f(i(1)),a=f(i(2)),o=f(i(6)),r=f(i(7)),l=f(i(45)),u=f(i(21)),d=f(i(64)),c=f(i(62)),h=f(i(247));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i));return a.options=i,a._dashSource=e&&e.dash&&e.dash.url,a.type="dash",a.ready=!1,a.loaded=!1,a.destroyed=!1,a._track=null,a._manifest=null,a._playAfterSet=!1,a._initialQuality=null,a._qualities=null,a.options.dashSupport&&a._dashSource&&a.options.dashConfig&&a.options.dashConfig.libSrc||a.destroy(),a}return(0,r.default)(t,e),(0,a.default)(t,[{key:"_initDASH",value:function(){this.dash=window.dashjs.MediaPlayer().create(),this.dash.setFastSwitchEnabled(!0),this.dash.initialize(),this.dash.setAutoPlay(this.options.dashConfig.autoplay),this._setConfig(this.options.dashConfig),this.options.dashConfig.debug&&this.dash.getDebug().setLogToBrowserConsole(!0)}},{key:"_setConfig",value:function(e){e.abrStrategy&&this.dash.setABRStrategy(e.abrStrategy),e.movingAverageMethod&&this.dash.setMovingAverageMethod(e.movingAverageMethod),e.abandonLoadTimeout&&this.dash.setAbandonLoadTimeout(e.abandonLoadTimeout),e.bandwidthSafetyFactor&&this.dash.setBandwidthSafetyFactor(e.bandwidthSafetyFactor),e.bufferAheadToKeep&&this.dash.setBufferAheadToKeep(e.bufferAheadToKeep),e.bufferPruningInterval&&this.dash.setBufferPruningInterval(e.bufferPruningInterval),e.bufferTimeAtTopQuality&&this.dash.setBufferTimeAtTopQuality(e.bufferTimeAtTopQuality),e.bufferTimeAtTopQualityLongForm&&this.dash.setBufferTimeAtTopQualityLongForm(e.bufferTimeAtTopQualityLongForm),e.bufferToKeep&&this.dash.setBufferToKeep(e.bufferToKeep),e.fragmentLoaderRetryAttempts&&this.dash.setFragmentLoaderRetryAttempts(e.fragmentLoaderRetryAttempts),e.fragmentLoaderRetryInterval&&this.dash.setFragmentLoaderRetryInterval(e.fragmentLoaderRetryInterval),e.longFormContentDurationThreshold&&this.dash.setLongFormContentDurationThreshold(e.longFormContentDurationThreshold),e.manifestLoaderRetryAttempts&&this.dash.setManifestLoaderRetryAttempts(e.manifestLoaderRetryAttempts),e.manifestLoaderRetryInterval&&this.dash.setManifestLoaderRetryInterval(e.manifestLoaderRetryInterval),e.segmentOverlapToleranceTime&&this.dash.setSegmentOverlapToleranceTime(e.segmentOverlapToleranceTime),e.stableBufferTime&&this.dash.setStableBufferTime(e.stableBufferTime)}},{key:"_attachEvents",value:function(){var e=this;this.dash.on(window.dashjs.MediaPlayer.events.ERROR,function(t){t.event&&(t.event&&t.event.message&&-1!==t.event.message.indexOf("getBuffer is not a function")||(d.default.emit(u.default.SOURCE_CONTROLLER_ON_ERROR,e.type,t),d.default.emit(u.default.PLAYER_FALLBACK_SOURCE)))}),this.dash.on(window.dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(){d.default.emit(u.default.SOURCE_TYPE_CHANGE),d.default.emit(u.default.SETTINGS_RENDER_QUALITY)})}},{key:"_getDASHQualities",value:function(){var e=this;this._dashSource&&(this.dash.on(window.dashjs.MediaPlayer.events.MANIFEST_LOADED,function(t){e.ready||(e._track=e.dash.getTracksForTypeFromManifest("video",t.data)[0],e._track?(e._qualities=e._getQualities(e._track.bitrateList),!e._qualities||e._qualities.length<2?d.default.emit(u.default.PLAYER_FALLBACK_SOURCE,!0):(e.ready=!0,e._initialQuality=e.options.initialVideoQuality,d.default.emit(u.default.SOURCE_CONTROLLER_READY),d.default.emit(u.default.SOURCE_TYPE_CHANGE))):d.default.emit(u.default.PLAYER_FALLBACK_SOURCE,!0))}),this.dash.retrieveManifest(this._dashSource,function(t){t?(e._manifest=t,e.dash.attachSource(t),e.dash.preload()):e.destroy()}))}},{key:"_getQualities",value:function(e){var t=null;try{t=(t=["auto"]).concat(e.map(function(e){return e.height+"p"}).sort(function(e,t){return parseInt(t)-parseInt(e)}))}catch(e){}return t}},{key:"_setQuality",value:function(e){var t=this;this.loaded?this.streamReady?(e||(e=this.getCurrentQuality()),this._initialQuality&&(this._initialQuality=null),"auto"!==e?(this.dash.getAutoSwitchQualityFor("video")&&this.dash.setAutoSwitchQualityFor("video",!1),this._track.bitrateList.map(function(i,n){i.height===+e.slice(0,e.length-1)&&t.dash.setQualityFor("video",n)})):this.dash.setAutoSwitchQualityFor("video",!0)):this.dash.on(window.dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(){t.streamReady||(t.streamReady=!0,d.default.emit(u.default.SOURCE_CONTROLLER_READY),d.default.emit(u.default.SOURCE_TYPE_CHANGE),d.default.emit(u.default.SETTINGS_RENDER_QUALITY),t._setQuality(e))}):d.default.once(u.default.DASH_LOADED,this._setQuality.bind(this,e))}},{key:"init",value:function(){var e=this;if(this.destroyed)return!1;l.default.getScript(this.options.dashConfig.libSrc,function(t){if(!window.dashjs)return d.default.emit(u.default.PLAYER_FALLBACK_SOURCE,!0),void e.destroy();d.default.emit(u.default.DASH_LOADED),e.loaded=!0,e._initDASH(),e._attachEvents(),e._getDASHQualities()},function(t){d.default.emit(u.default.PLAYER_FALLBACK_SOURCE,!0),e.destroy()})}},{key:"getCurrentQuality",value:function(){return this._initialQuality?this._initialQuality:!!this.ready&&(this.dash.getAutoSwitchQualityFor("video")?"auto":this.getQuality(this.dash.getQualityFor("video")))}},{key:"getQualities",value:function(){return this._qualities}},{key:"getLabelFromQuality",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentQuality()}},{key:"getSourceUrl",value:function(){return this.ready&&this.dash.getVideoElement()?this._manifest.url:""}},{key:"getType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentQuality();return"auto"===e&&(e=this.getQuality(-1)),parseInt(e)>2e3?"FK":parseInt(e)>719?"HD":""}},{key:"attachSource",value:function(e,t){this.ready?(this.dash.attachView(e),this.dash.attachSource(this._manifest),!t&&this._setQuality(),c.default.set("sourceLoaded",!0)):d.default.once(u.default.SOURCE_CONTROLLER_READY,this.attachSource.bind(this,e,t))}},{key:"changeQuality",value:function(e,t,i){!c.default.get("ads")&&c.default.get("sourceLoaded")||i||this.attachSource(e,!0),d.default.emit(u.default.PAUSE_ACTION_BLOCK),this._setQuality(t),this._playAfterSet&&(d.default.emit(u.default.PLAYER_PLAY),this._playAfterSet=!1),d.default.once(u.default.PLAYER_ON_PLAYING,function(){return d.default.emit(u.default.PAUSE_ACTION_UNBLOCK)})}},{key:"getQuality",value:function(e){return-1===e&&(e=this.dash.getQualityFor("video")),this._track.bitrateList[e].height+"p"}},{key:"prepareTimeupdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._playAfterSet=e;var i=!1===t?c.default.get("currentTime"):t;d.default.once(u.default.PLAYER_ON_LOADED_DATA,function(){d.default.emit(u.default.PLAYER_SET_CURRENT_TIME,i),d.default.once(u.default.PLAYER_ON_CAN_PLAY,function(){!1===e?(d.default.emit(u.default.PLAYER_PAUSE),d.default.emit(u.default.PLAYER_ON_PAUSE)):!0===e||c.default.get("playing")||c.default.get("error")||(d.default.emit(u.default.PLAYER_PAUSE),d.default.emit(u.default.PLAYER_ON_PAUSE))})})}},{key:"fallbackSource",value:function(){return this.destroy(),!1}},{key:"destroy",value:function(){this.dash&&this.dash.reset(),this.ready=!1,this.destroyed=!0,c.default.set("sourceLoaded",!1)}}]),t}(h.default);t.default=_},function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(505)),s=l(i(1)),a=l(i(2)),o=l(i(45)),r=l(i(21));function l(e){return e&&e.__esModule?e:{default:e}}var u="no-user-action",d=function(){function e(t){(0,s.default)(this,e),this.core=t,this._userActionTimeout=null,this._userActionPaused=!1,this._userActionBlocked=!1,this._init()}return(0,a.default)(e,[{key:"_init",value:function(){this.core.on(r.default.USER_ACTION,this._onUserAction,this),this.core.on(r.default.NO_USER_ACTION,this._onNoUserAction,this),this.core.on(r.default.USER_ACTION_PAUSE,this._onUserActionPause,this),this.core.on(r.default.USER_ACTION_UNPAUSE,this._onUserActionUnpause,this),this.core.on(r.default.USER_ACTION_BLOCK,this._onUserActionBlock,this),this.core.on(r.default.USER_ACTION_UNBLOCK,this._onUserActionUnblock,this),this.core.on(r.default.PLAYER_ON_PLAY,this._onPlayerPlay,this),this.core.on(r.default.PLAYER_ON_PAUSE,this._onPlayerPause,this),this.core.on(r.default.PLAYER_ON_ENDED,this._onPlayerEnded,this),this._emitNoUserAction=this.core.emit.bind(this,r.default.NO_USER_ACTION)}},{key:"_onUserAction",value:function(e){o.default.hasClass(this.core.element,u)&&o.default.removeClass(this.core.element,u),this._clearUserActionTimeout(),this._userActionBlocked||this._userActionPaused||e&&(e=(0,n.default)(e)?e:3e3,this._userActionTimeout=setTimeout(this._emitNoUserAction,e))}},{key:"_onUserActionBlock",value:function(){this._userActionBlocked=!0,this._clearUserActionTimeout()}},{key:"_onUserActionUnblock",value:function(){this._userActionBlocked=!1,this.core.emit(r.default.USER_ACTION,!0)}},{key:"_onUserActionPause",value:function(){this._userActionPaused=!0,this._clearUserActionTimeout()}},{key:"_onUserActionUnpause",value:function(){this._userActionPaused=!1}},{key:"_onNoUserAction",value:function(){o.default.addClass(this.core.element,u)}},{key:"_clearUserActionTimeout",value:function(){null!==this._userActionTimeout&&(clearTimeout(this._userActionTimeout),this._userActionTimeout=null)}},{key:"_onPlayerPlay",value:function(){this.core.emit(r.default.USER_ACTION,!0)}},{key:"_onPlayerPause",value:function(){this.core.emit(r.default.USER_ACTION,!0)}},{key:"_onPlayerEnded",value:function(){var e=this;this.core.emit(r.default.USER_ACTION_BLOCK),this.core.once(r.default.PLAYER_ON_PLAYING,function(){e.core.emit(r.default.USER_ACTION_UNBLOCK)})}}]),e}();t.default=d},function(e,t,i){e.exports={default:i(506),__esModule:!0}},function(e,t,i){i(507),e.exports=i(27).Number.isInteger},function(e,t,i){var n=i(51);n(n.S,"Number",{isInteger:i(508)})},function(e,t,i){var n=i(70),s=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&s(e)===e}},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(1)),s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.options=i||{top:!1},this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render()}},{key:"_render",value:function(){this.options.top&&(this.topElement=document.createElement("div"),this.topElement.className="xplayer-background-top",this.core.element.appendChild(this.topElement)),this.bottomElement=document.createElement("div"),this.bottomElement.className="xplayer-background-bottom",this.core.element.appendChild(this.bottomElement)}}]),e}();t.default=o},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(62));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="play",this.element.innerHTML="<div class='play-inner'></div>"}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onPlayClick.bind(this)),this.core.on(a.default.PLAYER_ON_ENDED,this._onPlayerEnded,this),this.core.on(a.default.PLAYER_ON_PLAYING,this._togglePlayButton,this),this.core.on(a.default.PLAYER_ON_PAUSE,this._togglePlayButton,this)}},{key:"_onPlayClick",value:function(){o.default.get("playing")?this.core.emit(a.default.PLAYER_PAUSE):this.core.emit(a.default.PLAYER_PLAY)}},{key:"_onPlayerEnded",value:function(){o.default.get("ads")||(this.element.className="play replay")}},{key:"_togglePlayButton",value:function(){o.default.get("playing")?this.element.className="play pause":this.element.className="play"}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(1)),s=l(i(2)),a=l(i(45)),o=l(i(21)),r=l(i(512));function l(e){return e&&e.__esModule?e:{default:e}}var u="toggled",d=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this.seeking=!1,this.seeked=!1,this.savedVolume=1,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="volume-controls",this.element.innerHTML=(0,r.default)(),this.volumeElement=this.element.getElementsByClassName("volume")[0],this.volumeBarElement=this.element.getElementsByClassName("volume-bar")[0],this.fillerElement=this.element.getElementsByClassName("filler")[0],this.handleElement=this.element.getElementsByClassName("handle")[0];var e=this.core.capabilities.mobile?!this.core.settings.muted:this.core.settings.volume;this._setVolumeElementVolume(e),this._setVolumeBarVolume(this.core.settings.volume),this._setVolumeTooltip(this.core.settings.volume)}},{key:"_attachEvents",value:function(){this.core.capabilities.mobile?this._attachTouchEvents():this._attachMouseEvents(),this.core.on(o.default.PLAYER_SET_VOLUME,this._onPlayerVolumeChange,this)}},{key:"_attachMouseEvents",value:function(){this.element.addEventListener("mouseenter",this._onElementMouseEnter.bind(this)),this.element.addEventListener("mouseleave",this._onElementMouseLeave.bind(this)),this.volumeElement.addEventListener("click",this._onVolumeElementClick.bind(this)),this.volumeBarElement.addEventListener("mousedown",this._onVolumeBarElementMouseDown.bind(this)),this.core.element.addEventListener("mousemove",this._onCoreElementMouseMove.bind(this)),this.core.element.addEventListener("mouseup",this._onCoreElementMouseUp.bind(this)),this.core.element.addEventListener("mouseleave",this._onCoreElementMouseUp.bind(this))}},{key:"_attachTouchEvents",value:function(){this.volumeElement.addEventListener("touchstart",this._onVolumeElementTouchStart.bind(this))}},{key:"_onElementMouseEnter",value:function(){this._showVolumeBar()}},{key:"_onElementMouseLeave",value:function(){this.seeking||this.seeked||this._hideVolumeBar()}},{key:"_onVolumeElementTouchStart",value:function(){this.core.videoElement.muted=!this.core.videoElement.muted,this._setVolumeElementVolume(!this.core.videoElement.muted)}},{key:"_onVolumeElementClick",value:function(e){if(e.preventDefault(),0===e.button){var t=void 0;this.core.videoElement.volume<.02?t=this.savedVolume||1:(this.savedVolume=this.core.videoElement.volume,t=0),this.core.emit(o.default.PLAYER_SET_VOLUME,t)}}},{key:"_onVolumeBarElementMouseDown",value:function(e){e.preventDefault(),0===e.button&&(this.seeking=!0,this.seeked=!0,this._setVolumeBarEventVolume(e))}},{key:"_onCoreElementMouseMove",value:function(e){this.seeking&&this._setVolumeBarEventVolume(e)}},{key:"_onCoreElementMouseUp",value:function(e){this.seeking?this.seeking=!1:this._checkIfVolumeBarNeedsHide(e)&&(this.seeked=!1,this._hideVolumeBar())}},{key:"_setVolumeBarEventVolume",value:function(e){var t=((e.clientX-a.default.findElPosition(this.volumeBarElement).left)/this.volumeBarElement.offsetWidth).toFixed(2);this.core.emit(o.default.PLAYER_SET_VOLUME,t)}},{key:"_showVolumeBar",value:function(){a.default.addClass(this.element,u)}},{key:"_hideVolumeBar",value:function(){a.default.removeClass(this.element,u)}},{key:"_checkIfVolumeBarNeedsHide",value:function(e){return!(e.target===this.handleElement||e.target===this.volumeBarElement||e.target===this.volumeElement||e.target===this.fillerElement||e.target===this.element)}},{key:"_onPlayerVolumeChange",value:function(e){e=e<0?0:e>1?1:e,this._setVolumeElementVolume(e),this._setVolumeBarVolume(e),this._setVolumeTooltip(e),this._showVolumeBar()}},{key:"_setVolumeElementVolume",value:function(e){this.volumeElement.className=e<.02?"volume mute":e<.25?"volume quarter":e<.5?"volume half":e<.75?"volume third":"volume"}},{key:"_setVolumeBarVolume",value:function(e){this.handleElement.style.left=100*e+"%",this.fillerElement.style.width=100*e+"%"}},{key:"_setVolumeTooltip",value:function(e){var t=e>0?"Disable sound":"Enable sound";this.volumeElement.setAttribute("data-xp-tooltip",t),this.core.emit(o.default.TOOLTIP_UPDATE,t)}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<div href="#" class="volume"></div><span class="volume-bar"><span class="bar"><span class="filler" style="width: 100%;"></span><span class="handle" style="left: 100%;"></span></span></span>'}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(183)),o=u(i(21)),r=u(i(62)),l=u(i(514));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this.lastValue=0,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="timing",this.element.innerHTML=(0,l.default)(),this.playedElement=this.element.getElementsByClassName("played")[0],this.etaElement=this.element.getElementsByClassName("eta")[0],this.etaElement.childNodes[0].nodeValue=a.default.parseTime(r.default.get("duration"),r.default.get("duration")>=3600)}},{key:"_attachEvents",value:function(){this.core.on(o.default.PLAYER_ON_TIMEUPDATE,this._onPlayerTimeUpdate.bind(this)),this.core.on(o.default.PLAYER_SET_CURRENT_TIME,this._onPlayerSetCurrentTime.bind(this)),this.core.on(o.default.PLAYER_ON_DURATION_CHANGE,this._onPlayerDurationChange.bind(this)),this.core.on(o.default.PLAYER_SET_SOURCE,this._onPlayerSetSource.bind(this)),this.core.on(o.default.PLAYER_ON_LOAD_META_DATA,this._onPlayerLoadMetaData.bind(this)),this.core.once(o.default.NO_USER_ACTION,this._onNoUserAction.bind(this))}},{key:"_onPlayerTimeUpdate",value:function(e){if(!0!==this.blockTimeUpdate&&!0!==this.timingHidden){var t=a.default.parseTime(e.target.currentTime,e.target.duration>=3600);t!==this.lastValue&&(this.lastValue=t,this.playedElement.textContent=t)}}},{key:"_onPlayerSetCurrentTime",value:function(e){e=e<0?0:e>this.core.videoElement.duration?this.core.videoElement.duration:e,this.playedElement.childNodes[0].nodeValue=a.default.parseTime(e,this.core.videoElement.duration>=3600)}},{key:"_onPlayerDurationChange",value:function(e){this.etaElement.childNodes[0].nodeValue=a.default.parseTime(e.target.duration,e.target.duration>=3600)}},{key:"_onPlayerSetSource",value:function(){"standard"===this.core.sourceController.type&&(this.blockTimeUpdate=!0)}},{key:"_onPlayerLoadMetaData",value:function(){this.blockTimeUpdate=!1}},{key:"_onUserAction",value:function(){this.timingHidden=!1,this.core.once(o.default.NO_USER_ACTION,this._onNoUserAction.bind(this))}},{key:"_onNoUserAction",value:function(){this.timingHidden=!0,this.core.once(o.default.USER_ACTION,this._onUserAction.bind(this))}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<span class="played">00:00</span><span class="separator">/</span><span class="eta">00:00</span>'}},function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(1)),s=o(i(2)),a=o(i(21));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this.options=i||{},this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="fullscreen-button",this.element.setAttribute("data-xp-tooltip","Fullscreen"),document.addEventListener("webkitfullscreenchange",this._toggleTooltip.bind(this)),document.addEventListener("mozfullscreenchange",this._toggleTooltip.bind(this)),document.addEventListener("fullscreenchange",this._toggleTooltip.bind(this)),"number"==typeof this.core.capabilities.ie&&this.core.capabilities.ie<11?this.core.on(a.default.PLAYER_TOGGLE_FULLSCREEN,this._toggleTooltip.bind(this)):document.addEventListener("MSFullscreenChange",this._toggleTooltip.bind(this))}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onElementClick",value:function(e){this.core.emit(a.default.PLAYER_TOGGLE_FULLSCREEN)}},{key:"_toggleTooltip",value:function(){var e="Fullscreen"===this.element.getAttribute("data-xp-tooltip")?"Exit Fullscreen":"Fullscreen";this.core.emit(a.default.TOOLTIP_UPDATE,e),this.element.setAttribute("data-xp-tooltip",e)}}]),e}();t.default=r},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(87)),s=f(i(337)),a=f(i(338)),o=f(i(1)),r=f(i(2)),l=f(i(45)),u=f(i(183)),d=f(i(21)),c=f(i(62)),h=f(i(517));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,i){(0,o.default)(this,e),this.core=t,this.options=i,this.seeking=!1,this.progressBarUpdated=!1,this.thumbs=i.thumbs||!1,this.thumbWidth=160,this.thumbsLoaded=!1,this.thumbsShown=!1,this.thumbsEnabled=!!(this.core.settings.preview&&this.thumbs&&this.thumbs.url&&this.thumbs.length),this.settingsMenuOpened=!1,this.seekingTime=0,this.elementWidth=0,this._thumbsHideTimeout=0,this._mouseLeavedSeeker=!1,this._init()}return(0,r.default)(e,[{key:"_init",value:function(){this._render(),this.transformStyleProperty=l.default.checkTransformVendor(),this._animationStepBind=this._animationStep.bind(this),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-progress-bar",this.element.innerHTML=(0,h.default)(),this.seekerElement=this.element.getElementsByClassName("seeker")[0],this.fillerElement=this.element.getElementsByClassName("filler")[0],this.handleElement=this.element.getElementsByClassName("handle")[0],this.bufferElement=this.element.getElementsByClassName("buffer")[0],this.thumbs&&(this.thumbsElement=this.element.getElementsByClassName("thumbs")[0],this.spriteElement=this.element.getElementsByClassName("sprite")[0],this.timeElement=this.element.getElementsByClassName("time")[0]),this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.core.capabilities.mobile?this._attachTouchEvents():this._attachMouseEvents(),this.core.on(d.default.PLAYER_ON_SEEKING,this._onPlayerSeeking,this),this.core.on(d.default.PLAYER_ON_PROGRESS,this._onPlayerProgress,this),this.core.on(d.default.PLAYER_ON_LOADED_DATA,this._onPlayerProgress,this),this.core.on(d.default.PLAYER_ON_CAN_PLAY,this._onPlayerProgress,this),this.core.on(d.default.PLAYER_ON_PLAY,this._onPlayerPlay,this),this.core.on(d.default.PLAYER_ON_PAUSE,this._onPlayerPause,this),this.core.on(d.default.PLAYER_ON_ENDED,this._onPlayerEnd,this),this.core.on(d.default.PLAYER_SET_SOURCE,this._onPlayerSetSource,this),this.core.on(d.default.NO_USER_ACTION,this._onNoUserAction,this),this.core.on(d.default.USER_ACTION,this._onUserAction,this),this.core.on(d.default.PROGRESS_BAR_UPDATE,this._onProgressBarUpdate,this),this.core.on(d.default.PROGRESS_BAR_UPDATE_END,this._onProgressBarUpdateEnd,this),window.addEventListener("resize",this._onResize.bind(this)),document.addEventListener("webkitfullscreenchange",this._onResize.bind(this)),document.addEventListener("mozfullscreenchange",this._onResize.bind(this)),document.addEventListener("fullscreenchange",this._onResize.bind(this)),this.core.on(d.default.PROGRESS_BAR_RESIZE,this._onResize.bind(this)),this.core.capabilities.fullscreen?document.addEventListener("MSFullscreenChange",this._onResize.bind(this)):this.core.on(d.default.PLAYER_TOGGLE_FULLSCREEN,this._onResize.bind(this)),this.thumbs&&this.core.on(d.default.PLAYER_SET_PREVIEW,this._onPlayerSetPreview.bind(this)),this.thumbs&&this.core.on(d.default.SETTINGS_MENU_TOGGLED,this._onSettingsMenuToggled.bind(this))}},{key:"_attachMouseEvents",value:function(){this.element.addEventListener("mousedown",this._onSeekerElementMouseDown.bind(this)),this.element.addEventListener("mouseenter",this._onSeekerElementMouseEnter.bind(this)),this.element.addEventListener("mousemove",this._onSeekerElementMouseMove.bind(this)),this.element.addEventListener("mouseleave",this._onSeekerElementMouseLeave.bind(this)),this.core.element.addEventListener("mousemove",this._onCoreElementMouseMove.bind(this)),this.core.element.addEventListener("mouseup",this._onCoreElementMouseUp.bind(this)),this.core.element.addEventListener("mouseleave",this._onCoreElementMouseLeave.bind(this))}},{key:"_attachTouchEvents",value:function(){this.element.addEventListener("touchstart",this._onSeekerElementMouseDown.bind(this)),this.element.addEventListener("touchstart",this._onSeekerElementMouseEnter.bind(this)),this.core.element.addEventListener("touchmove",this._onCoreElementMouseMove.bind(this)),this.core.element.addEventListener("touchend",this._onCoreElementMouseUp.bind(this))}},{key:"_onSeekerElementMouseDown",value:function(e){0!==e.button&&1!==e.touches.length||this.progressBarUpdated||c.default.get("ads")||(this.seeking=!0,this.animation=!1,this._onCoreElementMouseMove(e))}},{key:"_onSeekerElementMouseEnter",value:function(e){this.thumbsShown||c.default.get("ads")||(this._mouseLeavedSeeker=!1,this._showThumbs(),this.core.capabilities.mobile||this.core.emit(d.default.USER_ACTION_PAUSE))}},{key:"_onSeekerElementMouseMove",value:function(e){this.progressBarUpdated||c.default.get("ads")||this._changeThumbsFromMouseEvent(e)}},{key:"_onSeekerElementMouseLeave",value:function(e){this.core.emit(d.default.USER_ACTION_UNPAUSE),this._mouseLeavedSeeker=!0,this.seeking||this._hideThumbs()}},{key:"_onCoreElementMouseMove",value:function(e){this.seeking&&(this.progressBarUpdated||c.default.get("ads")||(e.preventDefault(),this.seekingTime=this._calculateTimeFromMouseEvent(e),this._updateFillerAndHandler(this.seekingTime,c.default.get("duration")),this._changeThumbsFromMouseEvent(e)))}},{key:"_onCoreElementMouseUp",value:function(e){this.seeking&&(this.progressBarUpdated||c.default.get("ads")||(this.seeking=!1,this.core.emit(d.default.PAUSE_ACTION_UNBLOCK),this.seekingTime=this._calculateTimeFromMouseEvent(e),this._setCurrentTime(this.seekingTime),this.seekingTime<c.default.get("duration")&&this.core.emit(d.default.PLAYER_PLAY),!1===this.animation&&(this.animation=!0,this._animationStep()),this._checkIfThumbsNeedHide(e)&&this._hideThumbs()))}},{key:"_onCoreElementMouseLeave",value:function(e){this._onCoreElementMouseUp(e)}},{key:"_setCurrentTime",value:function(e){c.default.get("ads")||this.core.emit(d.default.PLAYER_SET_CURRENT_TIME,e)}},{key:"_onPlayerProgress",value:function(e){if(e.target.buffered){var t=e.target.buffered,i=e.target.currentTime,n=e.target.duration;this._updateBuffer(t,i,n)}}},{key:"_calculateTimeFromMouseEvent",value:function(e){this.elementWidth||(this.elementWidth=this.element.offsetWidth);var t=100*this._getOffsetLeftFromMouseEvent(e)/this.elementWidth,i=c.default.get("duration")*t/100;return i<0?0:i>c.default.get("duration")?c.default.get("duration"):i}},{key:"_getOffsetLeftFromMouseEvent",value:function(e){var t=this._getEventClientX(e)+(window.scrollX||window.pageXOffset)-l.default.findElPosition(this.element).left;return t<0?0:t>this.elementWidth?this.elementWidth:t}},{key:"_getEventClientX",value:function(e){return window.TouchEvent&&e instanceof window.TouchEvent?e.touches.length&&e.touches[0].clientX||e.changedTouches.length&&e.changedTouches[0].clientX:e.clientX}},{key:"_getOffsetLeftFromTime",value:function(e){var t=(e/c.default.get("duration")*this.elementWidth).toFixed(1);return t<0?0:t>this.elementWidth?this.elementWidth:t}},{key:"_animationStep",value:function(){!1!==this.animation&&!0!==this.seeking&&(this.core.videoElement.buffered.length||c.default.get("ads"))&&(this._updateFillerAndHandler(this.core.videoElement.currentTime,c.default.get("duration")),this.animationInterval=requestAnimationFrame(this._animationStepBind))}},{key:"_onPlayerPlay",value:function(e){this.seeking&&(this.seeking=!1,this._setCurrentTime(this.seekingTime),this._hideThumbs()),this.animation=!0,this._animationStep()}},{key:"_onPlayerPause",value:function(){this.animation=!1}},{key:"_onPlayerEnd",value:function(){this._updateFillerAndHandler(c.default.get("duration"),c.default.get("duration"))}},{key:"_onPlayerSetSource",value:function(){cancelAnimationFrame(this.animationInterval)}},{key:"_onPlayerSeeking",value:function(e){if(!this.seeking||c.default.get("playing")){var t=e.target.currentTime,i=e.target.duration;this._updateFillerAndHandler(t,i)}}},{key:"_onResize",value:function(){this.elementWidth=this.element.offsetWidth,this.elementWidth=!1,this._updateFillerAndHandler(this.core.videoElement.currentTime,c.default.get("duration"))}},{key:"_updateFillerAndHandler",value:function(e,t){this.elementWidth||(this.elementWidth=this.element.offsetWidth);var i=e/t,n=(i*this.elementWidth).toFixed(1);this.transformX!==n&&(this.handleElement.style[this.transformStyleProperty]="translateX("+n+"px)",this.fillerElement.style[this.transformStyleProperty]="scaleX("+i+")",this.transformX=n)}},{key:"_updateBuffer",value:function(e,t,i){for(var n=0;n<e.length;n++)if(Math.floor(e.start(n))<=t&&t<e.end(n)){var s=e.end(n)/i;s=s>.98?1:s,this.bufferElement.style[this.transformStyleProperty]="scaleX("+s+")"}}},{key:"_onNoUserAction",value:function(){c.default.get("playing")&&(this.animation=!1)}},{key:"_onUserAction",value:function(){!1!==c.default.get("playing")&&!0!==this.animation&&!0!==this.seeking&&(this.animation=!0,this._animationStep())}},{key:"_onProgressBarUpdate",value:function(e){this.seeking=!0,this.progressBarUpdated=!0,this._updateFillerAndHandler(e,c.default.get("duration")),this._changeThumbsFromTime(e),this._showThumbs()}},{key:"_onProgressBarUpdateEnd",value:function(){this.seeking=!1,this.progressBarUpdated=!1,this._animationStep(),this._hideThumbsAnimated()}},{key:"_onPlayerSetPreview",value:function(){var e=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(e.t0=this.thumbsLoaded,e.t0){e.next=6;break}return e.next=5,this._loadThumbs();case 5:e.t0=e.sent;case 6:if(this.thumbsLoaded=e.t0,this.thumbsLoaded){e.next=9;break}return e.abrupt("return");case 9:this.thumbsEnabled=t,this._hideThumbs();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_loadThumbs",value:function(){var e=(0,a.default)(s.default.mark(function e(){var t,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getFullThumbSizes(this.options.thumbs.url);case 2:if(t=e.sent,i=void 0,t){e.next=7;break}return this.thumbsEnabled=!1,e.abrupt("return",!1);case 7:return i=t.width/this.options.thumbs.length,this.spriteElement.style.background="url("+this.options.thumbs.url+")",this.spriteElement.style.width=i+"px",this.spriteElement.style.height=t.height+"px",this.thumbsElement.style.width=i+"px",this.thumbsElement.style.top=-(t.height+15)+"px",this.thumbWidth=i,this.thumbsLoaded=!0,e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getFullThumbSizes",value:function(){var e=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new n.default(function(e){var i=new Image;i.onload=function(){e({width:this.width,height:this.height})},i.onerror=function(){e(null)},i.src=t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_onSettingsMenuToggled",value:function(e){this.settingsMenuOpened=e,this._hideThumbs()}},{key:"_changeThumbsFromTime",value:function(e){if(!1!==this.thumbsEnabled){var t=this._getOffsetLeftFromTime(e);this._changeThumbs(t)}}},{key:"_changeThumbsFromMouseEvent",value:function(e){if(!1!==this.thumbsEnabled){var t=this._getOffsetLeftFromMouseEvent(e);this._changeThumbs(t)}}},{key:"_changeThumbs",value:function(e){this._changeThumbsPosition(e,this.elementWidth),this._changeThumbImage(e,this.elementWidth),this._changeTimeText(e,this.elementWidth)}},{key:"_changeThumbsPosition",value:function(e,t){var i=Math.max(5,Math.min(e-this.thumbWidth/2,t-this.thumbWidth-15));this.thumbsElement.style.left=i+"px"}},{key:"_changeThumbImage",value:function(e,t){var i=t/this.options.thumbs.length,n=Math.floor(e/i),s=-1*this.thumbWidth*n;this.spriteElement.style.backgroundPosition=s+"px 0"}},{key:"_changeTimeText",value:function(e,t){var i=100*e/t,n=u.default.parseTime(c.default.get("duration")*i/100,c.default.get("duration")>=3600);this.timeElement.childNodes[0].nodeValue=n}},{key:"_showThumbs",value:function(){var e=(0,a.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.thumbsEnabled){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=this.thumbsLoaded,e.t0){e.next=7;break}return e.next=6,this._loadThumbs();case 6:e.t0=e.sent;case 7:if(this.thumbsLoaded=e.t0,this.thumbsLoaded){e.next=10;break}return e.abrupt("return");case 10:if(!this.settingsMenuOpened){e.next=12;break}return e.abrupt("return");case 12:if(!this._mouseLeavedSeeker){e.next=15;break}return this._mouseLeavedSeeker=!1,e.abrupt("return");case 15:this.elementWidth||(this.elementWidth=this.element.offsetWidth),this.thumbsElement.className="thumbs",this.thumbsShown=!0;case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_hideThumbs",value:function(){!1!==this.thumbsShown&&(this.thumbsElement.className="thumbs xh-helper-hidden",this.thumbsShown=!1)}},{key:"_hideThumbsAnimated",value:function(){!1!==this.thumbsShown&&(l.default.addClass(this.thumbsElement,"animate"),clearTimeout(this._thumbsHideTimeout),this._thumbsHideTimeout=setTimeout(this._hideThumbs.bind(this),500))}},{key:"_checkIfThumbsNeedHide",value:function(e){return!(e.target===this.element||e.target===this.seekerElement||e.target===this.handleElement||e.target===this.bufferElement||e.target===this.fillerElement)}}]),e}();t.default=_},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<span class="seeker togglable"><span class="buffer"></span><span class="filler"></span><span class="handle"></span></span>\n            <span class="thumbs xh-helper-hidden"><span class="sprite"></span><span class="time">""</span></span>'}},function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(1)),s=l(i(2)),a=l(i(45)),o=l(i(21)),r=l(i(62));function l(e){return e&&e.__esModule?e:{default:e}}var u=["xplayer-background-top","xplayer-background-bottom","player-ad-overlay","tab-content","xplayer-related","top-rated","more-from-user"],d=function(){function e(t){(0,n.default)(this,e),this.core=t,this.timeoutClick=null,this.timeoutMouseMove=null,this.scheduledMouseMove=!1,this.globalClickCallback=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._attachEvents()}},{key:"_attachEvents",value:function(){this.core.element.addEventListener("click",this._onVideoElementClick.bind(this)),this.core.element.addEventListener("mousemove",this._onElementMouseMove.bind(this)),this.core.element.addEventListener("mousedown",this._onElementMouseDown.bind(this)),this.core.element.addEventListener("mouseup",this._onElementMouseUp.bind(this)),this.core.element.addEventListener("mouseleave",this._onElementMouseLeave.bind(this)),this.core.element.addEventListener("wheel",this._onElementMouseWheel.bind(this)),this.globalClickCallback=this._onGlobalClick.bind(this),document.addEventListener("click",this.globalClickCallback),this._onElementMouseMoveEventbind=this._onElementMouseMoveEvent.bind(this)}},{key:"_onElementMouseMove",value:function(e){this.scheduledMouseMove||(this.scheduledMouseMove=!0,this.timeoutMouseMove=setTimeout(this._onElementMouseMoveEventbind,150))}},{key:"_onElementMouseMoveEvent",value:function(e){this.scheduledMouseMove=!1,this.core.emit(o.default.USER_ACTION,!this.leftButtonClicked)}},{key:"_onElementMouseDown",value:function(e){1===e.which&&(this.leftButtonClicked=!0,this.core.emit(o.default.USER_ACTION))}},{key:"_onElementMouseUp",value:function(e){1===e.which&&(this.leftButtonClicked=!1,this.core.emit(o.default.USER_ACTION,!0))}},{key:"_onElementMouseLeave",value:function(e){this.core.capabilities.safari&&e.relatedTarget&&a.default.hasParent(e.relatedTarget,this.core.element)||(this.leftButtonClicked=!1,clearTimeout(this.timeoutMouseMove),this.scheduledMouseMove=!1,this.core.emit(o.default.USER_ACTION,30))}},{key:"_onElementMouseWheel",value:function(e){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||a.default.hasClass(this.core.element,"fullscreen-ie")){e.preventDefault();var t=e.deltaY<0?1:-1;this.core.emit(o.default.PLAYER_SET_VOLUME,this.core.videoElement.volume+.05*t),this.core.emit(o.default.USER_ACTION)}}},{key:"_checkIfClickTargetIgnored",value:function(e){return"VIDEO"!==e.tagName.toUpperCase()&&!u.some(function(t){return a.default.hasClass(e,t)})}},{key:"_onGlobalClick",value:function(e){this.core.emit(o.default.MOUSE_CLICK_GLOBAL,e)}},{key:"_onVideoElementClick",value:function(e){if(this.core.element.focus(),!this._checkIfClickTargetIgnored(e.target))return this.timeoutClick?(clearTimeout(this.timeoutClick),this.timeoutClick=null,void this._onVideoElementDoubleClick()):void(this.timeoutClick=setTimeout(this._onVideoElementSingleClick.bind(this),250))}},{key:"_onVideoElementSingleClick",value:function(){this.timeoutClick=null,r.default.get("playing")?this.core.emit(o.default.PLAYER_PAUSE):this.core.emit(o.default.PLAYER_PLAY)}},{key:"_onVideoElementDoubleClick",value:function(){this.core.emit(o.default.PLAYER_TOGGLE_FULLSCREEN)}},{key:"destroy",value:function(){document.removeEventListener("click",this.globalClickCallback)}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(1)),s=o(i(2)),a=o(i(21));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this._options=i.poster||{},this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._options.url&&(this._render(),this._attachEvents())}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-poster",this.element.style.backgroundImage="url('"+this._options.url+"')",this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.core.once(a.default.PLAYER_ON_PLAYING,this._destroy,this)}},{key:"_destroy",value:function(){this.core.element.removeChild(this.element),this.element=null}}]),e}();t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=_(i(5)),s=_(i(1)),a=_(i(2)),o=_(i(6)),r=_(i(12)),l=_(i(7)),u=_(i(45)),d=_(i(183)),c=_(i(496)),h=_(i(504)),f=_(i(21));function _(e){return e&&e.__esModule?e:{default:e}}var v="xplayer-loading",m="fullscreen-ie",p="xplayer-no-scroll",E=function(e){function t(e,i,a){(0,s.default)(this,t);var r=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i,a));return r.noAutoplay=i.userSettings&&i.userSettings.override&&!1===i.userSettings.override.autoplay,r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_initXPlayer",value:function(){(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_initXPlayer",this).call(this),new h.default(this),this.autoplay="plain"!==this.options.version&&(!0===this.settings.autoplay||"true"===this.settings.autoplay)&&self===top,this._render(),this._setVolume(this.settings.volume),this._setTimeOffset()||this.autoplay&&this.emit(f.default.PLAYER_PLAY)}},{key:"_render",value:function(){this.videoElement.setAttribute("preload","auto"),this.videoElement.controls="plain"===this.options.version,u.default.addClass(this.element,"xplayer"),u.default.addClass(this.element,"notranslate"),"plain"===this.options.version&&u.default.addClass(this.element,"x-plain"),this.autoplay&&u.default.addClass(this.element,v),this.element.appendChild(this.videoElement)}},{key:"_initPlayingEvents",value:function(){(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_initPlayingEvents",this).call(this),this.once(f.default.PLAYER_ON_LOAD_META_DATA,this._onPlayerLoaded,this),this.on(f.default.PLAYER_TOGGLE_FULLSCREEN,this._toggleFullscreen,this),this.on(f.default.PLAYER_SET_SLOWMO,this._setPlayerSlowMo,this)}},{key:"_onPlayerLoaded",value:function(){"plain"!==this.options.version&&this.videoElement.removeAttribute("poster"),u.default.removeClass(this.element,v)}},{key:"_changeQuality",value:function(e,i){var s=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.once(f.default.PLAYER_ON_LOAD_META_DATA,function(){s.slowmo&&!s.states.ads&&s._setPlayerSlowMo(!0)}),(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_changeQuality",this).call(this,e,i,a,o)}},{key:"_setTimeOffset",value:function(){var e=this,t=d.default.parseTimeOffset();return!!t&&(this.options.preventFirstPlay?(this.autoplay=!0,!1):(this.emit(f.default.PLAYER_SET_CURRENT_TIME,t),this.once(f.default.PLAYER_ON_SEEKED,function(){e.emit(f.default.PLAYER_PLAY)}),!0))}},{key:"_setPlayerSlowMo",value:function(e){this.slowmo=e,this.videoElement.playbackRate=e?.5:1}},{key:"_toggleFullscreen",value:function(){var e=this.element;this.capabilities.fullscreen?document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen():this._toggleFullscreenIE()}},{key:"_toggleFullscreenIE",value:function(){u.default.hasClass(this.element,m)?(u.default.removeClass(document.getElementsByTagName("html")[0],p),u.default.removeClass(this.element,m)):(u.default.addClass(this.element,m),u.default.addClass(document.getElementsByTagName("html")[0],p))}}]),t}(c.default);t.default=E},function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(1)),s=l(i(2)),a=l(i(45)),o=l(i(21)),r=l(i(64));function l(e){return e&&e.__esModule?e:{default:e}}var u="settings",d=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){var e=this;this.element=document.createElement("div"),this.element.className=u,this.element.innerHTML="<div class='settings-inner'></div>",this.element.setAttribute("data-xp-tooltip","Settings"),this.core.sourceController.ready?a.default.addClass(this.element,this.core.sourceController.getType(this.core.sourceController.getCurrentQuality())):r.default.once(o.default.SOURCE_CONTROLLER_READY,function(){a.default.addClass(e.element,e.core.sourceController.getType(e.core.sourceController.getCurrentQuality()))},this),this.core.on(o.default.SETTINGS_MENU_TOGGLED,this._toggleTooltip,this)}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._elementOnClick.bind(this)),this.core.on(o.default.SOURCE_TYPE_CHANGE,this._onSourceTypeChange,this)}},{key:"_elementOnClick",value:function(e){this.core.emit(o.default.SETTINGS_MENU_TOGGLE)}},{key:"_toggleTooltip",value:function(e){var t=e?"":"Settings";this.core.emit(o.default.TOOLTIP_UPDATE,t),this.element.setAttribute("data-xp-tooltip",t)}},{key:"_onSourceTypeChange",value:function(){var e=this.core.sourceController.getType(this.core.sourceController.getCurrentQuality());this.element.className=u,e&&a.default.addClass(this.element,e)}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(62));function r(e){return e&&e.__esModule?e:{default:e}}var l={UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ADD:107,EQUAL:187,SUBTRACT:109,DASH:189,F:70,K:75,O:79,B:66,S:83,HOME:36,END:35,M:77,F1:112,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57},u=[l.UP,l.DOWN,l.LEFT,l.RIGHT,l.ADD,l.EQUAL,l.SPACE,l.SUBTRACT,l.DASH,l.K,l.O,l.B,l.HOME,l.END,l.M,l.F1,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l.S],d=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(this,e),this.core=t,this._keyDownTimeout=null,this._keyUpTimeout=null,this._debugSequence=[],this.options=i.keyboard||{},this._rewindTime=null,this._playerPlayed=!1,this._savedVolume=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){var e=this;this.core.element.tabIndex=-1,!this.options.noFocus&&setTimeout(function(){return e.core.element.focus()},0),this._attachEvents()}},{key:"_attachEvents",value:function(){var e=this;this.core.once(a.default.PLAYER_ON_PLAYING,function(){e._playerPlayed=!0}),this.core.element.addEventListener("keydown",this._onCoreElementKeyDown.bind(this)),this.core.element.addEventListener("keyup",this._onCoreElementKeyUp.bind(this))}},{key:"_onCoreElementKeyDown",value:function(e){var t=this,i=e.target;o.default.get("ads")||"TEXTAREA"===i.nodeName||"INPUT"===i.nodeName||i.isContentEditable||e.ctrlKey||e.metaKey||e.altKey||-1===u.indexOf(e.which)&&!this.core.options.debug||this.core.options.debug&&this._isDebugSequence(e.key)||(-1===[l.UP,l.DOWN].indexOf(e.which)||this._playerPlayed)&&(e.preventDefault(),this._keyDownTimeout||(this._keyDownTimeout=setTimeout(function(){t._keyDownTimeout=null,t._processKeyDown(e.which,e.shiftKey)},100)))}},{key:"_onCoreElementKeyUp",value:function(e){var t=this,i=e.target;o.default.get("ads")||"TEXTAREA"===i.nodeName||"INPUT"===i.nodeName||i.isContentEditable||e.ctrlKey||e.metaKey||e.altKey||-1===[l.LEFT,l.RIGHT,l.F].indexOf(e.which)||(e.which!==l.F?(e.preventDefault(),this._keyUpTimeout||(this._keyUpTimeout=setTimeout(function(){t._keyUpTimeout=null,t._processKeyUp(e.which)},100))):this.core.emit(a.default.PLAYER_TOGGLE_FULLSCREEN,this))}},{key:"_processKeyDown",value:function(e,t){switch(e){case l.LEFT:null===this._rewindTime&&(this._rewindTime=o.default.get("currentTime")||0),this._rewindTime-=t?20:10,this._rewindTime=this._rewindTime<0?0:this._rewindTime,this.core.emit(a.default.PROGRESS_BAR_UPDATE,this._rewindTime);break;case l.RIGHT:null===this._rewindTime&&(this._rewindTime=o.default.get("currentTime")||0),this._rewindTime+=t?20:10,this._rewindTime=this._rewindTime>o.default.get("duration")?o.default.get("duration"):this._rewindTime,this.core.emit(a.default.PROGRESS_BAR_UPDATE,this._rewindTime);break;case l.K:case l.SPACE:o.default.get("playing")?this.core.emit(a.default.PLAYER_PAUSE):this.core.emit(a.default.PLAYER_PLAY);break;case l.ADD:case l.UP:this.core.emit(a.default.PLAYER_SET_VOLUME,this.core.videoElement.volume+.05);break;case l.SUBTRACT:case l.DOWN:this.core.emit(a.default.PLAYER_SET_VOLUME,this.core.videoElement.volume-.05);break;case l.EQUAL:this.core.emit(a.default.PLAYER_SET_VOLUME,this.core.videoElement.volume+.05);break;case l.DASH:this.core.emit(a.default.PLAYER_SET_VOLUME,this.core.videoElement.volume-.05);break;case l.M:var i=this.core.videoElement.volume;0===i?i=this._savedVolume:(this._savedVolume=i,i=0),this.core.emit(a.default.PLAYER_SET_VOLUME,i);break;case l.O:this.core.emit(a.default.OVERLAY_MENU_TOGGLE);break;case l.S:if(!t)return;this.core.emit(a.default.PLAYER_SET_SLOWMO,1===this.core.videoElement.playbackRate);break;case l.HOME:case l[0]:var n=o.default.get("ended");this.core.emit(a.default.PLAYER_SET_CURRENT_TIME,0),n&&this.core.emit(a.default.PLAYER_PLAY);break;case l.END:this.core.emit(a.default.PLAYER_SET_CURRENT_TIME,o.default.get("duration"));break;case l.B:this.core.emit(a.default.PLAYER_PAUSE),window.open("https://www.google.com","_blank").focus();break;case l[1]:case l[2]:case l[3]:case l[4]:case l[5]:case l[6]:case l[7]:case l[8]:case l[9]:var s=String.fromCharCode(e);if(parseInt(s)!=s)break;var r=+s/10*o.default.get("duration");this.core.emit(a.default.PLAYER_SET_CURRENT_TIME,r)}this.core.emit(a.default.USER_ACTION,!0)}},{key:"_processKeyUp",value:function(e){switch(e){case l.LEFT:case l.RIGHT:this._setCurrentTime()}}},{key:"_setCurrentTime",value:function(){this.core.emit(a.default.PLAYER_SET_CURRENT_TIME,this._rewindTime),this.core.emit(a.default.PROGRESS_BAR_UPDATE_END),!o.default.get("playing")&&this._rewindTime<o.default.get("duration")&&this.core.emit(a.default.PLAYER_PLAY),this._rewindTime=null}},{key:"_isDebugSequence",value:function(e){-1!==["i","d","d","q","d","k","f","a"].indexOf(e)&&(this._debugSequence.push(e),this._debugSequence.length>5&&this._debugSequence.shift(),"iddqd"===this._debugSequence.join("")&&this.core.fallbackService.fallbackImage())}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(45)),o=r(i(21));function r(e){return e&&e.__esModule?e:{default:e}}var l="xp-tooltip",u=function(){function e(t){(0,n.default)(this,e),this.core=t,this._visible=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),document.addEventListener("mouseover",this._isTooltip.bind(this,this._updateTooltipFromMouse)),document.addEventListener("mouseout",this._isTooltip.bind(this,this._hideTooltip)),this.core.on(o.default.TOOLTIP_UPDATE,this._updateTooltipText,this)}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-tooltip",this.core.element.appendChild(this.element)}},{key:"_isTooltip",value:function(e,t){var i=a.default.hasParentByData(t.target,l);i&&e.call(this,t,i)}},{key:"_hideTooltip",value:function(){this._visible&&(a.default.css(this.element,{opacity:0,top:-12e3,left:-12e3}),this._visible=!1)}},{key:"_updateTooltipFromMouse",value:function(e,t){e.stopPropagation(),this._updateTooltip(t)}},{key:"_updateTooltip",value:function(e){var t=e.getAttribute("data-"+l);if(t){var i,n=t;i=this._calcElementBox(e),this._visible&&this._hideTooltip(),this._updateTooltipText(n),this._showTooltip(i)}}},{key:"_updateTooltipText",value:function(e){this.element.innerHTML=e}},{key:"_calcElementBox",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,bottom:t.top+window.pageYOffset+e.offsetHeight,left:t.left+window.pageXOffset,right:t.left+t.width+window.pageXOffset,center:t.left+window.pageXOffset+e.offsetWidth/2}}},{key:"_calcTooltipBox",value:function(e){return{width:e.offsetWidth,height:e.offsetHeight}}},{key:"_showTooltip",value:function(e){var t,i=this._calcTooltipBox(this.element),n=this._calcElementBox(this.core.element),s=e.top-n.top,o=e.bottom-n.top,r=s>i.height+10,l=r?s-i.height-12:o+6,u=e.center-i.width/2-n.left,d=n.right-n.left;t={top:l,left:u+i.width>d?d-i.width-5:u,opacity:1},r?a.default.removeClass(this.element,"below"):a.default.addClass(this.element,"below"),a.default.css(this.element,t),this._visible=!0}}]),e}();t.default=u},function(e,t,i){"use strict";t.__esModule=!0;var n=m(i(71)),s=m(i(8)),a=m(i(1)),o=m(i(2)),r=m(i(45)),l=m(i(183)),u=m(i(569)),d=m(i(570)),c=m(i(571)),h=m(i(572)),f=m(i(573)),_=m(i(21)),v=m(i(62));function m(e){return e&&e.__esModule?e:{default:e}}var p="xplayer-ads",E="xh-helper-hidden",y=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.default)(this,e),this.core=t,this.options=(0,s.default)({},this._defaultOptions(),n.ads||{}),this._template=i,this._serverUrl=this.options.serverUrl||null,this._playerOnEndedEventId=null,this._timeUpdateEventId=null,this._playerOnErrorEventId=null,this._playerPlayEventId=null,this._playerOnPlayingEventId=null,this._trackingController=null,this._errorController=null,this._adsStartedPlayingTime=0,this._allowSkip=!1,this._forceLoadSource=!!this.core.capabilities.chrome,this._init()}return(0,o.default)(e,[{key:"_defaultOptions",value:function(){return{serverUrl:null,preflight:!1,trackCollector:100*Math.random()<=10,trackCollectorExtra:{},trackGA:!1,trackGACollect:["hideAd","shown","viewed","skipped"],abortServerTimeout:3,maxSkipOffset:100,labelContainerSelector:null,hideAdCallback:null,skipAdjustment:null,hideAdUrl:null,videoLinkDisable:!0,blockCssClass:null}}},{key:"_init",value:function(){this._serverUrl&&this._template&&"function"==typeof this._template&&(this.adsData=new u.default(this._serverUrl,d.default,this.options),this.core.autoplay||this.options.preflight?this._loadData():this._playerPlayEventId=this.core.once(_.default.PLAYER_PLAY,this._loadData,this))}},{key:"_loadData",value:function(){var e=this;this._trackingCollector=new f.default(this.core,this.options.trackCollector,(0,s.default)({},{url:this._serverUrl},this.options.trackCollectorExtra||{})),this._trackingCollector.startTracking(),this.core.off(_.default.PLAYER_PLAY,this._playerPlayEventId),this.adsData.loadData(this._trackingCollector.trackCollector.bind(this._trackingCollector)).then(this._dataLoaded.bind(this)).catch(function(t){if(t&&"abort"===t.statusText);else if(t&&t.status&&204===t.status)e._trackingCollector.trackCollector("preroll_empty");else{var i=void 0;try{i=(0,n.default)(t)}catch(e){}e._trackingCollector.trackCollector("preroll_error",{error:i,errorText:t&&t.statusText,errorStatus:t&&t.status})}e.core.emit(_.default.ADS_ENDED,null,e.options.preflight),e.core.emit(_.default.PLAYER_ON_PREVENT_PLAY_UNBLOCK),e.core.emit(_.default.PLAYER_SET_SOURCE,null,!0,e._getAdsStartedTime(),e._forceLoadSource)})}},{key:"_dataLoaded",value:function(){this.options.preflight?this.core.once(_.default.ADS_PLAY,this._playAds,this):this._playAds()}},{key:"_playAds",value:function(){this.adsData.data?(this._trackingCollector.trackCollector("preroll_ok"),this._render(this.adsData.data),this._allowSkip=!this.adsData.data.skipOffset,this._domCache=this._getDomCache(),this._attachEvents(),this._prepareCoreMobile(),this._showAds()):this.core.emit(_.default.ADS_ENDED,null,this.options.preflight)}},{key:"_render",value:function(e){this.element=document.createElement("div"),this.element.className="xplayer-ads-block",this.options.blockCssClass&&(this.element.className+=" "+this.options.blockCssClass),this.element.innerHTML=this._template(e,this.options)}},{key:"_getDomCache",value:function(){return{skip:this.element.querySelector(".xplayer-ads-block__skip"),link:this.element.querySelector(".xplayer-ads-block__link"),callToAction:this.element.querySelector(".xplayer-ads-block__callToAction"),video:this.element.querySelector(".xplayer-ads-block__video"),label:this.element.querySelector(".xplayer-ads-block__label"),hideAd:this.element.querySelector(".xplayer-ads-block__hide-ad"),durationTiming:this.element.querySelector(".xplayer-ads-block__info--timing"),skipTiming:this.element.querySelector(".xplayer-ads-block__skip--timing")}}},{key:"_attachEvents",value:function(){this._onLinkClickBind=this._onLinkClick.bind(this),this._domCache.skip.addEventListener("click",this._skipAds.bind(this)),this._domCache.link&&this._domCache.link.addEventListener("click",this._onLinkClickBind),this._domCache.callToAction&&this._domCache.callToAction.addEventListener("click",this._onLinkClickBind),this._domCache.callToAction&&this._domCache.callToAction.addEventListener("click",this._trackCallToActionClick.bind(this)),this._domCache.video&&this._domCache.video.addEventListener("click",this._onVideoClick.bind(this)),this._domCache.label.addEventListener("click",this._trackLinkClick.bind(this)),this._domCache.label.addEventListener("click",this._onLinkClickBind),this._domCache.hideAd&&this._domCache.hideAd.addEventListener("click",this._onHideAdClick.bind(this))}},{key:"_showCallToAction",value:function(e){!this._domCache.callToAction||e<3||!r.default.hasClass(this._domCache.callToAction,E)||r.default.removeClass(this._domCache.callToAction,E)}},{key:"_prepareCoreMobile",value:function(){this.core.capabilities.mobile&&(this.core.videoElement.setAttribute("webkit-playsinline",!0),this.core.videoElement.setAttribute("playsinline",!0),this.core.allowControls=!1,this.core.videoElement.removeAttribute("controls"))}},{key:"_getAdsStartedTime",value:function(){return v.default.get("currentTime")||l.default.parseTimeOffset()||0}},{key:"_showAds",value:function(){var e=this;this._trackingController=new h.default(this.core,this.adsData.data.trackingEvents,{enabled:this.options.trackGA,collect:this.options.trackGACollect}),this._errorController=new c.default(this.core,this.adsData.data.error),this._playerOnErrorEventId=this.core.once(_.default.PLAYER_ON_ERROR,this._resumePlay,this),this._playerOnEndedEventId=this.core.once(_.default.PLAYER_ON_ENDED,this._onEnded,this),this._playerOnPlayingEventId=this.core.once(_.default.PLAYER_ON_PLAY,function(t){r.default.addClass(e.core.element,p),e.core.element.appendChild(e.element)}),this._timeUpdateEventId=this.core.on(_.default.PLAYER_ON_TIMEUPDATE,this._onTimeUpdate,this),this._adsStartedPlayingTime=this._getAdsStartedTime(),this.core.videoElement.removeAttribute("poster"),this.core.emit(_.default.PLAYER_ON_PREVENT_PLAY_UNBLOCK),this.core.emit(_.default.PLAYER_SET_VIDEO_SOURCE,this.adsData.data.mediaFile),this.core.emit(_.default.ADS_STARTED),this.core.emit(_.default.PLAYER_SET_CURRENT_TIME,0,!0),this.core.emit(_.default.PLAYER_PLAY)}},{key:"_onTimeUpdate",value:function(){var e=l.default.parseTime(Math.ceil(this.adsData.data.duration-v.default.get("currentTime")),v.default.get("duration")>=3600);if(this._domCache.durationTiming.innerText=e,this._trackingController.trackTiming(v.default.get("currentTime"),v.default.get("duration")),this._trackingCollector.trackShown(),this._showCallToAction(v.default.get("currentTime")),!this._allowSkip){var t=this.options.skipAdjustment?this.adsData.data.skipOffset/this.options.skipAdjustment:1,i=Math.ceil((this.adsData.data.skipOffset-v.default.get("currentTime"))/t);i>0?this._domCache.skipTiming.innerText=i:(this._allowSkip=!0,r.default.removeClass(this._domCache.skip,"xplayer-ads-block__skip--blocked"),r.default.removeClass(this._domCache.skip.querySelector(".xplayer-ads-block__skip--allowed-skip"),"xh-helper-hidden"),r.default.addClass(this._domCache.skip.querySelector(".xplayer-ads-block__skip--with-timing"),"xh-helper-hidden"),this._trackingController.trackEvent("progress"))}}},{key:"_onLinkClick",value:function(){this._resumePlay(null,!1,!!this.core.capabilities.mobile&&!!this.core.capabilities.idevice)}},{key:"_trackLinkClick",value:function(){this._trackingController.trackEvent("clickTracking"),this._trackingCollector.trackCollector("preroll_link")}},{key:"_trackCallToActionClick",value:function(){this._trackingController.trackEvent("clickTracking"),this._trackingCollector.trackCollector("preroll_callToAction")}},{key:"_onVideoClick",value:function(){v.default.get("playing")?this.core.emit(_.default.PLAYER_PAUSE):this.core.emit(_.default.PLAYER_PLAY)}},{key:"_onHideAdClick",value:function(e){this._trackingController.trackGA("hideAd"),"function"==typeof this.options.hideAdCallback&&(e.preventDefault(),this.options.hideAdCallback())}},{key:"_onEnded",value:function(){this._trackingCollector.trackCollector("preroll_ended"),this._resumePlay()}},{key:"_resumePlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e&&"error"===e.type;!s&&this._trackingController.trackGA("viewed",v.default.get("currentTime")/v.default.get("duration")*100),this._trackingController.destroy(),this._errorController.destroy(),this.core.off(_.default.PLAYER_ON_ENDED,this._playerOnEndedEventId),this.core.off(_.default.PLAYER_ON_PLAY,this._playerOnPlayingEventId),this.core.off(_.default.PLAYER_ON_TIMEUPDATE,this._timeUpdateEventId),this.core.off(_.default.PLAYER_ON_ERROR,this._playerOnErrorEventId),this.core.capabilities.mobile&&(this.core.videoElement.removeAttribute("webkit-playsinline"),this.core.videoElement.removeAttribute("playsinline"),this.core.allowControls=!0),i&&n?(this.core.emit(_.default.PLAYER_PAUSE),this.core.emit(_.default.PLAYER_ON_SEEKED),this.core.videoElement.style.opacity="0",this.core.once(_.default.PLAYER_PLAY,function(e){t.core.emit(_.default.PLAYER_SET_SOURCE,null,!0,t._adsStartedPlayingTime,t._forceLoadSource),t.core.videoElement.style.opacity="1"})):this.core.emit(_.default.PLAYER_SET_SOURCE,null,i,this._adsStartedPlayingTime,this._forceLoadSource),this._hideAds(!s,!i)}},{key:"_hideAds",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this._domCache.label.removeEventListener("click",this._onLinkClickBind),this.options.labelContainerSelector?document.querySelector(this.options.labelContainerSelector).appendChild(this._domCache.label):(this.core.element.appendChild(this._domCache.label),this._domCache.label.addEventListener("click",function(e){return t.core.emit(_.default.PLAYER_PAUSE)})));this.core.emit(_.default.ADS_ENDED,e,i),i||r.default.removeClass(this.core.element,"xplayer-paused"),r.default.removeClass(this.core.element,p),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null}},{key:"_skipAds",value:function(){this._allowSkip&&(this._trackingController.trackEvent("skip"),this._trackingController.trackGA("skip"),this._trackingCollector.trackCollector("preroll_skip"),this._resumePlay())}}]),e}();t.default=y},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(87)),s=r(i(1)),a=r(i(2)),o=r(i(169));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(this,e),this.url=t,this.adapter=i,this.adapterOptions=n,this.data=null}return(0,a.default)(e,[{key:"loadData",value:function(e){var t=this;return new n.default(function(i,n){if(t.data)i(t.data);else{var s,a=o.default.ajax("GET",t.url,null,{headersReceivedCallback:function(){s&&clearTimeout(s)}});e&&e("preroll_sent"),a.then(function(e){try{t.data=t.adapter.parseData(JSON.parse(e),t.adapterOptions),i(t.data)}catch(e){n(e)}},n),t.adapterOptions.abortServerTimeout&&(s=setTimeout(function(t){e&&e("preroll_timeout"),a.abort()},1e3*t.adapterOptions.abortServerTimeout))}})}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0,t.default={parseData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},n=e.creatives[0].linear,s="number"!=typeof t.skipOffset||isNaN(t.skipOffset)?n.skip_offset:t.skipOffset;return i.mediaFile=n.media_files[0].uri,i.skipOffset=s>t.maxSkipOffset?t.maxSkipOffset:s,i.duration=n.duration,i.link=n.video_click.through,i.title=n.brandname||"Get the offer!",i.trackingEvents={},n.tracking_events.map(function(e){i.trackingEvents[e.event]=e.uri}),i}}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(169)),o=u(i(21)),r=u(i(336)),l=u(i(225));function u(e){return e&&e.__esModule?e:{default:e}}var d={general:400,video_not_found:401,video_file_timeout:402,video_format_not_supported:403,video_play_error:405,unknown:900},c=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.url=i||null,this._playerOnErrorEventId=null,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this.core.emit(o.default.PLAYER_ERROR_CONTROLLER_BLOCK),this._playerOnErrorEventId=this.core.on(o.default.PLAYER_ON_ERROR,this._onPlayerError,this)}},{key:"_onPlayerError",value:function(e){var t=e&&e.target&&e.target.error&&e.target.error.code,i="unknown";switch(r.default[t]){case l.default.ABORTED:i="general";break;case l.default.DECODER:i="video_play_error";break;case l.default.SOURCE:i="video_not_found";break;case l.default.NETWORK:i="video_file_timeout"}this.trackError(i)}},{key:"trackError",value:function(e){if(this.url&&d[e]){var t=this.url+"?error_code="+d[e];this.core.options.debug||a.default.ajax("GET",t)}}},{key:"destroy",value:function(){this.core.off(o.default.PLAYER_ON_ERROR,this._playerOnErrorEventId),this.core.emit(o.default.PLAYER_ERROR_CONTROLLER_UNBLOCK)}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(169)),o=r(i(21));function r(e){return e&&e.__esModule?e:{default:e}}var l=.4,u=function(){function e(t,i,s){(0,n.default)(this,e),this.core=t,this._trackingData=i,this._eventsIds={},this._trackGAEnabled=s.enabled,this._trackGACollect=s.collect,this._played=!1,this._muted=this.core.videoElement.volume<l,this._trackedTiming={start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1},this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._trackingData&&(this._eventsIds[o.default.PLAYER_ON_PLAY]=this.core.on(o.default.PLAYER_ON_PLAY,this._playerOnPlay,this),this._eventsIds[o.default.PLAYER_ON_PAUSE]=this.core.on(o.default.PLAYER_ON_PAUSE,this._playerOnPause,this),this._eventsIds[o.default.PLAYER_SET_VOLUME]=this.core.on(o.default.PLAYER_SET_VOLUME,this._playerOnSetVolume,this))}},{key:"_playerOnPlay",value:function(){this._played?this.trackEvent("resume"):this._played=!0}},{key:"_playerOnPause",value:function(){this.core.videoElement.ended?this.trackEvent("complete"):this.trackEvent("pause")}},{key:"_playerOnSetVolume",value:function(){this.core.videoElement.volume<l?this._muted||(this.trackEvent("mute"),this._muted=!0):this._muted&&(this.trackEvent("unmute"),this._muted=!1)}},{key:"trackTiming",value:function(e,t){if(!this._trackedTiming.start&&e>0)return this._trackedTiming.start=!0,this.trackEvent("start"),void this.trackGA("shown",t);var i=e/t;return i>.25&&!this._trackedTiming.firstQuartile?(this.trackEvent("firstQuartile"),void(this._trackedTiming.firstQuartile=!0)):i>.5&&!this._trackedTiming.midpoint?(this.trackEvent("midpoint"),void(this._trackedTiming.midpoint=!0)):i>.75&&!this._trackedTiming.thirdQuartile?(this.trackEvent("thirdQuartile"),void(this._trackedTiming.thirdQuartile=!0)):void 0}},{key:"trackGA",value:function(e,t){if((!this._trackGAEnabled||!this.core.options.debug)&&window.ga&&this._trackGAEnabled&&-1!==this._trackGACollect.indexOf(e)){var i=null;switch(e){case"hideAd":i="Hide Ad";break;case"shown":i="Shown";break;case"viewed":i="Viewed";break;case"skip":i="Skipped"}i&&window.ga("send","event","Preroll",i,{nonInteraction:!0})}}},{key:"trackEvent",value:function(e){this._trackingData[e]&&(this.core.options.debug||a.default.ajax("GET",this._trackingData[e]))}},{key:"destroy",value:function(){for(var e in this._eventsIds)this.core.off(e,this._eventsIds[e])}}]),e}();t.default=u},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(8)),s=r(i(1)),a=r(i(2)),o=r(i(169));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,s.default)(this,e),this.core=t,this._enabled=i,this._played=!1,this._startedTime=null,this._data=n||{}}return(0,a.default)(e,[{key:"startTracking",value:function(){this._startedTime=(new Date).getTime()}},{key:"trackShown",value:function(){this._played||(this._played=!0,this.trackCollector("preroll_shown"))}},{key:"trackCollector",value:function(e,t){if(this._enabled){var i=(0,n.default)({},t,this._data);i.time=(new Date).getTime()-this._startedTime,i.log="preroll",i.event=e,this.core.options.debug||o.default.ajax("GET","https://collector.xhamster.com/",i)}}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(183),a=(n=s)&&n.__esModule?n:{default:n};var o={getVideoLink:function(e,t){return t.videoLinkDisable?'<div class="xplayer-ads-block__video"></div>':'<a class="xplayer-ads-block__link" target="_blank" href="'+e.link+'"></a>'},getAdsLabel:function(e,t){return'<a href="'+e.link+'" target="_blank" class="xplayer-ads-block__label xplayer-ads-label'+(t.hideAdCallback||t.hideAdUrl?"":" xplayer-ads-block__label--right")+(t.blockCssClass?" "+t.blockCssClass:"")+'"><span class="xplayer-ads-label__ad">Ad</span> <span class="xplayer-ads-label__text">'+e.title+"</span></a>"},getAdsHide:function(e,t){return'<a href="'+(t.hideAdUrl?t.hideAdUrl:"#")+'" class="xplayer-ads-block__hide-ad'+(t.hideAdCallback||t.hideAdUrl?"":" xh-helper-hidden")+'" data-tooltip="Register to hide this ad"></a>'},getAdsInfo:function(e,t){return'<div class="xplayer-ads-block__info"><span class="xplayer-ads-block__info--timing">'+a.default.parseTime(e.duration)+"</span></div>"},getAdsSkip:function(e,t){return'<div class="xplayer-ads-block__skip '+(e.skipOffset?" xplayer-ads-block__skip--blocked":"")+'">\n                <span class="xplayer-ads-block__skip--with-timing '+(e.skipOffset?"":" xh-helper-hidden")+'">\n                    Skip Ad in <span class="xplayer-ads-block__skip--timing">'+e.skipOffset+'</span>\n                </span>\n                <span class="xplayer-ads-block__skip--allowed-skip'+(e.skipOffset?" xh-helper-hidden":"")+'">Skip Ad</span>\n            </div>'},getAdsCallToAction:function(e,t){return'<a href="'+e.link+'" target="_blank" class="xplayer-ads-block__callToAction xh-helper-hidden"><span class="xplayer-ads-block__callToAction--no-title">Visit site</span><span class="xplayer-ads-block__callToAction--with-title">'+e.title+"</span></a>"}};t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=e.label,i=e.typeClass,n=e.labelQuality,s=e.labelCss;return'\n            <span class="label '+i+'">'+t+'</span>\n            <span class="chooser-control '+i+'">\n                <span class="'+(s||"")+'">'+n+"</span>\n            </span>\n    "}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(1)),s=o(i(2)),a=o(i(21));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.exist=!0,this.options=i.startButton||{},this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this.core.settings.autoplay&&self===top||(this._render(),this._attachEvents(),this.core.emit(a.default.USER_ACTION_BLOCK))}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xplayer-start-button",this.options.classic&&(this.element.className+=" xplayer-start-button--classic"),this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.core.once(a.default.PLAYER_ON_PLAYING,this._destroyButtonAndUnblockUserAction,this),this.core.once(a.default.OVERLAY_MENU_TOGGLE,this._destroyButton,this),this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onElementClick",value:function(e){this.core.emit(a.default.PLAYER_PLAY),this._destroyButtonAndUnblockUserAction()}},{key:"_destroyButtonAndUnblockUserAction",value:function(){this.core.emit(a.default.USER_ACTION_UNBLOCK),this._destroyButton()}},{key:"_destroyButton",value:function(){this.exist&&(this.exist=!1,this.core.element.removeChild(this.element),this.element=null)}}]),e}();t.default=r},function(e,t,i){"use strict";t.__esModule=!0;var n=l(i(1)),s=l(i(2)),a=l(i(45)),o=l(i(21)),r=l(i(64));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,n.default)(this,e),this.core=t,this.element=null,this._controllers=null,this._controllersList=i,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._initControllers(this._controllersList),this._render(),this._attachEvents()}},{key:"_initControllers",value:function(e){var t=this;this._controllers=e.map(function(e){return new e(t.core)})}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="settings-menu xh-helper-hidden",this._renderControllers(),this.core.element.appendChild(this.element)}},{key:"_renderControllers",value:function(){var e=this;this._controllers.map(function(t){return t.element&&e.element.appendChild(t.element)})}},{key:"_reatachControllers",value:function(){this.element.innerHTML="",this._initControllers(this._controllersList),this._renderControllers()}},{key:"_attachEvents",value:function(){r.default.on(o.default.VR_CONTROLS_ADDED,this._reatachControllers,this),r.default.on(o.default.SETTINGS_MENU_TOGGLE,this._onSettingsMenuToggle,this),r.default.on(o.default.PLAYER_ON_PLAY,this._hideSettingsMenu,this),r.default.on(o.default.PLAYER_ON_PAUSE,this._hideSettingsMenu,this),r.default.on(o.default.OVERLAY_MENU_TOGGLE,this._hideSettingsMenu,this),r.default.on(o.default.PLAYER_ON_VOLUME_CHANGE,this._hideSettingsMenu,this),r.default.on(o.default.PLAYER_SET_SOURCE,this._hideSettingsMenu,this),r.default.on(o.default.NO_USER_ACTION,this._hideSettingsMenu,this),r.default.on(o.default.PLAYER_TOGGLE_FULLSCREEN,this._hideSettingsMenu,this),r.default.on(o.default.QUALITY_LIST_OPEN,this._hideSettingsMenu,this),r.default.on(o.default.VR_CONTROLS_LIST_OPEN,this._hideSettingsMenu,this)}},{key:"_onSettingsMenuToggle",value:function(){this.shown?this._hideSettingsMenu():this._showSettingsMenu()}},{key:"_hideSettingsMenu",value:function(){this.shown&&(this.shown=!1,a.default.addClass(this.element,"xh-helper-hidden"),this.core.emit(o.default.SETTINGS_MENU_TOGGLED,!1))}},{key:"_showSettingsMenu",value:function(){this.shown=!0,a.default.removeClass(this.element,"xh-helper-hidden"),this.core.emit(o.default.SETTINGS_MENU_TOGGLED,!0)}}]),e}();t.default=u},function(e,t,i){"use strict";t.__esModule=!0;var n=h(i(5)),s=h(i(1)),a=h(i(2)),o=h(i(6)),r=h(i(7)),l=h(i(21)),u=h(i(64)),d=h(i(431)),c=h(i(599));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getTemplate",value:function(){return c.default}},{key:"getTemplateOptions",value:function(){return{label:"Quality",typeClass:"quality",labelQuality:this.core.sourceController.getCurrentQuality(),labelCss:this.core.sourceController.getType(this.core.sourceController.getCurrentQuality())}}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",function(){return u.default.emit(l.default.QUALITY_LIST_OPEN)}),u.default.on(l.default.SOURCE_CONTROLLER_READY,this._render,this),u.default.on(l.default.PLAYER_FALLBACK_SOURCE,this._render,this),u.default.on(l.default.PLAYER_SET_SOURCE,this._render,this),u.default.on(l.default.SETTINGS_RENDER_QUALITY,this._render,this)}}]),t}(d.default);t.default=f},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(45)),o=u(i(21)),r=u(i(64)),l=u(i(636));function u(e){return e&&e.__esModule?e:{default:e}}var d="auto-chosen",c="xh-helper-hidden",h="data-value",f="chosen",_=function(){function e(t){(0,n.default)(this,e),this.core=t,this.element=null,this.backElement=null,this.innerElement=null,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-quality-list settings-menu "+c,this.element.innerHTML=(0,l.default)(),this.backElement=this.element.querySelector(".xp-quality-list-back"),this.innerElement=this.element.querySelector(".xp-quality-list-inner"),this._renderQualitySettings(),this.core.element.appendChild(this.element)}},{key:"_renderQualitySettings",value:function(){var e=this;if(this.core.sourceController.ready){var t=this.core.sourceController.getQualities(),i=this.core.sourceController.getCurrentQuality(),n=[],s=void 0,a="";"auto"===i&&this.core.sourceController.getQuality&&(s=this.core.sourceController.getQuality(-1)),t.forEach(function(t){("auto"!==t||e.core.capabilities.hls||e.core.capabilities.hlsFull&&"hls"===e.core.sourceController.type||e.core.capabilities.hlsFull&&"dash"===e.core.sourceController.type)&&(t===i&&n.push("chosen"),n.push(e.core.sourceController.getType(t)),s===t&&n.push(d),a+="<span data-value='"+t+"' class='"+n.join(" ")+"'>"+e.core.sourceController.getLabelFromQuality(t)+"</span>",n=[])}),this.innerElement.innerHTML=a}else r.default.once(o.default.SOURCE_CONTROLLER_READY,this._renderQualitySettings,this)}},{key:"_attachEvents",value:function(){r.default.on(o.default.QUALITY_LIST_OPEN,this._show,this),r.default.on(o.default.PLAYER_ON_PLAY,this._hide,this),r.default.on(o.default.PLAYER_ON_PAUSE,this._hide,this),r.default.on(o.default.OVERLAY_MENU_TOGGLE,this._hide,this),r.default.on(o.default.PLAYER_ON_VOLUME_CHANGE,this._hide,this),r.default.on(o.default.PLAYER_SET_SOURCE,this._hide,this),r.default.on(o.default.NO_USER_ACTION,this._hide,this),r.default.on(o.default.PLAYER_TOGGLE_FULLSCREEN,this._hide,this),r.default.on(o.default.SETTINGS_MENU_TOGGLE,this._hide,this),r.default.on(o.default.PLAYER_FALLBACK_SOURCE,this._renderQualitySettings,this),r.default.on(o.default.SETTINGS_RENDER_QUALITY,this._renderQualitySettings,this),this.backElement.addEventListener("click",function(){return r.default.emit(o.default.SETTINGS_MENU_TOGGLE)}),this.innerElement.addEventListener("click",this._onQualityElementClick.bind(this))}},{key:"_onQualityElementClick",value:function(e){if(e.target.hasAttribute(h)&&!a.default.hasClass(e.target,f)){var t=e.target,i=t.getAttribute(h);this.core.emit(o.default.PLAYER_SET_SOURCE,i,!0),this._hide(),this._toggleActiveElement(t),"auto"===i&&this._chooseAutoqualityLevel(),r.default.emit(o.default.PLAYER_SET_QUALITY)}}},{key:"_chooseAutoqualityLevel",value:function(){if(this.core.sourceController.getQuality){var e=this.core.sourceController.getQuality(-1);a.default.addClass(this.innerElement.querySelector("[data-value='"+e+"']"),d)}}},{key:"_toggleActiveElement",value:function(e){var t=e.parentNode,i=t.getElementsByClassName(f)[0],n=t.getElementsByClassName(d)[0];i&&a.default.removeClass(i,f),n&&a.default.removeClass(n,d),a.default.addClass(e,f)}},{key:"_show",value:function(){a.default.removeClass(this.element,c)}},{key:"_hide",value:function(){a.default.addClass(this.element,c)}}]),e}();t.default=_},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'\n        <span class="setting xp-quality-list-back">\n            <span class="label">Back</span>\n        </span>\n        <span class="setting">\n            <span class="quality chooser-control xp-quality-list-inner"></span>\n        </span>\n    '}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return""+a.default.getVideoLink(e,t)+a.default.getAdsLabel(e,t)+a.default.getAdsHide(e,t)+a.default.getAdsInfo(e,t)+a.default.getAdsSkip(e,t)+a.default.getAdsCallToAction(e,t)};var n,s=i(574),a=(n=s)&&n.__esModule?n:{default:n}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(45)),o=u(i(21)),r=u(i(62)),l=u(i(639));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.options=i,this.bannerUrl=this.options.banner&&this.options.banner.bannerUrl||!1,this.show=this.options.banner&&this.bannerUrl&&this.options.banner.show||!1,this.overlayMenuOpened=!1,this.bannerBlocked=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this.show&&(this._render(),this._attachEvents())}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xplayer-banner xh-helper-hidden",this.core.element.appendChild(this.element)}},{key:"_renderBanner",value:function(){this.element.innerHTML=(0,l.default)(),this.element.getElementsByTagName("iframe")[0].setAttribute("src",this.bannerUrl)}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onElementClick.bind(this)),this.core.on(o.default.PLAYER_ON_PLAY,this._hideBannerAndUnblockUserAction,this),this.core.on(o.default.PLAYER_ON_PAUSE,this._onPlayerPause,this),this.core.on(o.default.OVERLAY_MENU_TOGGLE,this._onOverlayMenuToggle,this),this.core.on(o.default.PLAYER_ON_ENDED,this._onOverlayMenuToggle,this),this.core.on(o.default.QUALITY_MENU_OPEN,this._hideBanner,this),this.core.on(o.default.SHARE_MENU_OPEN,this._hideBanner,this),this.core.on(o.default.PAUSE_ACTION_BLOCK,this._onBannerBlock,this),this.core.on(o.default.PAUSE_ACTION_UNBLOCK,this._onBannerUnblock,this)}},{key:"_onElementClick",value:function(e){this.core.element.focus(),(a.default.hasClass(e.target,"player-ad-close")||a.default.hasClass(e.target,"player-ad-close-icon"))&&this._hideBannerAndUnblockUserAction()}},{key:"_onOverlayMenuToggle",value:function(){this.overlayMenuOpened=!this.overlayMenuOpened,this.overlayMenuOpened&&this._hideBanner()}},{key:"_onBannerBlock",value:function(){this.bannerBlocked=!0}},{key:"_onBannerUnblock",value:function(){this.bannerBlocked=!1}},{key:"_hideBannerAndUnblockUserAction",value:function(){this.core.emit(o.default.USER_ACTION_UNBLOCK),this._hideBanner()}},{key:"_hideBanner",value:function(){a.default.addClass(this.element,"xh-helper-hidden")}},{key:"_onPlayerPause",value:function(){var e,t=this,i=!1;e=this.core.once(o.default.PLAYER_ON_SEEKING,function(e){return i=!0}),setTimeout(function(n){i||(t.core.off(o.default.PLAYER_ON_SEEKING,e),t._showBanner())},300)}},{key:"_showBanner",value:function(){this.overlayMenuOpened||this.bannerBlocked||r.default.get("ads")||(this.core.emit(o.default.USER_ACTION_BLOCK),this._renderBanner(),a.default.removeClass(this.element,"xh-helper-hidden"))}}]),e}();t.default=d},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<div class="player-ad-overlay"><span class="centered"><button class="player-ad-close"><i class="xp-icon player-ad-close-icon"></i></button><iframe seamless frameborder="0" scrolling="no"></iframe></span></div>'}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=e.id;return'\n            <span class="label">'+e.label+'</span>\n            <label for="'+t+'" class="toggle-control switcher">\n                <input id="'+t+'" class="'+t+'" '+(e.checked?"checked":"")+' type="checkbox">\n                <span>Off</span>\n                <div class="toggler-container">\n                    <div class="toggler"></div>\n                </div>\n                <span>On</span>\n            </label>\n    '}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this;return function(){return i.apply(e,t.concat(Array.prototype.slice.call(arguments)))}})},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(45));function r(e){return e&&e.__esModule?e:{default:e}}var l="xh-helper-hidden",u=function(){function e(t){(0,n.default)(this,e),this.core=t,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("canvas"),this.element.className="xplayer-screenshot "+l,this.context=this.element.getContext("2d"),this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.core.on(a.default.PLAYER_BEFORE_SET_SOURCE,this._showScreenshotBeforeChangeSource,this),this.core.on(a.default.PLAYER_ON_DECODER_ERROR,this._showScreenshotOnDecoderError,this)}},{key:"_getScreenshotSize",value:function(){var e=this.core.videoElement.videoWidth,t=this.core.videoElement.videoHeight,i=Math.floor(this.core.videoElement.clientWidth),n=Math.floor(this.core.videoElement.clientHeight),s=void 0,a=void 0;return e>=t?a=Math.floor((s=i)*t/e):s=Math.floor((a=n)*e/t),a>n&&(s=Math.floor((a=n)*e/t)),{vWidth:i,vHeight:n,width:s,height:a}}},{key:"_drawScreenshot",value:function(){var e=this._getScreenshotSize();this.element.width=e.vWidth,this.element.height=e.vHeight,this.context.clearRect(0,0,e.vWidth,e.vHeight),this.context.drawImage(this.core.videoElement,e.vWidth/2-e.width/2,e.vHeight/2-e.height/2,e.width,e.height)}},{key:"_showScreenshotBeforeChangeSource",value:function(){o.default.hasClass(this.element,l)&&(this.core.once(a.default.PLAYER_ON_PLAYING,this._hide,this),this.core.once(a.default.PLAYER_ON_SEEKED,this._hide,this),this._show())}},{key:"_showScreenshotOnDecoderError",value:function(){o.default.hasClass(this.element,l)&&(this.core.once(a.default.PLAYER_ON_PLAYING,this._hide,this),this._show())}},{key:"_show",value:function(){this._drawScreenshot(),o.default.removeClass(this.element,l)}},{key:"_hide",value:function(){o.default.addClass(this.element,l)}}]),e}();t.default=u},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(8)),s=f(i(23)),a=f(i(1)),o=f(i(2)),r=f(i(169)),l=f(i(21)),u=f(i(64)),d=f(i(62)),c=f(i(694)),h=f(i(695));function f(e){return e&&e.__esModule?e:{default:e}}var _="https://collector.xhamster.com/",v=function(){function e(t,i,n,s){(0,a.default)(this,e),this.core=t,this.videoElement=i,this.options=n&&n.statistics||{},this.debug=s,this._bufferingVars={},this._adaptiveVars={},this._watchingVars={},this._playCount=0,this._sourceLoaded=!1,this._wasDecoderError=!1,this._wasSeeked=!1,this._loggedPart=!1,this._videoSrc=null,this._init()}return(0,o.default)(e,[{key:"_init",value:function(){this.options.watchStats&&(this._watchingVars={loggedTime:0,maxTime:0,rewindCount:0},this._attachWatchingEvents()),this.options.adaptiveStats&&(this._adaptiveVars={lastTime:0,watched:0,threshold:this.options.adaptiveStats.threshold||10},this._attachAdaptiveEvents()),this.options.buffStats&&(this._bufferingVars=this._getBufferingVars(),this._attachBufferingEvents()),this.options.pauseStats&&this._attachPauseEvents(),this.options.errorStats&&this._attachErrorEvents(),this.options.uiStats&&this._attachUiStats()}},{key:"_getBufferingVars",value:function(){return{player:"xplayer",isInBufferedZone:!1,countBuffering:0,loadstartTime:0,waitingTime:0,seekingTime:0,seeking:!1,seekingEvent:!1,hasPlay:!1,hasCorePlay:!1,loaded:!1,version:7}}},{key:"_attachBufferingEvents",value:function(){u.default.once(l.default.PLAYER_PLAY,this._onPlayerCorePlay,this),this.videoElement.addEventListener("loadstart",this._playerOnLoadStart.bind(this)),this.videoElement.addEventListener("loadeddata",this._playerOnLoadedData.bind(this)),this.videoElement.addEventListener("play",this._playerOnPlay.bind(this)),this.videoElement.addEventListener("waiting",this._playerOnWaiting.bind(this)),this.videoElement.addEventListener("canplay",this._playerOnCanPlay.bind(this)),this.videoElement.addEventListener("playing",this._playerOnCanPlay.bind(this)),this.videoElement.addEventListener("seeking",this._playerOnSeeking.bind(this)),this.videoElement.addEventListener("seeked",this._playerOnSeeked.bind(this))}},{key:"_onPlayerCorePlay",value:function(){d.default.get("ads")||this._bufferingVars.loaded||(this._bufferingVars.loadstartTime=Date.now(),this._bufferingVars.hasCorePlay=!0)}},{key:"_playerOnLoadStart",value:function(){d.default.get("ads")||(this._bufferingVars.loadstartTime=Date.now())}},{key:"_playerOnLoadedData",value:function(){d.default.get("ads")||this._bufferingVars.loadstartTime<0||(this._sourceLoaded?this.bufferingStats("play","change",Date.now()-this._bufferingVars.loadstartTime,this.videoElement.currentTime):this._bufferingVars.hasCorePlay&&(this.bufferingStats("play","end",Date.now()-this._bufferingVars.loadstartTime,this.videoElement.currentTime),this._sourceLoaded=!0),this._currentSrc=this.videoElement.src,this._bufferingVars.loaded=!0,this._bufferingVars.loadstartTime=0,this._bufferingVars.waitingTime=0)}},{key:"_playerOnPlay",value:function(){d.default.get("ads")||(this._playCount++,(this._playCount||0)<=1&&!this._bufferingVars.hasPlay&&(this.bufferingStats("play","start",0),this._bufferingVars.hasPlay=!0))}},{key:"_playerOnWaiting",value:function(){d.default.get("ads")||0==this._bufferingVars.seekingTime&&0==this._bufferingVars.loadstartTime&&this._playCount>=1&&!this._bufferingVars.seekingEvent&&(this._bufferingVars.waitingTime=Date.now())}},{key:"_playerOnCanPlay",value:function(){d.default.get("ads")||this._bufferingVars.waitingTime>0&&this._playCount&&(this.bufferingStats("play","end",Date.now()-this._bufferingVars.waitingTime,this.videoElement.currentTime),this._bufferingVars.waitingTime=0)}},{key:"_playerOnSeeking",value:function(){d.default.get("ads")||(this._bufferingVars.seekingEvent=!0,this._bufferingVars.seeking||this._playCount&&(this._bufferingVars.isInBufferedZone=this.isInBufferedZone(this.videoElement.currentTime),this._bufferingVars.isInBufferedZone||(this._bufferingVars.seeking=!0,this._bufferingVars.seekingTime=Date.now())))}},{key:"_playerOnSeeked",value:function(){d.default.get("ads")||(this._bufferingVars.seeking=!1,this._bufferingVars.seekingEvent=!1,this._bufferingVars.isInBufferedZone&&(this._bufferingVars.seekingTime=0),this._bufferingVars.seekingTime>0&&this._playCount&&this._currentSrc===this.videoElement.src&&(this.bufferingStats("rewind","end",Date.now()-this._bufferingVars.seekingTime,this.videoElement.currentTime),this._bufferingVars.seekingTime=0))}},{key:"isInBufferedZone",value:function(e){var t=this.videoElement.buffered;if("object"!==(void 0===t?"undefined":(0,s.default)(t))){if(null===this.videoElement)return!1;t=this.videoElement.buffered}for(var i=t.length;i--;)if(e>=t.start(i)&&e<=t.end(i))return!0;return!1}},{key:"bufferingStats",value:function(e,t,i){var s={log:"cdn",source:"html5",bufferingDuration:Math.round(i)||0,videoPosition:Math.round(this.videoElement.currentTime),bufferingEvent:t,userEvent:e,videoFile:this.videoElement.src,player:this._bufferingVars.player,version:this._bufferingVars.version,sourceType:this.core.sourceController.type,sourceQuality:this.core.sourceController.getCurrentQuality(),sourceURL:this.core.sourceController.getSourceUrl(),settingsSaved:this.core.settings.quality!==this.core.userSettingsController._getDefaultSettings().quality};this.options.addFields&&(s=(0,n.default)({},s,this.options.addFields)),"adaptive"===e&&(s.adaptiveQuality=this.core.sourceController.getQuality(-1)),r.default.ajax("GET",_,s),this.debug}},{key:"_attachAdaptiveEvents",value:function(){this.videoElement.addEventListener("timeupdate",this._playerOnTimeupdate.bind(this)),this.videoElement.addEventListener("seeking",this._playerOnSeekingAdaptive.bind(this)),this.videoElement.addEventListener("seeked",this._playerOnSeekedAdaptive.bind(this))}},{key:"_playerOnTimeupdate",value:function(e){d.default.get("ads")||("auto"!==this.core.sourceController.getCurrentQuality()||"standard"===this.core.sourceController.type||e.target.seeking?this._adaptiveVars.lastTime=this.videoElement.currentTime:(this._adaptiveVars.watched+=this.videoElement.currentTime-this._adaptiveVars.lastTime,this._adaptiveVars.lastTime=this.videoElement.currentTime,this._adaptiveVars.watched>this._adaptiveVars.threshold&&(this._adaptiveVars.watched=0,this.bufferingStats("adaptive",null,null))))}},{key:"_playerOnSeekedAdaptive",value:function(){d.default.get("ads")||(this._adaptiveVars.lastTime=this.videoElement.currentTime)}},{key:"_playerOnSeekingAdaptive",value:function(){d.default.get("ads")||(this._adaptiveVars.lastTime=this.videoElement.currentTime)}},{key:"_attachErrorEvents",value:function(){this.videoElement.addEventListener("error",this._playerOnError.bind(this)),u.default.on(l.default.SOURCE_CONTROLLER_ON_ERROR,this._sourceControllerOnError,this)}},{key:"_sourceControllerOnError",value:function(e,t){if(!d.default.get("ads")){var i=this._parseSourceControllerErrorMessage(e,t);if(i){var n=this.core.sourceController.getSourceUrl();if(n){var s=new XMLHttpRequest;s.onreadystatechange=function(){4==s.readyState&&this.errorsStats(i,{errorMessage:"empty",cdnStatusText:s.statusText||"empty",cdnUrl:s.responseURL||"empty",cdnStatus:s.status||"empty",videoFile:n})}.bind(this),s.open("HEAD",n,!0),s.send()}else this.errorsStats(i,{errorMessage:"empty",cdnStatusText:"empty",cdnUrl:"empty",cdnStatus:"empty",videoFile:n})}}}},{key:"_parseSourceControllerErrorMessage",value:function(e,t){var i=null;return"dash"===e&&(i=this._parseDASHErrorMessage(t)),"hls"===e&&(i=this._parseHLSErrorMessage(t)),i}},{key:"_parseHLSErrorMessage",value:function(e){var t=e&&e.type,i=e&&e.details,n="UNKNOWN_ERROR";if("mediaError"!==t||("manifestIncompatibleCodecsError"===i&&(t="sourceError"),"bufferNudgeOnStall"!==i&&"bufferStalledError"!==i)){switch(t){case"networkError":n="MEDIA_ERR_NETWORK";break;case"mediaError":n="MEDIA_ERR_DECODE";break;case"sourceError":n="MEDIA_ERR_SRC_NOT_SUPPORTED"}return n}}},{key:"_parseDASHErrorMessage",value:function(e){var t="UNKNOWN_ERROR";switch(e&&e.error){case"download":t="MEDIA_ERR_NETWORK";break;case"key_session":case"key_message":t="MEDIA_ERR_DECODE";break;case"capability":case"manifestError":case"mediasource":t="MEDIA_ERR_SRC_NOT_SUPPORTED"}return t}},{key:"_playerOnError",value:function(e){if(!d.default.get("ads")){var t=e&&e.target&&e.target.error&&e.target.error.code,i=e&&e.target&&e.target.error&&e.target.error.message,n="UNKNOWN_ERROR";switch(t){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED"}if("MEDIA_ERR_DECODE"===n){if(this._wasDecoderError)return;this._wasDecoderError=!0}var s=new XMLHttpRequest,a=this.videoElement.src;s.onreadystatechange=function(){4==s.readyState&&this.errorsStats(n,{errorMessage:i||"empty",cdnStatusText:s.statusText||"empty",cdnUrl:s.responseURL||"empty",cdnStatus:s.status||"empty",videoFile:a})}.bind(this),s.open("HEAD",a,!0),s.send()}}},{key:"errorsStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={log:"cdn",source:"html5",videoPosition:Math.round(this.videoElement.currentTime),bufferingEvent:"error",userEvent:e,videoFile:t.videoFile,player:"xplayer",cdnUrl:t.cdnUrl,cdnStatus:t.cdnStatus,cdnStatusText:t.cdnStatusText,errorMessage:t.errorMessage,sourceType:this.core.sourceController.type,sourceQuality:this.core.sourceController.getCurrentQuality(),sourceURL:this.core.sourceController.getSourceUrl()};this.options.addFields&&(i=(0,n.default)({},i,this.options.addFields)),this.debug||r.default.ajax("GET",_,i)}},{key:"_attachWatchingEvents",value:function(){this.videoElement.addEventListener("playing",this._onPlaying.bind(this)),this.videoElement.addEventListener("waiting",this._stopLogging.bind(this)),this.videoElement.addEventListener("error",this._stopLogging.bind(this)),this.videoElement.addEventListener("seeking",this._stopLogging.bind(this)),this.videoElement.addEventListener("seeked",this._onSeeked.bind(this)),this.videoElement.addEventListener("loadstart",this._stopLogging.bind(this)),this.videoElement.addEventListener("stalled",this._stopLogging.bind(this)),this.videoElement.addEventListener("pause",this._stopLogging.bind(this)),this.videoElement.addEventListener("ended",this._stopLogging.bind(this)),this.videoElement.addEventListener("abort",this._stopLogging.bind(this)),window.addEventListener("beforeunload",this._sendData.bind(this),!1)}},{key:"_onPlaying",value:function(){this._videoSrc||(this._videoSrc=this.videoElement.src),this._wasSeeked&&this._addRewind(),this._startLogging()}},{key:"_startLogging",value:function(){this._loggedPart=Date.now()}},{key:"_stopLogging",value:function(){this._addPartToLogTime()}},{key:"_addPartToLogTime",value:function(){if(this._loggedPart){var e=Date.now()-this._loggedPart;e>this._watchingVars.maxTime&&(this._watchingVars.maxTime=e),this._watchingVars.loggedTime+=e,this._loggedPart=0,this.debug}}},{key:"_onSeeked",value:function(){this._wasSeeked=!0}},{key:"_addRewind",value:function(){this._videoSrc===this.videoElement.src?(this._watchingVars.rewindCount++,this._wasSeeked=!1,this.debug):this._videoSrc=this.videoElement.src}},{key:"_sendData",value:function(){this._stopLogging();var e="https://collector.xhamster.com/?log=movie_view&view_sum="+this._watchingVars.loggedTime+"&view_max="+this._watchingVars.maxTime+"&rewind_count="+this._watchingVars.rewindCount+"&dur="+parseInt(this.videoElement.duration);if(navigator.sendBeacon)navigator.sendBeacon(e,"");else{var t=new XMLHttpRequest;t.open("POST",e,!1),t.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),t.send()}}},{key:"_attachPauseEvents",value:function(){this.videoElement.addEventListener("pause",this._onPause.bind(this))}},{key:"_onPause",value:function(){window.ga&&ga("send","event","Video Pause Click","Desktop HTML5 Player")}},{key:"_attachUiStats",value:function(){u.default.on(l.default.PLAYER_ON_INIT,this._uiStats,this,h.default.player_init),u.default.on(l.default.PLAYER_ON_ENDED,this._onPlayerEnded,this),u.default.on(l.default.OVERLAY_MENU_TAB_OPEN,this._onOverlayMenuTabOpen,this),u.default.on(l.default.SHARE_MENU_OPEN,this._uiStats,this,h.default.share_open),u.default.on(l.default.OVERLAY_ELEMENT_CLICK,this._onOverlayElementClick,this),u.default.on(l.default.RELATED_REFRESH_CLICK,this._uiStats,this,h.default.related_refresh),document.addEventListener("webkitfullscreenchange",this._onFullscreenChange.bind(this)),document.addEventListener("mozfullscreenchange",this._onFullscreenChange.bind(this)),document.addEventListener("fullscreenchange",this._onFullscreenChange.bind(this)),document.addEventListener("MSFullscreenChange",this._onFullscreenChange.bind(this)),u.default.on(l.default.PLAYER_TOGGLE_LARGEMODE,this._onLargeModeToggle,this),u.default.on(l.default.CONTROLS_PREVIEW_CLICK,this._uiStats,this,h.default.preview),u.default.on(l.default.CONTROLS_DOWNLOAD_CLICK,this._uiStats,this,h.default.downloads),u.default.on(l.default.CONTROLS_FAVORITE_CLICK,this._uiStats,this,h.default.favorite),u.default.on(l.default.QUALITY_MENU_OPEN,this._uiStats,this,h.default.settings_open),u.default.on(l.default.SETTINGS_MENU_TOGGLED,this._onSettingsMenuToggled,this),u.default.on(l.default.PLAYER_SET_AUTOPLAY,this._uiStats.bind(this,h.default.settings_autoplay)),u.default.on(l.default.PLAYER_SET_SLOWMO,this._uiStats.bind(this,h.default.settings_slowmo)),u.default.on(l.default.PLAYER_SET_PREVIEW,this._uiStats.bind(this,h.default.settings_preview)),u.default.on(l.default.PLAYER_SET_QUALITY,this._uiStats.bind(this,h.default.settings_quality)),u.default.on(l.default.SUBSCRIBE_INIT,this._uiStats.bind(this,h.default.subscribe_init)),u.default.on(l.default.SUBSCRIBE_SHOW,this._uiStats.bind(this,h.default.subscribe_show)),u.default.on(l.default.SUBSCRIBE_CLICK_SUBSCRIBE,this._uiStats.bind(this,h.default.subscribe_click_subscribe)),u.default.on(l.default.SUBSCRIBE_CLICK_UNSUBSCRIBE,this._uiStats.bind(this,h.default.subscribe_click_unsubscribe))}},{key:"_onPlayerEnded",value:function(){d.default.get("ads")||this._uiStats(h.default.video_end)}},{key:"_onOverlayMenuTabOpen",value:function(e){var t=null;switch(e){case"xplayer-related":t=h.default.related_open;break;case"top-rated":t=h.default.top_rated_open;break;case"more-from-user":t=h.default.from_user_open;break;case"share":t=h.default.share_open}t&&this._uiStats(t)}},{key:"_onOverlayElementClick",value:function(e){var t=null;switch(e){case"xplayer-related":t=h.default.related_click;break;case"top-rated":t=h.default.top_rated_click;break;case"more-from-user":t=h.default.from_user_click;break;case"share":t=h.default.share_click}t&&this._uiStats(t)}},{key:"_onFullscreenChange",value:function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?h.default.fullscreen_in:h.default.fullscreen_out;this._uiStats(t)}},{key:"_onLargeModeToggle",value:function(e){this._uiStats(e?h.default.large_mode_in:h.default.large_mode_out)}},{key:"_onSettingsMenuToggled",value:function(e){e&&this._uiStats(h.default.settings_open)}},{key:"_uiStats",value:function(e){var t={log:"xplayer_ui",event:e};this.options.addFields&&(t=(0,n.default)({},t,this.options.addFields)),this.debug||r.default.ajax("GET",c.default.COLLECTOR_NEW,t)}}]),e}();t.default=v},function(e,t,i){"use strict";t.__esModule=!0;t.default={DEFAULT:"https://collector.xhamster.com/",COLLECTOR_NEW:"https://collector1.xhamster.com/"}},function(e,t,i){"use strict";t.__esModule=!0;t.default={player_init:"player_init",video_end:"video_end",share_open:"share_open",share_click:"share_click",related_open:"related_open",related_click:"related_click",related_refresh:"related_refresh",top_rated_open:"top_rated_open",top_rated_click:"top_rated_click",from_user_open:"from_user_open",from_user_click:"from_user_click",fullscreen_in:"fullscreen_in",fullscreen_out:"fullscreen_out",large_mode_in:"large_mode_in",large_mode_out:"large_mode_out",settings_open:"settings_open",settings_quality:"settings_quality",settings_slowmo:"settings_slowmo",settings_preview:"settings_preview",settings_autoplay:"settings_autoplay",subscribe_init:"subscribe_init",subscribe_show:"subscribe_show",subscribe_click_subscribe:"subscribe_click_subscribe",subscribe_click_unsubscribe:"subscribe_click_unsubscribe",preview:"preview",downloads:"downloads",favorite:"favorite"}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(45)),o=u(i(21)),r=u(i(62)),l=u(i(64));function u(e){return e&&e.__esModule?e:{default:e}}var d="xh-helper-hidden",c=function(){function e(t,i){return(0,n.default)(this,e),this.core=t,this.options=i.airplay||{},this._available=null,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){window.WebKitPlaybackTargetAvailabilityEvent&&!this.options.disable&&(this._render(),this._attachEvents())}},{key:"_onAirplayAvailabilityChanged",value:function(e){this._available="available"===e.availability,this._available?this._showElement():this._hideElement()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="airplay-button "+d}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onElementClick.bind(this)),this.core.videoElement.addEventListener("webkitplaybacktargetavailabilitychanged",this._onAirplayAvailabilityChanged.bind(this))}},{key:"_onElementClick",value:function(){if(!r.default.get("sourceLoaded"))return l.default.once(o.default.PLAYER_ON_LOADED_DATA,this._onElementClick,this),void l.default.emit(o.default.PLAYER_PLAY);this.core.videoElement.webkitShowPlaybackTargetPicker()}},{key:"_hideElement",value:function(){a.default.addClass(this.element,d)}},{key:"_showElement",value:function(){a.default.removeClass(this.element,d)}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;var n=p(i(1)),s=p(i(2)),a=p(i(169)),o=p(i(45)),r=p(i(21)),l=p(i(177)),u=p(i(62)),d=p(i(698)),c=p(i(700)),h=p(i(702)),f=p(i(704)),_=p(i(706)),v=p(i(707)),m=p(i(64));function p(e){return e&&e.__esModule?e:{default:e}}var E="overlay-menu-opened",y=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.options=i&&i.overlay||{},this.shown=!1,this.tabsData=this.options.tabsData||null,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this.core.on(r.default.OVERLAY_MENU_TOGGLE,this._onOverlayMenuToggle,this),this.core.on(r.default.PLAYER_ON_ENDED,this._onPlayerEnd,this)}},{key:"_initOverlayMenu",value:function(){this._render(),this.tabItemService=new v.default(this.core,this),this._initTabs(),this._loadAndRenderTabsData(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xplayer-overlay-menu",this.element.innerHTML=(0,_.default)(),this.tabsElement=this.element.getElementsByClassName("tabs")[0],this.contentElement=this.element.getElementsByClassName("tab-content")[0],this.core.element.appendChild(this.element)}},{key:"_initTabs",value:function(){this._shareTab=new d.default(this.core,this),this._moreFromUserTab=new f.default(this.core,this),this._topRatedTab=new h.default(this.core,this),this._relatedTab=new c.default(this.core,this)}},{key:"_loadAndRenderTabsData",value:function(){this.tabsData?this._renderAsyncTabs():this._loadTabsData(this._renderAsyncTabs)}},{key:"_loadTabsData",value:function(e){var t=this;this.options.tabsDataUrl&&a.default.ajax("GET",this.options.tabsDataUrl.replace(/http(s?)\:/g,"")).then(function(i){try{t.tabsData=JSON.parse(i)}catch(e){t.tabsData=null}finally{"function"==typeof e&&e.apply(t)}},function(e){l.default.log(l.default.TYPES.NETWORK_ERROR+"-OVERLAY","OverlayMenu","Couldn't get overlay data",{tabsDataUrl:t.options.tabsDataUrl,videoId:t.options.videoId})})}},{key:"_renderAsyncTabs",value:function(){this._relatedTab.renderTabContent(this.tabsData.related),this._moreFromUserTab.renderTabContent(this.tabsData.moreFromUser),this._topRatedTab.renderTabContent(this.tabsData.topRated)}},{key:"_attachEvents",value:function(){this.core.on(r.default.PLAYER_ON_PLAYING,this._onPlayerOnPlay,this),this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onPlayerOnPlay",value:function(){this.shown&&this.core.emit(r.default.OVERLAY_MENU_TOGGLE)}},{key:"_onOverlayMenuToggle",value:function(e){if(!u.default.get("ads")){if(this.element||this._initOverlayMenu(),this.shown)return this.core.emit(r.default.USER_ACTION_UNBLOCK),void this._hideOverlayMenu();this.core.emit(r.default.USER_ACTION_BLOCK),this._changeTab(e),this._showOverlayMenu()}}},{key:"_onElementClick",value:function(e){if(o.default.hasClass(e.target,"overlay-close")||o.default.hasClass(e.target,"overlay-menu-background"))this.core.emit(r.default.OVERLAY_MENU_TOGGLE);else{var t;if((t=o.default.hasClass(e.target,"tab")?e.target:!!o.default.hasClass(e.target.parentNode,"tab")&&e.target.parentNode)&&!o.default.hasClass(t,"active")){var i=t.dataset&&t.dataset.tab;this._changeTab(i)}}}},{key:"_changeTab",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"share",t=this.tabsElement.querySelector("[data-tab='"+e+"']");if(t){var i=this.tabsElement.getElementsByClassName("active")[0],n=this.contentElement.getElementsByClassName("active")[0],s=this.contentElement.getElementsByClassName(t.getAttribute("data-tab"))[0];i&&o.default.removeClass(i,"active"),n&&o.default.removeClass(n,"active"),o.default.addClass(t,"active"),o.default.addClass(s,"active"),this._tabChanged(e)}else this._changeTab("share")}},{key:"_tabChanged",value:function(e){m.default.emit(r.default.OVERLAY_MENU_TAB_OPEN,e),this._shareTab.addThisInitialized||e!==this._shareTab.getName()||this._shareTab.initAddThis()}},{key:"_onPlayerEnd",value:function(){this._onOverlayMenuToggle("xplayer-related")}},{key:"_showOverlayMenu",value:function(){this.shown=!0,this.core.emit(r.default.PLAYER_PAUSE),this.tabItemService.recalcTabItem(),o.default.addClass(this.core.element,E)}},{key:"_hideOverlayMenu",value:function(){this.shown&&(this.shown=!1,this.core.emit(r.default.PLAYER_PLAY),o.default.removeClass(this.core.element,E))}}]),e}();t.default=y},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(5)),s=f(i(1)),a=f(i(2)),o=f(i(6)),r=f(i(7)),l=f(i(45)),u=f(i(21)),d=f(i(64)),c=f(i(432)),h=f(i(699));function f(e){return e&&e.__esModule?e:{default:e}}var _=/(:?(\?|&)t=)([0-9]+\.[0-9]{1,2})/,v=function(e){function t(e,i){(0,s.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i));return a._template=h.default,a._timeLinkEnabled=!1,a._addThisRequested=!1,a._addThisReady=!1,a._init(),a}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getName",value:function(){return"share"}},{key:"getLabel",value:function(){return"share"}},{key:"_init",value:function(){this._render(),this.renderTabContent(),this._linkTextarea=this.element.getElementsByClassName("textarea")[0].getElementsByTagName("textarea")[0],this._copyLinkElement=this.element.getElementsByClassName("copy-link")[0],this._timeCheckCheckbox=document.getElementById("time-check"),this._shareToolbox=this.element.getElementsByClassName("addthis_toolbox")[0],this._attachEvents()}},{key:"initAddThis",value:function(){if(window.addthis)try{window.addthis.toolbox(this._shareToolbox),this._onAddThisReady()}catch(e){}else{if(this._addThisRequested)return;this._addThisRequested=!0,l.default.getScript("//s7.addthis.com/js/300/addthis_widget.js?pubid=xhamster",this.initAddThis.bind(this))}}},{key:"_onAddThisReady",value:function(){this._addThisReady=!0,l.default.removeClass(this._shareToolbox,"xh-disabled")}},{key:"_renderTabContent",value:function(){return(0,h.default)(this.parent.options.shareURL)}},{key:"_attachEvents",value:function(){this._shareToolbox.addEventListener("click",this._onShareToolboxClick.bind(this)),this._copyLinkElement.addEventListener("click",this._onCopyLinkClick.bind(this)),this._linkTextarea.addEventListener("click",this._onCopyLinkClick.bind(this)),this._timeCheckCheckbox.addEventListener("change",this._onTimeCheckboxChange.bind(this)),this.core.on(u.default.PLAYER_ON_TIMEUPDATE,this._changeTimeInLinkText,this)}},{key:"_onShareToolboxClick",value:function(e){if(this._addThisReady){if(e.target===this._shareToolbox)return;d.default.emit(u.default.OVERLAY_ELEMENT_CLICK,this.getName())}else e.preventDefault()}},{key:"_onTimeCheckboxChange",value:function(e){var t=e.target.checked;this._toggleTimingInLink(t)}},{key:"_toggleTimingInLink",value:function(e){this._timeLinkEnabled=e,e?this._linkTextarea.value+="?t="+this.core.videoElement.currentTime.toFixed(2):this._linkTextarea.value=this._linkTextarea.value.split(/[?]/)[0]}},{key:"_changeTimeInLinkText",value:function(e){if(this._timeLinkEnabled){var t="?t="+e.currentTarget.currentTime.toFixed(2);this._linkTextarea.value=this._linkTextarea.value.replace(_,t)}}},{key:"_onCopyLinkClick",value:function(e){e.preventDefault(),e.stopPropagation();try{this._linkTextarea.select(),document.execCommand("copy")}catch(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",this._linkTextarea.textContent)}}}]),t}(c.default);t.default=v},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){return'\n    <div class="addThis addthis_toolbox xh-disabled" addthis:url="'+e+'" addthis:title="'+document.title+'">\n    <a class="x-social-button addthis_button_twitter" data-service="twitter" title="Tweet" href="#">\n        <i class="xp-icon twitter"></i>\n    </a>\n    <a class="x-social-button addthis_button_reddit" data-service="reddit" target="_blank" title="Reddit" href="#">\n        <i class="xp-icon reddit"></i>\n    </a>\n    <a class="x-social-button addthis_button_tumblr" data-service="tumblr" target="_blank" title="Tumblr" href="#">\n        <i class="xp-icon tumblr"></i>\n    </a>\n    <a class="x-social-button addthis_button_email" data-service="email" target="_blank" title="E-mail" href="#">\n        <i class="xp-icon mail"></i>\n    </a>\n    <a class="x-social-button addthis_button_google_plusone_share" data-service="google_plus" target="_blank" title="Google+" href="#">\n        <i class="xp-icon googleplus"></i>\n    </a>\n    <a class="x-social-button addthis_button_blogger" data-service="blogger" target="_blank" title="Blogger" href="#">\n        <i class="xp-icon blogger"></i>\n    </a>\n    </div>\n    \n    <div class="text-share">\n        <div class="textarea">\n            <textarea readonly>'+e+'</textarea>\n        </div>\n        \n        <div class="time-check"><input id="time-check" type="checkbox"><label for="time-check">Start from current time</label></div>\n        <a href="#" class="copy-link">Copy link</a>\n    </div>\n'}},function(e,t,i){"use strict";t.__esModule=!0;var n=_(i(5)),s=_(i(1)),a=_(i(2)),o=_(i(6)),r=_(i(12)),l=_(i(7)),u=_(i(45)),d=_(i(701)),c=_(i(432)),h=_(i(64)),f=_(i(21));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,i,a){(0,s.default)(this,t);var r=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i,a));return r._template=d.default,r._startIndex=0,r._init(),r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_init",value:function(){(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_init",this).call(this),this._attachReloadEvent()}},{key:"getName",value:function(){return"xplayer-related"}},{key:"getLabel",value:function(){return"related"}},{key:"_addTabToParent",value:function(){(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_addTabToParent",this).call(this),u.default.addClass(this.tabElement,"related-tab"),this._renderReloadElement()}},{key:"_renderReloadElement",value:function(){this.reloadElement=document.createElement("span"),this.reloadElement.className="related-reload",u.default.addClass(this.tabElement,"related-reload-allowed"),this.tabElement.appendChild(this.reloadElement)}},{key:"_attachReloadEvent",value:function(){this.reloadElement&&this.reloadElement.addEventListener("click",this._onReloadElementClick.bind(this))}},{key:"_onReloadElementClick",value:function(e){u.default.hasClass(e.target.parentNode,"tab")&&!u.default.hasClass(e.target.parentNode,"active")||(this._startIndex+=this.parent.tabItemService.tabsNumber-1,this._startIndex=this._startIndex>this.tabData.length-1?0:this._startIndex,this.element.innerHTML=this._renderTabContent(this._startIndex),h.default.emit(f.default.RELATED_REFRESH_CLICK))}},{key:"renderTabContent",value:function(e){(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"renderTabContent",this).call(this,e,this._startIndex)}}]),t}(c.default);t.default=v},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){return'<a class="tab-content-item" style="background-image: url('+e.thumbUrl+')" href="'+e.pageUrl+'&from=player_related" title="'+e.title+'">\n                <span class="wrapper">\n                <span class="text">'+e.title+"</span>\n                </span>\n                </a>"}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(5)),s=u(i(1)),a=u(i(2)),o=u(i(6)),r=u(i(7)),l=u(i(703));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,i,a){(0,s.default)(this,t);var r=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i,a));return r._template=l.default,r._init(),r}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getName",value:function(){return"top-rated"}},{key:"getLabel",value:function(){return"top rated"}}]),t}(u(i(432)).default);t.default=d},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){return'<a class="tab-content-item" style="background-image: url('+e.thumbUrl+')" href="'+e.pageUrl+'&from=player_related" title="'+e.title+'">\n                <span class="wrapper">\n                <span class="text">'+e.title+"</span>\n                </span>\n                </a>"}},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(5)),s=u(i(1)),a=u(i(2)),o=u(i(6)),r=u(i(7)),l=u(i(705));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,i,a){(0,s.default)(this,t);var r=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i,a));return r._template=l.default,r._init(),r}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getName",value:function(){return"more-from-user"}},{key:"getLabel",value:function(){return"From this user"}}]),t}(u(i(432)).default);t.default=d},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){return'<a class="tab-content-item" style="background-image: url('+e.thumbUrl+')" href="'+e.pageUrl+'&from=player_related" title="'+e.title+'">\n                <span class="wrapper">\n                <span class="text">'+e.title+"</span>\n                </span>\n                </a>"}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<div class="tabs"></div><div class="overlay-close">&nbsp;</div><div class="tab-content"></div>'}},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(45));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.overlayModule=i,this.tabsNumber=null,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._calcTabItem(),window.addEventListener("resize",this._onResize.bind(this)),document.addEventListener("webkitfullscreenchange",this._onResize.bind(this)),document.addEventListener("mozfullscreenchange",this._onResize.bind(this)),document.addEventListener("fullscreenchange",this._onResize.bind(this)),this.core.capabilities.fullscreen?document.addEventListener("MSFullscreenChange",this._onResize.bind(this)):this.core.on(a.default.PLAYER_TOGGLE_FULLSCREEN,this._onResize.bind(this)),this.core.on(a.default.PLAYER_TOGGLE_LARGEMODE,this._onResize.bind(this))}},{key:"_onResize",value:function(){this.overlayModule.shown&&this._calcTabItem()}},{key:"_calcTabItem",value:function(){var e,t=this.core.element.clientHeight-56-51,i=this.core.element.clientWidth-10-10,n=t>265?3:2,s=this.tabsNumber;e=160*Math.min(i/640,t/(120*n),2),this.overlayModule.contentElement.style.fontSize=Math.floor(e)-2+"px",this.tabsNumber=Math.floor(i/e)*n,s!=this.tabsNumber&&this.core.emit(a.default.TABS_NUMBER_CHANGED),2===n?o.default.addClass(this.overlayModule.contentElement,"tab-content__two-row"):o.default.removeClass(this.overlayModule.contentElement,"tab-content__two-row")}},{key:"recalcTabItem",value:function(){this._calcTabItem()}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(45)),o=u(i(21)),r=u(i(62)),l=u(i(709));function u(e){return e&&e.__esModule?e:{default:e}}var d="xh-helper-hidden",c=function(){function e(t){(0,n.default)(this,e),this.core=t,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-help "+d,this.element.innerHTML=l.default,this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onElementClick.bind(this)),this.core.on(o.default.HELP_MENU_TOGGLE,this._onHelpMenuToggle,this),this.core.on(o.default.PLAYER_ON_PLAYING,this._hideHelpMenu,this)}},{key:"_onElementClick",value:function(){this._hideHelpMenu()}},{key:"_onHelpMenuToggle",value:function(){if(a.default.hasClass(this.element,d))return r.default.get("playing")&&this.core.emit(o.default.PLAYER_PAUSE),void this._showHelpMenu();this._hideHelpMenu()}},{key:"_showHelpMenu",value:function(){a.default.removeClass(this.element,d)}},{key:"_hideHelpMenu",value:function(){a.default.addClass(this.element,d)}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;t.default='\n    <div class="xp-help-list">\n    <div class="xp-help-list__block">\n    <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons ">\n                <div class="xp-help-button">\n                    &#9650;\n                </div>\n                <div class="xp-help-button">\n                    +\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Volume up\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons ">\n                <div class="xp-help-button">\n                    &#9660;\n                </div>\n                <div class="xp-help-button">\n                    -\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Volume down\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons ">\n                <div class="xp-help-button">\n                    &#9664;\n                </div>\n                <div class="xp-help-button">\n                    &#9654;\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Leap 10 sec. Shift pressed - 20 sec\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons ">\n                <div class="xp-help-button xp-help-button--twice xp-help-button--mini">\n                    space\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Play / Pause\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button xp-help-button--twice xp-help-button--mini">\n                    Shift + S\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                On / Off slowmo\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons ">\n                <div class="xp-help-button">\n                    0\n                </div>\n                <div class="xp-help-button">\n                    9\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Go from 0% to 90% length of video\n            </div>\n        </div>\n    </div>    \n    <div class="xp-help-list__block xp-help-list__block--right">\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button">\n                    O\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Show / Hide overlay menu\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button">\n                    M\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Mute / Unmute\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button xp-help-button--mini">\n                    Home\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                To the start of video\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button xp-help-button--mini">\n                    End\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                To the end of video\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button">\n                    B\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Open google in new tab (Boss mode)\n            </div>\n        </div>\n        <div class="xp-help-list__item xp-help-rule">\n            <div class="xp-help-rule__buttons">\n                <div class="xp-help-button">\n                    F\n                </div>\n            </div>\n            \n            <div class="xp-help-rule__text">\n                Fullscreen\n            </div>\n        </div>\n    </div>\n    </div>\n'},function(e,t,i){"use strict";t.__esModule=!0;var n=u(i(1)),s=u(i(2)),a=u(i(21)),o=u(i(62)),r=u(i(45)),l=u(i(711));function u(e){return e&&e.__esModule?e:{default:e}}var d="xh-helper-hidden",c=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.options=i&&i.context||{},this._shown=!1,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-context-menu "+d,this.element.innerHTML=l.default,this._textArea=this.element.getElementsByClassName("xp-context-menu__text")[0],document.getElementsByTagName("body")[0].appendChild(this.element)}},{key:"_attachEvents",value:function(){this.core.element.addEventListener("contextmenu",this._onContextMenu.bind(this)),this.core.on(a.default.MOUSE_CLICK_GLOBAL,this._onMouseGlobalClick,this),this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onElementClick",value:function(e){if(e.target.hasAttribute("data-action")){var t=e.target.getAttribute("data-action");this._processAction(t)}}},{key:"_onMouseGlobalClick",value:function(e){2!==e.button&&this._hideMenu()}},{key:"_onContextMenu",value:function(e){e.stopPropagation(),this._shown?this._hideMenu():(e.preventDefault(),this._setMenuCoords(e),this._showMenu())}},{key:"_setMenuCoords",value:function(e){this.element.style.top=e.clientY+3+"px",this.element.style.left=e.clientX+3+"px"}},{key:"_processAction",value:function(e){switch(e){case"url":this._copyToClipboard(this.options.pageURL);break;case"url-time":this._copyToClipboard(this.options.pageURL+"?t="+o.default.get("currentTime").toFixed(2));break;case"embed":this._copyToClipboard(this.options.embedCode);break;case"help":this.core.emit(a.default.HELP_MENU_TOGGLE)}}},{key:"_copyToClipboard",value:function(e){try{this._textArea.textContent=e,this._textArea.select(),document.execCommand("copy")}catch(t){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}}},{key:"_showMenu",value:function(){this._shown=!0,r.default.removeClass(this.element,d)}},{key:"_hideMenu",value:function(){this._shown&&(this._shown=!1,r.default.addClass(this.element,d))}}]),e}();t.default=c},function(e,t,i){"use strict";t.__esModule=!0;t.default='\n    <div class="xp-context-menu__item" data-action="url">Copy video URL</div>\n    <div class="xp-context-menu__item" data-action="url-time">Copy video URL at current time</div>\n    <div class="xp-context-menu__item" data-action="embed">Copy embed code</div>\n    <div class="xp-context-menu__item" data-action="help">Help</div>\n    <textarea class="xp-context-menu__text"></textarea>\n'},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(45)),o=r(i(21));function r(e){return e&&e.__esModule?e:{default:e}}var l="xplayer-large-mode",u=function(){function e(t,i){if((0,n.default)(this,e),this.options=i.largeMode||null,this.options)return this.core=t,this.largeModeEnabled=this.options.enabled||!1,this._enabled=!1,this._init(),this.element}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this.largeModeEnabled&&this._toggleLargeModeClass(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="large-mode",this.element.setAttribute("data-xp-tooltip",this.largeModeEnabled?"Exit Large mode":"Large mode")}},{key:"_attachEvents",value:function(){this.element.addEventListener("click",this._onElementClick.bind(this))}},{key:"_onElementClick",value:function(e){this._toggleLargeModeClass(),"function"==typeof this.options.callback&&this.options.callback(),this.core.emit(o.default.PLAYER_TOGGLE_LARGEMODE,this._enabled),this.core.emit(o.default.PROGRESS_BAR_RESIZE)}},{key:"_toggleLargeModeClass",value:function(){a.default.hasClass(this.core.element,l)?(this.element.setAttribute("data-xp-tooltip","Enter large mode"),a.default.removeClass(this.core.element,l),this._enabled=!1):(this.element.setAttribute("data-xp-tooltip","Exit large mode"),a.default.addClass(this.core.element,l),this._enabled=!0)}}]),e}();t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.__esModule=!0;var n=c(i(5)),s=c(i(1)),a=c(i(2)),o=c(i(6)),r=c(i(12)),l=c(i(7)),u=c(i(564)),d=c(i(693));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,i,a){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,i,a))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_createVideoElement",value:function(){var e=(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_createVideoElement",this).call(this);return new d.default(this,e,this.pluginOptions,this.options.debug),e}}]),t}(u.default);t.default=h},function(e,t,i){"use strict";t.__esModule=!0;var n=r(i(1)),s=r(i(2)),a=r(i(21)),o=r(i(807));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){(0,n.default)(this,e),this.core=t,this.options=i,this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(),this._attachEvents()}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xplayer-hover-menu",this.element.innerHTML=(0,o.default)(),this.overlayElement=this.element.getElementsByClassName("overlay-open")[0],this.shareElement=this.element.getElementsByClassName("overlay-open-share")[0],this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.overlayElement.addEventListener("click",this._onOverlayElementClick.bind(this)),this.shareElement.addEventListener("click",this._onShareElementClick.bind(this)),this.overlayElement.addEventListener("mouseenter",this._onElementMouseEnter.bind(this)),this.overlayElement.addEventListener("mouseleave",this._onElementMouseLeave.bind(this)),this.shareElement.addEventListener("mouseenter",this._onElementMouseEnter.bind(this)),this.shareElement.addEventListener("mouseleave",this._onElementMouseLeave.bind(this))}},{key:"_onShareElementClick",value:function(e){e.preventDefault(),this.core.emit(a.default.OVERLAY_MENU_TOGGLE,"share")}},{key:"_onOverlayElementClick",value:function(e){e.preventDefault(),this.core.emit(a.default.OVERLAY_MENU_TOGGLE,"xplayer-related")}},{key:"_onElementMouseEnter",value:function(e){this.core.emit(a.default.USER_ACTION_PAUSE)}},{key:"_onElementMouseLeave",value:function(e){this.core.emit(a.default.USER_ACTION_UNPAUSE)}}]),e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){return'<div class="overlay-open-share" data-xp-tooltip="Share"></div><div class="xplayer-hover-menu__divider"></div><div class="overlay-open" data-xp-tooltip="More Videos"></div>'}},function(e,t,i){"use strict";t.__esModule=!0;var n=h(i(5)),s=h(i(1)),a=h(i(2)),o=h(i(6)),r=h(i(12)),l=h(i(7)),u=h(i(21)),d=h(i(431)),c=h(i(640));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getTemplate",value:function(){return c.default}},{key:"getTemplateOptions",value:function(){return{id:"autoplay_toggler",label:"Autostart",checked:!!this.core.settings.autoplay}}},{key:"_init",value:function(){this.core.noAutoplay||(0,r.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"_init",this).call(this)}},{key:"_attachEvents",value:function(){var e=this;this.element.addEventListener("change",function(t){return e.core.emit(u.default.PLAYER_SET_AUTOPLAY,t.target.checked)})}}]),t}(d.default);t.default=f},function(e,t,i){"use strict";t.__esModule=!0;var n=c(i(5)),s=c(i(1)),a=c(i(2)),o=c(i(6)),r=c(i(7)),l=c(i(21)),u=c(i(431)),d=c(i(640));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getTemplate",value:function(){return d.default}},{key:"getTemplateOptions",value:function(){return{id:"slow_toggler",label:"Slow motion",checked:!!this.core.settings.slowmo}}},{key:"_attachEvents",value:function(){var e=this;this.core.on(l.default.PLAYER_SET_SLOWMO,function(t){e.element.querySelector("[type=checkbox]").checked=t}),this.element.addEventListener("change",function(t){return e.core.emit(l.default.PLAYER_SET_SLOWMO,t.target.checked)})}}]),t}(u.default);t.default=h},function(e,t,i){"use strict";t.__esModule=!0;var n=c(i(5)),s=c(i(1)),a=c(i(2)),o=c(i(6)),r=c(i(7)),l=c(i(21)),u=c(i(431)),d=c(i(640));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,a.default)(t,[{key:"getTemplate",value:function(){return d.default}},{key:"getTemplateOptions",value:function(){return{id:"preview_toggler",label:"Image preview",checked:!!this.core.settings.preview}}},{key:"_attachEvents",value:function(){var e=this;this.element.addEventListener("change",function(t){return e.core.emit(l.default.PLAYER_SET_PREVIEW,t.target.checked)})}}]),t}(u.default);t.default=h},function(e,t,i){"use strict";t.__esModule=!0;var n=f(i(1)),s=f(i(2)),a=f(i(21)),o=f(i(510)),r=f(i(511)),l=f(i(513)),u=f(i(515)),d=f(i(712)),c=f(i(565)),h=f(i(696));function f(e){return e&&e.__esModule?e:{default:e}}var _="left-block",v=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(this,e),this.core=t,this.options=i.controlBar||{},this._init()}return(0,s.default)(e,[{key:"_init",value:function(){this._render(this._loadControls()),this._attachEvents()}},{key:"_loadControls",value:function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.className=_;var i=document.createElement("div");i.className="right-block",e.appendChild(new o.default(this.core)),t.appendChild(new l.default(this.core)),t.appendChild(new r.default(this.core));var n=new h.default(this.core,this.options);n instanceof Node&&i.appendChild(n),i.appendChild(new c.default(this.core));var s=new d.default(this.core,this.options);return s instanceof Node&&(i.appendChild(s),i.className+=" right-block__large"),i.appendChild(new u.default(this.core)),e.appendChild(t),e.appendChild(i),e}},{key:"_render",value:function(e){this.element=document.createElement("div"),this.element.className="control-bar",this.element.appendChild(e),this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.element.addEventListener("mouseenter",this._onElementMouseEnter.bind(this)),this.element.addEventListener("mouseleave",this._onElementMouseLeave.bind(this))}},{key:"_onElementMouseEnter",value:function(e){this.core.emit(a.default.USER_ACTION_PAUSE)}},{key:"_onElementMouseLeave",value:function(e){this.core.emit(a.default.USER_ACTION_UNPAUSE)}},{key:"getLeftBlockElement",value:function(){var e=this.element.getElementsByClassName("left-block")[0];return e||((e=document.createElement("div")).className=_,this.element.appendChild(e)),e}}]),e}();t.default=v},function(e,t,i){"use strict";t.__esModule=!0;var n=d(i(8)),s=d(i(1)),a=d(i(2)),o=d(i(45)),r=d(i(813)),l=d(i(64)),u=d(i(21));function d(e){return e&&e.__esModule?e:{default:e}}var c="xp-subscribe__button",h="xp-subscribe__button--disabled",f="xh-helper-hidden",_=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),this.core=t,this._options=(0,n.default)({},this._defaultOptions(),i.subscribe),this._disabled=!1,this._shown=!1,this.isOn=!1,this._subscribeHideTimeout=null,this._init()}return(0,a.default)(e,[{key:"_defaultOptions",value:function(){return{id:null,title:"",subscribed:!1,subscribers:0,logo:""}}},{key:"_init",value:function(){this._options.id&&(this.isOn=!0,this._render(),this._attachEvents(),l.default.emit(u.default.SUBSCRIBE_INIT))}},{key:"_render",value:function(){this.element=document.createElement("div"),this.element.className="xp-subscribe",this.element.innerHTML=(0,r.default)(this._options),this.buttonWrapper=this.element.querySelector(".xp-subscribe__button-wrapper"),this.button=this.element.querySelector("."+c),this.core.element.appendChild(this.element)}},{key:"_attachEvents",value:function(){this.element.addEventListener("mouseenter",this._onMouseEnter.bind(this)),this.element.addEventListener("mouseleave",this._onMouseLeave.bind(this)),l.default.on(u.default.NO_USER_ACTION,this._hideSubscribeButton,this),this.button.addEventListener("click",this._onButtonClick.bind(this))}},{key:"_onMouseEnter",value:function(){this._options.callback&&"function"==typeof this._options.callback&&(this._shown||(this._shown=!0,l.default.emit(u.default.SUBSCRIBE_SHOW),clearTimeout(this._subscribeHideTimeout),o.default.removeClass(this.buttonWrapper,f)))}},{key:"_onMouseLeave",value:function(){var e=this;this._shown=!1,this._subscribeHideTimeout=setTimeout(function(t){return e._hideSubscribeButton()},1e3)}},{key:"_hideSubscribeButton",value:function(){o.default.addClass(this.buttonWrapper,f)}},{key:"_onButtonClick",value:function(){this._disabled||(this._options.subscribed?l.default.emit(u.default.SUBSCRIBE_CLICK_UNSUBSCRIBE):l.default.emit(u.default.SUBSCRIBE_CLICK_SUBSCRIBE),this._options.callback(this))}},{key:"disable",value:function(){this._disabled=!0,o.default.addClass(this.button,h)}},{key:"enable",value:function(){this._disabled=!1,o.default.removeClass(this.button,h)}},{key:"renderButton",value:function(){var e=document.createElement("div");e.innerHTML=(0,r.default)(this._options),o.default.removeElement(this.button),this.button=e.querySelector("."+c),this.buttonWrapper.appendChild(this.button),this.button.addEventListener("click",this._onButtonClick.bind(this))}}]),e}();t.default=_},function(e,t,i){"use strict";function n(e){return e.subscribers?'<span class="xp-subscribe__button-subscribers">'+function(e){var t=Math.abs(e),i="";t>=1e12?(i+="T",e/=1e12):t<1e12&&t>=1e9?(i+="B",e/=1e9):t<1e9&&t>=1e6?(i+="M",e/=1e6):t<1e6&&t>=1e3&&(i+="K",e/=1e3);return i?Math.round(10*e)/10+i:e}(e.subscribers)+"</span>":""}t.__esModule=!0,t.default=function(e){return'<div class="xp-subscribe__button-wrapper xh-helper-hidden">\n    <div class="xp-subscribe__title">'+e.title+'</div>\n    <div class="xp-subscribe__button'+(e.subscribed?" xp-subscribe__button--subscribed":"")+'">\n        <span class="xp-subscribe__button-text">'+(e.subscribed?"Subscribed":"Subscribe")+"</span>"+n(e)+'\n    </div>\n</div><div class="xp-subscribe__logo">'+((t=e).logo?'<img src="'+t.logo+'" alt="Channel Logo" >':"")+"</div>";var t}},function(e,t,i){"use strict";var n=i(1),s=i.n(n),a=i(2),o=i.n(a),r=i(271),l="x_preroll",u="1",d="2",c=function(){function e(t){s()(this,e),this._xplayer=t,this._cookieOptions={expires:.25,domain:this._getDomain()},this._init()}return o()(e,[{key:"_init",value:function(){this._xplayer.core.once(this._xplayer.events.PLAYER_PLAY,this._onPlayerPlay,this),this._xplayer.core.once(this._xplayer.events.ADS_ENDED,this._onAdsEnded,this)}},{key:"_getDomain",value:function(){if(!document.domain.length)return".xhamster.com";for(var e=document.domain.replace(/^(www\.)/,"").split(".");e.length>2;)e.shift();return e.join(".").replace(/(^\.*)|(\.*$)/g,"")}},{key:"_onPlayerPlay",value:function(){void 0!==r.a.get(l)||r.a.set(l,u,this._cookieOptions)}},{key:"_onAdsEnded",value:function(e){e&&r.a.set(l,d,this._cookieOptions)}}]),e}();t.a=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(1106),e.exports=i(1108)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8),s=i.n(n),a=i(668),o=(i.n(a),i(1107)),r=i.n(o),l=i(814);window.initials.xplayerPluginSettings.controlBar.largeMode={enabled:(" "+document.querySelector("html").className+" ").indexOf(" video-page--large-mode ")>-1},window.initials.xplayerSettings&&"string"==typeof window.location.hash&&/comment-\d+/.test(window.location.hash)&&(s()(r.a,{logFlash:function(e){document.querySelector("#player-swf").pause(),window.XPlayer.logFlash=null}}),s()(window.initials.xplayerSettings,{userSettings:{override:{autoplay:!1}}}),s()(window.initials.xplayerPluginSettings,{keyboard:{noFocus:!0}})),window.initials.xplayerPluginSettings&&window.initials.xplayerPluginSettings.ads&&(window.initials.xplayerPluginSettings.ads.hideAdCallback=function(){window.xplayer.core.emit(window.xplayer.events.PLAYER_PAUSE),window.showSignupDialog&&window.showSignupDialog()},window.initials.preroll&&(window.initials.xplayerPluginSettings.ads.trackCollectorExtra.ab=!window._tsNoAdBlock)),document.querySelector("#player-container").innerHTML="",window.xplayer=new r.a("player-container",window.initials.xplayerSettings,window.initials.xplayerPluginSettings),window.initials.preroll&&new l.a(window.xplayer),window.PlayStatistics&&new window.PlayStatistics(window.xplayer.core.videoElement,{enabled:!0})},function(e,t,i){"use strict";t.__esModule=!0;var n=w(i(1)),s=w(i(2));i(495);var a=w(i(805)),o=w(i(21)),r=w(i(509)),l=w(i(811)),u=w(i(516)),d=w(i(456)),c=w(i(518)),h=w(i(566)),f=w(i(806)),_=w(i(710)),v=w(i(697)),m=w(i(632)),p=w(i(692)),E=w(i(708)),y=w(i(638)),g=w(i(567)),b=w(i(519)),k=w(i(812)),A=w(i(633)),L=w(i(808)),T=w(i(809)),C=w(i(810)),R=w(i(634)),S=w(i(635)),O=w(i(568)),P=w(i(637));function w(e){return e&&e.__esModule?e:{default:e}}var N=[T.default,C.default,L.default,R.default],x=function(){function e(t,i,s){if((0,n.default)(this,e),i.preventFirstPlay=!(!s.ads||!s.ads.serverUrl),this.core=new a.default(t,i,s),this.events=o.default,"none"!==this.core.type)if("plain"!==i.version){if(this.core.emit(o.default.PLAYER_ON_INIT),this.loader=new d.default(this.core,s),this.ads=new O.default(this.core,P.default,s),this.core.autoplay)return this.core.once(o.default.PLAYER_ON_LOADED_DATA,this._loadPlugins.bind(this,s)),void this.core.once(o.default.PLAYER_ON_ERROR,this._loadMainPlugins.bind(this,s));this._loadPlugins(s)}else this._loadPlainPlugins(s)}return(0,s.default)(e,[{key:"_loadPlainPlugins",value:function(e){this.banner=new y.default(this.core,e)}},{key:"_loadMainPlugins",value:function(e){this.progressBar=new u.default(this.core,e),this.background=new r.default(this.core,e),this.hoverMenu=new f.default(this.core,e),this.overlayMenu=new v.default(this.core,e),this.controlBar=new l.default(this.core,e),this.settingsMenu=new A.default(this.core,N),this.contextMenu=new _.default(this.core,e),this.helpMenu=new E.default(this.core),this.qualityList=new S.default(this.core)}},{key:"_loadPlugins",value:function(e){this._loadPlainPlugins(e),this._loadMainPlugins(e),this.poster=new b.default(this.core,e),this.subscribe=new k.default(this.core,e),this.mouseControl=new c.default(this.core),this.keyboardControl=new h.default(this.core,e),this.startButton=new m.default(this.core,e),this.screenshot=new p.default(this.core),this.tooltip=new g.default(this.core)}}]),e}();window.XPlayer2=x,t.default=x},function(e,t,i){"use strict";i(1109)},function(e,t){}]);